/*! For license information please see main.4a6c2631.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},620:(e,t,n)=>{var r=n(6913),a=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+c+l+")*"),d="(?:"+[i+r+"?",r,o,s,n].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,i,o,s){var l=-1,c=t.length;for(i||(i=a),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,o,s):r(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),i=n(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),i=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),i=n(6832),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),i=n(9096);e.exports=function(e,t){var n={};return t=i(t,3),a(e,(function(e,a,i){r(n,a,t(e,a,i))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2322:(e,t,n)=>{var r=n(6913),a=n(5990),i=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),i=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=o(s+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),i=n(9096),o=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(i));var f=o(e,(function(e,n,a){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3143:e=>{e.exports={filterInvoices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"All",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=Array.isArray(e)?e.slice():[];if("PO Invoices"===t?a=a.filter((e=>"po_invoice"===e.invoice_type)):"All"===t||("Overdue"===t?a=a.filter((e=>"Overdue"===e.status)):"Not Sent"===t?a=a.filter((e=>"Not Sent"===e.status||"Draft"===e.status)):"All"!==t&&(a=a.filter((e=>e.status===t)))),r&&"string"===typeof r&&""!==r.trim()){const e=r.toLowerCase();a=a.filter((t=>(t.customer_name||"").toLowerCase().includes(e)||(t.supplier_name||"").toLowerCase().includes(e)||String(t.invoice_number||"").toLowerCase().includes(e)))}if(n){if(n.customer&&n.customer.trim()){const e=n.customer.toLowerCase();a=a.filter((t=>(t.customer_name||"").toLowerCase().includes(e)||(t.supplier_name||"").toLowerCase().includes(e)))}if(n.invoice_number&&n.invoice_number.trim()){const e=n.invoice_number.toLowerCase();a=a.filter((t=>String(t.invoice_number||"").toLowerCase().includes(e)))}if(n.dateFrom){const e=new Date(n.dateFrom);if(!isNaN(e)){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());a=a.filter((e=>{const n=e.bill_date||e.invoice_date||null,r=n?new Date(n):null;if(!r||isNaN(r))return!1;return new Date(r.getFullYear(),r.getMonth(),r.getDate())>=t}))}}if(n.dateTo){const e=new Date(n.dateTo);if(!isNaN(e)){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());a=a.filter((e=>{const n=e.bill_date||e.invoice_date||null,r=n?new Date(n):null;if(!r||isNaN(r))return!1;return new Date(r.getFullYear(),r.getMonth(),r.getDate())<=t}))}}if(n.minAmount&&!isNaN(parseFloat(n.minAmount))){const e=parseFloat(n.minAmount);a=a.filter((t=>(parseFloat(t.total_amount||t.invoice_amount||0)||0)>=e))}if(n.maxAmount&&!isNaN(parseFloat(n.maxAmount))){const e=parseFloat(n.maxAmount);a=a.filter((t=>(parseFloat(t.total_amount||t.invoice_amount||0)||0)<=e))}}const i=e=>{const t=new Date(e);return isNaN(t.getTime())?null:t},o=e=>i(e.created_at)||i(e.bill_date)||i(e.invoice_date)||null,s=e=>i(e.updated_at)||o(e);return a.sort(((e,t)=>{const n="paid"===String(e.status||"").toLowerCase();if(n!==("paid"===String(t.status||"").toLowerCase()))return n?1:-1;if(!n){const n=o(e),r=o(t);return n&&r?r-n:n&&!r?-1:!n&&r?1:0}const r=s(e),a=s(t);return r&&a?a-r:r&&!a?-1:!r&&a?1:0})),a}}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),i=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&a(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),i=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),o=void 0===o?t<n?1:-1:i(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),i=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:i)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),i=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],x=t[p];if(o)var b=c?o(x,y,p,t,e,l):o(y,x,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,(function(e,t){if(!i(g,t)&&(y===e||s(y,e,n,o,l)))return g.push(t)}))){m=!1;break}}else if(y!==x&&!s(y,x,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),i=n(2597),o=n(914);e.exports=function(e){return i(e)?r(o(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),i=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function v(){var e=a();if(b(e))return w(e);h=setTimeout(v,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,y&&l?x(e):(l=c=void 0,d)}function j(){var e=a(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(v,t),m?x(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(v,t),x(f)}return void 0===h&&(h=setTimeout(v,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(i(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?d:w(a())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)})),t}));e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var v=b.prototype=new x;v.constructor=b,m(v,y.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function S(e,t,r,a,i,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(){}function E(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return E((u=e._init)(e._payload),t,a,i,o)}}if(u)return o=o(e),u=""===i?"."+P(e,0):i,w(o)?(a="",null!=u&&(a=u.replace(k,"$&/")+"/"),E(o,t,a,"",(function(e){return e}))):null!=o&&(_(o)&&(l=o,c=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+u,o=S(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=E(i=e[m],t,a,s=p+P(i,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=E(i=i.value,t,a,s=p+P(i,m++),o);else if("object"===s){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!N.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];r.children=o}return S(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var o=arguments.length-2;if(1===o)a.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===a[r]&&(a[r]=o[r]);return S(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(L,T)}catch(i){T(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4416:(e,t,n)=>{var r=n(8902),a=n(5866),i=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=o,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var x=p.length;x--;)if(p[x]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),i=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,a){return n=!!t(e,r,a)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),i=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),i=n(3366),o=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),i=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),i=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),i=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),i=n(6350);e.exports=function(e,t){return i(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],x=t[h];if(i)var b=l?i(x,y,h,t,e,s):i(y,x,h,e,t,s);if(!(void 0===b?y===x||o(y,x,n,i,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var v=e.constructor,w=t.constructor;v==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=n.length;++a<s;){var c=r(i[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function j(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,S||(S=!0,N());else{var t=r(u);null!==t&&T(j,t.startTime-e)}}var N,S=!1,_=-1,k=5,P=-1;function A(){return!!y||!(t.unstable_now()-P<k)}function E(){if(y=!1,S){var e=t.unstable_now();P=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&T(j,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?N():S=!1}}}if("function"===typeof v)N=function(){v(E)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,C=O.port2;O.port1.onmessage=E,N=function(){C.postMessage(null)}}else N=function(){x(E,0)};function T(e,n){_=x((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,T(j,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,S||(S=!0,N()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===i}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),i=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var x=l(e),b=l(t),v=x?h:s(e),w=b?h:s(t),j=(v=v==d?f:v)==f,N=(w=w==d?f:w)==f,S=v==w;if(S&&c(e)){if(!c(t))return!1;x=!0,j=!1}if(S&&!j)return y||(y=new r),x||u(e)?a(e,t,n,m,g,y):i(e,t,v,n,m,g,y);if(!(1&n)){var _=j&&p.call(e,"__wrapped__"),k=N&&p.call(t,"__wrapped__");if(_||k){var P=_?e.value():e,A=k?t.value():t;return y||(y=new r),g(P,A,n,m,y)}}return!!S&&(y||(y=new r),o(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==a(s[o],o,s););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,i){var o=n.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(i)var p=i(d,h,u,e,t,f);if(!(void 0===p?a(h,d,3,i,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e===e,o=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||a&&s&&c||!n&&c||!i)return 1;if(!a&&!o&&!u&&e<t||u&&n&&i&&!a&&!o||l&&n&&i||!s&&i||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6672:(e,t,n)=>{"use strict";var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=[{id:"1",orderId:"813789",date:"Feb 08, 2022",particulars:"DNR PRINT (SUB-LEVEL)",rate:90,quantity:12,mtr:"11,941",credit:"571,119.41",debit:"-",balance:"571,119.41",billsCHQ:"869",days:471,dueDate:"20-March-2025",customer:"Noor Textile",price:"90000",status:"Pending"},{id:"813790",orderId:"813790",date:"Feb 08, 2025",particulars:"-",rate:0,quantity:0,mtr:"-",credit:"-",debit:"-",balance:"-",billsCHQ:"-",days:"-",dueDate:"-",customer:"Malik Fabrics",price:"90000",status:"Preparing"},{id:"813791",orderId:"813791",date:"Feb 08, 2025",particulars:"-",rate:0,quantity:0,mtr:"-",credit:"-",debit:"-",balance:"-",billsCHQ:"-",days:"-",dueDate:"-",customer:"Ahmed Textiles",price:"90000",status:"Cancelled"},{id:"813792",orderId:"813792",date:"Feb 08, 2025",particulars:"-",rate:0,quantity:0,mtr:"-",credit:"-",debit:"-",balance:"-",billsCHQ:"-",days:"-",dueDate:"-",customer:"Ahmed Textiles",price:"90000",status:"Delivered"},{id:"813793",orderId:"813793",date:"Feb 08, 2025",particulars:"-",rate:0,quantity:0,mtr:"-",credit:"-",debit:"-",balance:"-",billsCHQ:"-",days:"-",dueDate:"-",customer:"Zainab Cloth House",price:"90000",status:"On the way"}]},6745:(e,t,n)=>{var r=n(9742),a=n(61),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),i=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),i=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(a),y=c(i),x=c(o),b=c(s),v=l;(r&&v(new r(new ArrayBuffer(1)))!=p||a&&v(new a)!=u||i&&v(i.resolve())!=d||o&&v(new o)!=h||s&&v(new s)!=f)&&(v=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case x:return h;case b:return f}return t}),e.exports=v},6954:(e,t,n)=>{var r=n(1629),a=n(7857),i=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?h:s).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),i=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},7004:(e,t,n)=>{"use strict";var r=n(8853),a=n(5043),i=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var P=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case N:return"Suspense";case S:return"SuspenseList";case P:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var L=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},R=[],M=-1;function B(e){return{current:e}}function z(e){0>M||(e.current=R[M],R[M]=null,M--)}function U(e,t){M++,R[M]=e.current,e.current=t}var q=B(null),$=B(null),W=B(null),H=B(null);function K(e,t){switch(U(W,t),U($,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(q),U(q,e)}function V(){z(q),z($),z(W)}function G(e){null!==e.memoizedState&&U(H,e);var t=q.current,n=id(t,e.type);t!==n&&(U($,e),U(q,n))}function Y(e){$.current===e&&(z(q),z($)),H.current===e&&(z(H),Gd._currentValue=I)}var X=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function xe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?a=xe(r):0!==(o&=s)?a=xe(o):n||0!==(n=s&~e)&&(a=xe(n)):0!==(s=r&~i)?a=xe(s):0!==o?a=xe(o):n||0!==(n=r&~e)&&(a=xe(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ne(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ee(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ce=Math.random().toString(36).slice(2),Te="__reactFiber$"+Ce,Le="__reactProps$"+Ce,De="__reactContainer$"+Ce,Fe="__reactEvents$"+Ce,Ie="__reactListeners$"+Ce,Re="__reactHandles$"+Ce,Me="__reactResources$"+Ce,Be="__reactMarker$"+Ce;function ze(e){delete e[Te],delete e[Le],delete e[Fe],delete e[Ie],delete e[Re]}function Ue(e){var t=e[Te];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Te]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Te])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Te]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function We(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Be]=!0}var Ke=new Set,Ve={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ve[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,Qe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,X.call(et,a)||!X.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Qe}var it=!1;function ot(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,a,i,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?xt(e,o,ct(t)):null!=n?xt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,a,i,o,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function xt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(L(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&St(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Lt=null;function Dt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Le]||null;if(!a)throw Error(o(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ft=!1;function It(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Tt||null!==Lt)&&(Uc(),Tt&&(t=Tt,e=Lt,Lt=Tt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Mt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Lh){Bt=!1}var Ut=null,qt=null,$t=null;function Wt(){if($t)return $t;var e,t,n=qt,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Vt(){return!1}function Gt(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Vt,this.isPropagationStopped=Vt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Xt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Yt=e.screenX-Qt.screenX,Xt=e.screenY-Qt.screenY):Xt=Yt=0,Qt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Gt(nn),an=Gt(h({},nn,{dataTransfer:0})),on=Gt(h({},en,{relatedTarget:0})),sn=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),xn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Gt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=Mt&&"CompositionEvent"in window,Nn=null;Mt&&"documentMode"in document&&(Nn=document.documentMode);var Sn=Mt&&"TextEvent"in window&&!Nn,_n=Mt&&(!jn||Nn&&8<Nn&&11>=Nn),kn=String.fromCharCode(32),Pn=!1;function An(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Cn[e.type]:"textarea"===t}function Ln(e,t,n,r){Tt?Lt?Lt.push(r):Lt=[r]:Tt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Fn=null;function In(e){Iu(e,0)}function Rn(e){if(ht($e(e)))return e}function Mn(e,t){if("change"===e)return t}var Bn=!1;if(Mt){var zn;if(Mt){var Un="oninput"in document;if(!Un){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Un="function"===typeof qn.oninput}zn=Un}else zn=!1;Bn=zn&&(!document.documentMode||9<document.documentMode)}function $n(){Dn&&(Dn.detachEvent("onpropertychange",Wn),Fn=Dn=null)}function Wn(e){if("value"===e.propertyName&&Rn(Fn)){var t=[];Ln(t,Fn,e,Ct(e)),It(In,t)}}function Hn(e,t,n){"focusin"===e?($n(),Fn=n,(Dn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&$n()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(Fn)}function Vn(e,t){if("click"===e)return Rn(t)}function Gn(e,t){if("input"===e||"change"===e)return Rn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,or=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Xn(ir,r)||(ir=r,0<(r=Wu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),xr=hr("transitioncancel"),br=hr("transitionend"),vr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){vr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Nr=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],kr=0,Pr=0;function Ar(){for(var e=kr,t=Pr=kr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,null!==r&&null!==a){var o=r.pending;null===o?a.next=a:(a.next=o.next,o.next=a),r.pending=a}0!==i&&Tr(n,a,i)}}function Er(e,t,n,r){_r[kr++]=e,_r[kr++]=t,_r[kr++]=n,_r[kr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Er(e,t,n,r),Lr(e)}function Cr(e,t){return Er(e,null,null,t),Lr(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Lr(e){if(50<Tc)throw Tc=0,Lc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,n,r){return new Fr(e,t,n,r)}function Rr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Ir(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,a,i){var s=0;if(r=e,"function"===typeof e)Rr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Ir(31,n,t,a)).elementType=P,e.lanes=i,e;case g:return Ur(n.children,a,i,t);case y:s=8,a|=24;break;case x:return(e=Ir(12,n,t,2|a)).elementType=x,e.lanes=i,e;case N:return(e=Ir(13,n,t,a)).elementType=N,e.lanes=i,e;case S:return(e=Ir(19,n,t,a)).elementType=S,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case v:s=9;break e;case j:s=11;break e;case _:s=14;break e;case k:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Ir(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ur(e,t,n,r){return(e=Ir(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Ir(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Ir(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,Kr=null,Vr=0,Gr=[],Yr=0,Xr=null,Qr=1,Jr="";function Zr(e,t){Wr[Hr++]=Vr,Wr[Hr++]=Kr,Kr=e,Vr=t}function ea(e,t,n){Gr[Yr++]=Qr,Gr[Yr++]=Jr,Gr[Yr++]=Xr,Xr=e;var r=Qr;e=Jr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var i=32-fe(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Qr=1<<32-fe(t)+a|n<<a|r,Jr=i+e}else Qr=1<<i|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Kr;)Kr=Wr[--Hr],Wr[Hr]=null,Vr=Wr[--Hr],Wr[Hr]=null;for(;e===Xr;)Xr=Gr[--Yr],Gr[Yr]=null,Jr=Gr[--Yr],Gr[Yr]=null,Qr=Gr[--Yr],Gr[Yr]=null}var ra=null,aa=null,ia=!1,oa=null,sa=!1,la=Error(o(519));function ca(e){throw ma(Sr(Error(o(418,"")),e)),la}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Te]=e,t[Le]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Ru(Du[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=Qu),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(sa=!1);case 27:case 3:return void(sa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return da(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,fd(e.type)?(e=xd,xd=null,aa=e):aa=n):aa=ra?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=ra=null,ia=!1}function pa(){var e=oa;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),oa=null),e}function ma(e){null===oa?oa=[e]:oa.push(e)}var ga=B(null),ya=null,xa=null;function ba(e,t,n){U(ga,t._currentValue),t._currentValue=n}function va(e){e._currentValue=ga.current,z(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var s=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),wa(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),wa(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Na(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===H.current){if(null===(s=a.alternate))throw Error(o(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function Sa(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){ya=e,xa=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ka(e){return Aa(ya,e)}function Pa(e,t){return null===ya&&_a(e),Aa(e,t)}function Aa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xa){if(null===e)throw Error(o(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return n}var Ea="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Oa=r.unstable_scheduleCallback,Ca=r.unstable_NormalPriority,Ta={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function La(){return{controller:new Ea,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Oa(Ca,(function(){e.controller.abort()}))}var Fa=null,Ia=0,Ra=0,Ma=null;function Ba(){if(0===--Ia&&null!==Fa){null!==Ma&&(Ma.status="fulfilled");var e=Fa;Fa=null,Ra=0,Ma=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var za=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Fa){var n=Fa=[];Ia=0,Ra=Eu(),Ma={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ia++,t.then(Ba,Ba)}(0,t),null!==za&&za(e,t)};var Ua=B(null);function qa(){var e=Ua.current;return null!==e?e:rc.pooledCache}function $a(e,t){U(Ua,null===t?Ua.current:t.pool)}function Wa(){var e=qa();return null===e?null:{parent:Ta._currentValue,pool:e}}var Ha=Error(o(460)),Ka=Error(o(474)),Va=Error(o(542)),Ga={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Qa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Ja=t,Ha}}var Ja=null;function Za(){if(null===Ja)throw Error(o(459));var e=Ja;return Ja=null,e}function ei(e){if(e===Ha||e===Va)throw Error(o(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Lr(e),Tr(e,null,n),t}return Er(e,r,t,n),Lr(e)}function oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Ma)throw Ma}}function ui(e,t,n,r){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===Ra&&(li=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var fi=B(null),pi=B(0);function mi(e,t){U(pi,e=dc),U(fi,t),dc=e|t.baseLanes}function gi(){U(pi,dc),U(fi,fi.current)}function yi(){dc=pi.current,z(fi),z(pi)}var xi=0,bi=null,vi=null,wi=null,ji=!1,Ni=!1,Si=!1,_i=0,ki=0,Pi=null,Ai=0;function Ei(){throw Error(o(321))}function Oi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ci(e,t,n,r,a,i){return xi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ko:Vo,Si=!1,i=n(r,a),Si=!1,Ni&&(i=Li(t,n,r,a)),Ti(e),i}function Ti(e){D.H=Ho;var t=null!==vi&&null!==vi.next;if(xi=0,wi=vi=bi=null,ji=!1,ki=0,Pi=null,t)throw Error(o(300));null===e||Ps||null!==(e=e.dependencies)&&Sa(e)&&(Ps=!0)}function Li(e,t,n,r){bi=e;var a=0;do{if(Ni&&(Pi=null),ki=0,Ni=!1,25<=a)throw Error(o(301));if(a+=1,wi=vi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Go,i=t(n,r)}while(Ni);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?zi(t):t,e=e.useState()[0],(null!==vi?vi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Fi(){var e=0!==_i;return _i=0,e}function Ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ri(e){if(ji){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ji=!1}xi=0,wi=vi=bi=null,Ni=!1,ki=_i=0,Pi=null}function Mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function Bi(){if(null===vi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=vi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,vi=e;else{if(null===e){if(null===bi.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(vi=e).memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function zi(e){var t=ki;return ki+=1,null===Pi&&(Pi=[]),e=Qa(Pi,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ko:Vo),e}function Ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zi(e);if(e.$$typeof===w)return ka(e)}throw Error(o(438,String(e)))}function qi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function $i(e,t){return"function"===typeof t?t(e):t}function Wi(e){return Hi(Bi(),vi,e)}function Hi(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(xi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ra&&(d=!0);else{if((xi&f)===f){u=u.next,f===Ra&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Si&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Yn(i,e.memoizedState)&&(Ps=!0,d&&null!==(n=Ma)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=Bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);Yn(i,t.memoizedState)||(Ps=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vi(e,t,n){var r=bi,a=Bi(),i=ia;if(i){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Yn((vi||a).memoizedState,n);if(s&&(a.memoizedState=n,Ps=!0),a=a.queue,yo(2048,8,Xi.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,a,n,t),null),null===rc)throw Error(o(349));i||0!==(124&xi)||Gi(r,t,n)}return n}function Gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Qi(t)&&Ji(e)}function Xi(e,t,n){return n((function(){Qi(t)&&Ji(e)}))}function Qi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ji(e){var t=Cr(e,2);null!==t&&Ic(t,e,2)}function Zi(e){var t=Mi();if("function"===typeof e){var n=e;if(e=n(),Si){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Hi(e,vi,"function"===typeof r?r:$i)}function to(e,t,n,r,a){if(qo(e))throw Error(o(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,no(t,i)):(i.next=n.next,t.pending=n.next=i)}}function no(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=D.T,o={};D.T=o;try{var s=n(a,r),l=D.S;null!==l&&l(o,s),ro(e,t,s)}catch(c){io(e,t,c)}finally{D.T=i}}else try{ro(e,t,i=n(a,r))}catch(u){io(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ao(e,t,n)}),(function(n){return io(e,t,n)})):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function io(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ia){var n=rc.formState;if(null!==n){e:{var r=bi;if(ia){if(aa){t:{for(var a=aa,i=sa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=yd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Mi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=r,n=Bo.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=Uo.bind(null,bi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Mi()).queue=a,n=to.bind(null,bi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(Bi(),vi,e)}function uo(e,t,n){if(t=Hi(e,t,so)[0],e=Wi($i)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zi(t)}catch(o){if(o===Ha)throw Va;throw o}else r=t;var a=(t=Bi()).queue,i=a.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,a,n),null)),[r,i,e]}function ho(e,t){e.action=t}function fo(e){var t=Bi(),n=vi;if(null!==n)return uo(t,n,e);Bi(),t=t.memoizedState;var r=(n=Bi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return Bi().memoizedState}function go(e,t,n,r){var a=Mi();r=void 0===r?null:r,bi.flags|=e,a.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var a=Bi();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==vi&&null!==r&&Oi(r,vi.memoizedState.deps)?a.memoizedState=po(t,i,n,r):(bi.flags|=e,a.memoizedState=po(1|t,i,n,r))}function xo(e,t){go(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function vo(e,t){return yo(4,2,e,t)}function wo(e,t){return yo(4,4,e,t)}function jo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function No(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,jo.bind(null,t,e),n)}function So(){}function _o(e,t){var n=Bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Oi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ko(e,t){var n=Bi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Oi(t,r[1]))return r[0];if(r=e(),Si){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Po(e,t,n){return void 0===n||0!==(1073741824&xi)?e.memoizedState=t:(e.memoizedState=n,e=Fc(),bi.lanes|=e,fc|=e,n)}function Ao(e,t,n,r){return Yn(n,t)?n:null!==fi.current?(e=Po(e,n,r),Yn(e,t)||(Ps=!0),e):0===(42&xi)?(Ps=!0,e.memoizedState=n):(e=Fc(),bi.lanes|=e,fc|=e,t)}function Eo(e,t,n,r,a){var i=F.p;F.p=0!==i&&8>i?i:8;var o=D.T,s={};D.T=s,Uo(e,!1,t,n);try{var l=a(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Dc());else zo(e,t,r,Dc())}catch(u){zo(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{F.p=i,D.T=o}}function Oo(){}function Co(e,t,n,r){if(5!==e.tag)throw Error(o(476));var a=To(e).queue;Eo(e,a,t,I,null===n?Oo:function(){return Lo(e),n(r)})}function To(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Lo(e){zo(e,To(e).next.queue,{},Dc())}function Do(){return ka(Gd)}function Fo(){return Bi().memoizedState}function Io(){return Bi().memoizedState}function Ro(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ii(t,e=ai(n),n);return null!==r&&(Ic(r,t,n),oi(r,t,n)),t={cache:La()},void(e.payload=t)}t=t.return}}function Mo(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qo(e)?$o(t,n):null!==(n=Or(e,t,n,r))&&(Ic(n,e,r),Wo(n,t,r))}function Bo(e,t,n){zo(e,t,n,Dc())}function zo(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qo(e))$o(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Yn(s,o))return Er(e,t,a,0),null===rc&&Ar(),!1}catch(l){}if(null!==(n=Or(e,t,a,r)))return Ic(n,e,r),Wo(n,t,r),!0}return!1}function Uo(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},qo(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&Ic(t,e,2)}function qo(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function $o(e,t){Ni=ji=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Ho={readContext:ka,use:Ui,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useLayoutEffect:Ei,useInsertionEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useSyncExternalStore:Ei,useId:Ei,useHostTransitionStatus:Ei,useFormState:Ei,useActionState:Ei,useOptimistic:Ei,useMemoCache:Ei,useCacheRefresh:Ei},Ko={readContext:ka,use:Ui,useCallback:function(e,t){return Mi().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:xo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=Mi();t=void 0===t?null:t;var r=e();if(Si){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Mi();if(void 0!==n){var a=n(t);if(Si){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Mo.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Mi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Bo.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:So,useDeferredValue:function(e,t){return Po(Mi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Eo.bind(null,bi,e.queue,!0,!1),Mi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,a=Mi();if(ia){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&ic)||Gi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,xo(Xi.bind(null,r,i,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Mi(),t=rc.identifierPrefix;if(ia){var n=Jr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-fe(Qr)-1)).toString(32)+n),0<(n=_i++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ai++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Mi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Uo.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:qi,useCacheRefresh:function(){return Mi().memoizedState=Ro.bind(null,bi)}},Vo={readContext:ka,use:Ui,useCallback:_o,useContext:ka,useEffect:bo,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:wo,useMemo:ko,useReducer:Wi,useRef:mo,useState:function(){return Wi($i)},useDebugValue:So,useDeferredValue:function(e,t){return Ao(Bi(),vi.memoizedState,e,t)},useTransition:function(){var e=Wi($i)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Vi,useId:Fo,useHostTransitionStatus:Do,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Bi(),0,e,t)},useMemoCache:qi,useCacheRefresh:Io},Go={readContext:ka,use:Ui,useCallback:_o,useContext:ka,useEffect:bo,useImperativeHandle:No,useInsertionEffect:vo,useLayoutEffect:wo,useMemo:ko,useReducer:Ki,useRef:mo,useState:function(){return Ki($i)},useDebugValue:So,useDeferredValue:function(e,t){var n=Bi();return null===vi?Po(n,e,t):Ao(n,vi.memoizedState,e,t)},useTransition:function(){var e=Ki($i)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Vi,useId:Fo,useHostTransitionStatus:Do,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Bi();return null!==vi?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qi,useCacheRefresh:Io},Yo=null,Xo=0;function Qo(e){var t=Xo;return Xo+=1,null===Yo&&(Yo=[]),Qa(Yo,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===k&&es(i)===t.type)?(Jo(t=a(t,n.props),n),t.return=e,t):(Jo(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case k:return h(e,t=(0,t._init)(t._payload),n)}if(L(t)||O(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Qo(t),n);if(t.$$typeof===w)return h(e,Pa(e,t),n);Zo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?u(e,t,n,r):null;case k:return f(e,t,n=(a=n._init)(n._payload),r)}if(L(n)||O(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Qo(n),r);if(n.$$typeof===w)return f(e,t,Pa(e,n),r);Zo(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(L(r)||O(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,Qo(r),a);if(r.$$typeof===w)return y(e,t,n,Pa(t,r),a);Zo(t,r)}return null}function x(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===k&&es(b)===c.type){n(l,c.sibling),Jo(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Ur(u.props.children,l.mode,d,u.key)).return=l,l=d):(Jo(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return s(l);case k:return x(l,c,u=(b=u._init)(u._payload),d)}if(L(u))return function(a,o,s,l){for(var c=null,u=null,d=o,p=o=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,s[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),o=i(g,o,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===s.length)return n(a,d),ia&&Zr(a,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(a,s[p],l))&&(o=i(d,o,p),null===u?c=d:u.sibling=d,u=d);return ia&&Zr(a,p),c}for(d=r(d);p<s.length;p++)null!==(m=y(d,a,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=i(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(a,e)})),ia&&Zr(a,p),c}(l,c,u,d);if(O(u)){if("function"!==typeof(b=O(u)))throw Error(o(150));return function(a,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,p=s,m=s=0,g=null,x=l.next();null!==p&&!x.done;m++,x=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(a,p,x.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(a,p),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b,p=g}if(x.done)return n(a,p),ia&&Zr(a,m),u;if(null===p){for(;!x.done;m++,x=l.next())null!==(x=h(a,x.value,c))&&(s=i(x,s,m),null===d?u=x:d.sibling=x,d=x);return ia&&Zr(a,m),u}for(p=r(p);!x.done;m++,x=l.next())null!==(x=y(p,a,m,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?m:x.key),s=i(x,s,m),null===d?u=x:d.sibling=x,d=x);return e&&p.forEach((function(e){return t(a,e)})),ia&&Zr(a,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return x(l,c,Qo(u),d);if(u.$$typeof===w)return x(l,c,Pa(l,u),d);Zo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{Xo=0;var a=x(e,t,n,r);return Yo=null,a}catch(o){if(o===Ha||o===Va)throw o;var i=Ir(29,o,null,e.mode);return i.lanes=r,i.return=e,i}}}var ns=ts(!0),rs=ts(!1),as=B(null),is=null;function os(e){var t=e.alternate;U(us,1&us.current),U(as,e),null===is&&(null===t||null!==fi.current||null!==t.memoizedState)&&(is=e)}function ss(e){if(22===e.tag){if(U(us,us.current),U(as,e),null===is){var t=e.alternate;null!==t&&null!==t.memoizedState&&(is=e)}}else ls()}function ls(){U(us,us.current),U(as,as.current)}function cs(e){z(as),is===e&&(is=null),z(us)}var us=B(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Ic(t,e,r),oi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Ic(t,e,r),oi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ai(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Ic(t,e,n),oi(t,e,n))}};function ps(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,i))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function xs(e){ys(e)}function bs(e){console.error(e)}function vs(e){ys(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function js(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ns(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function Ss(e){return(e=ai(e)).tag=3,e}function _s(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){js(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){js(t,n,r),"function"!==typeof a&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var ks=Error(o(461)),Ps=!1;function As(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Es(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return _a(t),r=Ci(e,t,n,o,i,a),s=Fi(),null===e||Ps?(ia&&s&&ta(t),t.flags|=1,As(e,t,r,a),t.child):(Ii(e,t,a),Ys(e,t,a))}function Os(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Rr(i)||void 0!==i.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Cs(e,t,i,r,a))}if(i=e.child,!Xs(e,a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(o,r)&&e.ref===t.ref)return Ys(e,t,a)}return t.flags|=1,(e=Mr(i,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Xn(i,r)&&e.ref===t.ref){if(Ps=!1,t.pendingProps=r=i,!Xs(e,a))return t.lanes=e.lanes,Ys(e,t,a);0!==(131072&e.flags)&&(Ps=!0)}}return Fs(e,t,n,r,a)}function Ts(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ls(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ls(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$a(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),ss(t)}else null!==i?($a(0,i.cachePool),mi(t,i),ls(),t.memoizedState=null):(null!==e&&$a(0,null),gi(),ls());return As(e,t,a,n),t.child}function Ls(e,t,n,r){var a=qa();return a=null===a?null:{parent:Ta._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&$a(0,null),gi(),ss(t),null!==e&&Na(e,t,r,!0),null}function Ds(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Fs(e,t,n,r,a){return _a(t),n=Ci(e,t,n,r,void 0,a),r=Fi(),null===e||Ps?(ia&&r&&ta(t),t.flags|=1,As(e,t,n,a),t.child):(Ii(e,t,a),Ys(e,t,a))}function Is(e,t,n,r,a,i){return _a(t),t.updateQueue=null,n=Li(t,r,n,a),Ti(e),r=Fi(),null===e||Ps?(ia&&r&&ta(t),t.flags|=1,As(e,t,n,i),t.child):(Ii(e,t,i),Ys(e,t,i))}function Rs(e,t,n,r,a){if(_a(t),null===t.stateNode){var i=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(i=ka(o)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),o=n.contextType,i.context="object"===typeof o&&null!==o?ka(o):Dr,i.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(hs(t,n,o,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(o=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),o!==i.state&&fs.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=gs(n,s);i.props=l;var c=i.context,u=n.contextType;o=Dr,"object"===typeof u&&null!==u&&(o=ka(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==o)&&ms(t,i,r,o),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),ci(),c=t.memoizedState,s||h!==c||ti?("function"===typeof d&&(hs(t,n,d,r),c=t.memoizedState),(l=ti||ps(t,n,l,r,h,c,o))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=o,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=gs(n,o=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=ka(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&ms(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),ci();var f=t.memoizedState;o!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Sa(e.dependencies)?("function"===typeof s&&(hs(t,n,s,r),f=t.memoizedState),(u=ti||ps(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Sa(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ds(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,a),t.child=ns(t,null,n,a)):As(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Ys(e,t,a),e}function Ms(e,t,n,r){return fa(),t.flags|=256,As(e,t,n,r),t.child}var Bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:Wa()}}function Us(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function qs(e,t,n){var r,a=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?os(t):ls(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=sa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Ir(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=a.children,a=a.fallback,i?(ls(),c=Ws({mode:"hidden",children:c},i=t.mode),a=Ur(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=zs(n),i.childLanes=Us(e,r,n),t.memoizedState=Bs,a):(os(t),$s(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Hs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),i=a.fallback,c=t.mode,a=Ws({mode:"visible",children:a.children},c),(i=Ur(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,ns(t,e.child,null,n),(a=t.child).memoizedState=zs(n),a.childLanes=Us(e,r,n),t.memoizedState=Bs,t=i);else if(os(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(o(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=Hs(e,t,n)}else if(Ps||Na(e,t,n,!1),r=0!==(n&e.childLanes),Ps||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ae(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Cr(e,a),Ic(r,e,a),ks;"$?"===c.data||Vc(),t=Hs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),ra=t,ia=!0,oa=null,sa=!1,null!==e&&(Gr[Yr++]=Qr,Gr[Yr++]=Jr,Gr[Yr++]=Xr,Qr=e.id,Jr=e.overflow,Xr=t),(t=$s(t,a.children)).flags|=4096);return t}return i?(ls(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Mr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Mr(u,i):(i=Ur(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=zs(n):(null!==(l=c.cachePool)?(u=Ta._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wa(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Us(e,r,n),t.memoizedState=Bs,a):(os(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $s(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=Ir(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hs(e,t,n){return ns(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Vs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Gs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(As(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(us,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ds(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vs(t,!0,n,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Na(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sa(e))}function Qs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ps=!0;else{if(!Xs(e,n)&&0===(128&t.flags))return Ps=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ba(0,Ta,e.memoizedState.cache),fa();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qs(e,t,n):(os(t),null!==(e=Ys(e,t,n))?e.sibling:null);os(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Na(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n);case 24:ba(0,Ta,e.memoizedState.cache)}return Ys(e,t,n)}(e,t,n);Ps=0!==(131072&e.flags)}else Ps=!1,ia&&0!==(1048576&t.flags)&&ea(t,Vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=Es(null,t,r,e,n);break e}if(a===_){t.tag=14,t=Os(null,t,r,e,n);break e}}throw t=T(r)||r,Error(o(306,t,""))}Rr(r)?(e=gs(r,e),t.tag=1,t=Rs(null,t,r,e,n)):(t.tag=0,t=Fs(null,t,r,e,n))}return t;case 0:return Fs(e,t,t.type,t.pendingProps,n);case 1:return Rs(e,t,r=t.type,a=gs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ri(e,t),ui(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ba(0,Ta,r),r!==i.cache&&ja(t,[Ta],n,!0),ci(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ms(e,t,r,n);break e}if(r!==a){ma(a=Sr(Error(o(424)),t)),t=Ms(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ra=t,ia=!0,oa=null,sa=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Ys(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 26:return Ds(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=rd(W.current).createElement(n))[Te]=t,r[Le]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ia&&(r=t.stateNode=vd(t.type,t.pendingProps,W.current),ra=t,sa=!0,a=aa,fd(t.type)?(xd=a,aa=yd(r.firstChild)):aa=a),As(e,t,t.pendingProps.children,n),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,sa))?(t.stateNode=r,ra=t,aa=yd(r.firstChild),sa=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,od(a,i)?r=null:null!==s&&od(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=Ci(e,t,Di,null,null,n),Gd._currentValue=a),Ds(e,t),As(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,sa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return qs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):As(e,t,r,n),t.child;case 11:return Es(e,t,t.type,t.pendingProps,n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),As(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,_a(t),r=r(a=ka(a)),t.flags|=1,As(e,t,r,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ws(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ts(e,t,n);case 24:return _a(t),r=ka(Ta),null===e?(null===(a=qa())&&(a=rc,i=La(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ni(t),ba(0,Ta,a)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Ta,r)):(r=i.cache,ba(0,Ta,r),r!==a.cache&&ja(t,[Ta],n,!0))),As(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=as.current)&&((4194048&ic)===ic?null!==is:(62914560&ic)!==ic&&0===(536870912&ic)||t!==is))throw Ja=Ga,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),va(Ta),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=W.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=q.current,ha(t)?ua(t):(e=vd(a,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=q.current,ha(t))ua(t);else{switch(a=rd(W.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Te]=t,e[Le]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=W.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Te]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[Te]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return V(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return va(t.type),nl(t),null;case 19:if(z(us),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ds(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return U(us,1&us.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return nl(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=us.current,U(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Ua),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),va(Ta),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return va(Ta),V(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(us),null;case 4:return V(),null;case 10:return va(t.type),null;case 22:case 23:return cs(t),yi(),null!==e&&z(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return va(Ta),null;default:return null}}function il(e,t){switch(na(t),t.tag){case 3:va(Ta),V();break;case 26:case 27:case 5:Y(t);break;case 4:V();break;case 13:cs(t);break;case 19:z(us);break;case 10:va(t.type);break;case 22:case 23:cs(t),yi(),null!==e&&z(Ua);break;case 24:va(Ta)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==a)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,a=t;var l=n,c=s;try{c()}catch(u){uu(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,s,l,c,u,d,i,a);case"select":for(i in p=s=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Ju(e,t,a,i,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=a||null!=i))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==i&&Ju(e,t,s,a,r,i)}return void vt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(kt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var x in n)f=n[x],n.hasOwnProperty(x)&&null!=f&&!r.hasOwnProperty(x)&&Ju(e,t,x,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[Le]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function xl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Te]=e,t[Le]=n}catch(i){uu(e,e.return,i)}}var bl=!1,vl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,Nl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Rl(e,n),4&r&&ol(5,n);break;case 1:if(Rl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var a=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Rl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&xl(n);case 26:case 5:Rl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Rl(e,n);break;case 13:Rl(e,n),4&r&&Ol(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||vl,a=bl;var i=vl;bl=r,(vl=t)&&!i?Bl(e,n,0!==(8772&n.subtreeFlags)):Rl(e,n),bl=a,vl=i}break;case 30:break;default:Rl(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kl=null,Pl=!1;function Al(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:vl||dl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vl||dl(n,t);var r=kl,a=Pl;fd(n.type)&&(kl=n.stateNode,Pl=!1),Al(e,t,n),wd(n.stateNode),kl=r,Pl=a;break;case 5:vl||dl(n,t);case 6:if(r=kl,a=Pl,kl=null,Al(e,t,n),Pl=a,null!==(kl=r))if(Pl)try{(9===kl.nodeType?kl.body:"HTML"===kl.nodeName?kl.ownerDocument.body:kl).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{kl.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==kl&&(Pl?(pd(9===(e=kl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ph(e)):pd(kl,n.stateNode));break;case 4:r=kl,a=Pl,kl=n.stateNode.containerInfo,Pl=!0,Al(e,t,n),kl=r,Pl=a;break;case 0:case 11:case 14:case 15:vl||sl(2,n,t),vl||sl(4,n,t),Al(e,t,n);break;case 1:vl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:vl=(r=vl)||null!==n.memoizedState,Al(e,t,n),vl=r;break;default:Al(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ph(e)}catch(n){uu(t,t.return,n)}}function Cl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Tl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){kl=l.stateNode,Pl=!1;break e}break;case 5:kl=l.stateNode,Pl=!1;break e;case 3:case 4:kl=l.stateNode.containerInfo,Pl=!0;break e}l=l.return}if(null===kl)throw Error(o(160));El(i,s,a),kl=null,Pl=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ll=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tl(t,e),Fl(e),4&r&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Tl(t,e),Fl(e),512&r&&(vl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Ll;if(Tl(t,e),Fl(e),512&r&&(vl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Be]||i[Te]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,r,n),i[Te]=e,He(i),r=i;break e;case"link":var s=Bd("link","href",a).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(s=Bd("meta","content",a).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(o(468,r))}i[Te]=e,He(i),r=i}e.stateNode=r}else zd(a,e.type,e.stateNode);else e.stateNode=Dd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?zd(a,e.type,e.stateNode):Dd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tl(t,e),Fl(e),512&r&&(vl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tl(t,e),Fl(e),512&r&&(vl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Tl(t,e),Fl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Md=null,a=Ll,Ll=Sd(t.containerInfo),Tl(t,e),Ll=a,Fl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Il(e));break;case 4:r=Ll,Ll=Sd(e.stateNode.containerInfo),Tl(t,e),Fl(e),Ll=r;break;case 12:default:Tl(t,e),Fl(e);break;case 13:Tl(t,e),Fl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Cl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=vl;if(bl=u||a,vl=d||c,Tl(t,e),vl=d,bl=u,Fl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||bl||vl||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Cl(e,n))));break;case 19:Tl(t,e),Fl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Cl(e,r)));case 30:case 21:}}function Fl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,ml(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Il(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Rl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ml(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ml(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Bl(a,i,n),ol(4,i);break;case 1:if(Bl(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var s=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],s)}catch(c){uu(r,r.return,c)}}n&&64&o&&ll(i),ul(i,i.return);break;case 27:xl(i);case 26:case 5:Bl(a,i,n),n&&null===r&&4&o&&hl(i),ul(i,i.return);break;case 12:Bl(a,i,n);break;case 13:Bl(a,i,n),n&&4&o&&Ol(a,i);break;case 22:null===i.memoizedState&&Bl(a,i,n),ul(i,i.return);break;case 30:break;default:Bl(a,i,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Da(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),2048&a&&ol(9,t);break;case 1:case 13:default:ql(e,t,n,r);break;case 3:ql(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){ql(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else ql(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,null!==t.memoizedState?2&i._visibility?ql(e,t,n,r):Hl(e,t):2&i._visibility?ql(e,t,n,r):(i._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&zl(o,t);break;case 24:ql(e,t,n,r),2048&a&&Ul(t.alternate,t)}}function Wl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Wl(i,o,s,l,a),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Wl(i,o,s,l,a):Hl(i,o):(u._visibility|=2,Wl(i,o,s,l,a)),a&&2048&c&&zl(o.alternate,o);break;case 24:Wl(i,o,s,l,a),a&&2048&c&&Ul(o.alternate,o);break;default:Wl(i,o,s,l,a)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Hl(n,r),2048&a&&zl(r.alternate,r);break;case 24:Hl(n,r),2048&a&&Ul(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Kl=8192;function Vl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Vl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(o(475));var r=qd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Ed(n.href),i=e.querySelector(Od(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Cd(n),(a=jd.get(a))&&Id(n,a),He(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ll,e.memoizedState,e.memoizedProps);break;case 5:default:Vl(e);break;case 3:case 4:var t=Ll;Ll=Sd(e.stateNode.containerInfo),Vl(e),Ll=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Vl(e),Kl=t):Vl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Xl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var a=(r=Nl).sibling,i=r.return;if(_l(r),r===n){Nl=null;break e}if(null!==a){a.return=i,Nl=a;break e}Nl=i}}}var ec={getCacheForType:function(e){var t=ka(Ta),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,ic=0,oc=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,xc=null,bc=null,vc=!1,wc=0,jc=1/0,Nc=null,Sc=null,_c=0,kc=null,Pc=null,Ac=0,Ec=0,Oc=null,Cc=null,Tc=0,Lc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==Ra?Ra:Eu()}return Oe()}function Fc(){0===gc&&(gc=0===(536870912&ic)||ia?je():536870912);var e=as.current;return null!==e&&(e.flags|=32),gc}function Ic(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||($c(e,0),zc(e,ic,gc,!1)),_e(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&zc(e,ic,gc,!1)),ju(e))}function Rc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Hc(),a=Kc();rc!==e||ic!==t?(Nc=null,jc=te()+500,$c(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==oc&&null!==ac){t=ac;var i=sc;t:switch(oc){case 1:oc=0,sc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ya(i)){oc=0,sc=null,Jc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),ju(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ya(i)?(oc=0,sc=null,Jc(t)):(oc=0,sc=null,Zc(e,t,i,7));break;case 5:var s=null;switch(ac.tag){case 26:s=ac.memoizedState;case 5:case 27:var l=ac;if(!s||Ud(s)){oc=0,sc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}oc=0,sc=null,Zc(e,t,i,5);break;case 6:oc=0,sc=null,Zc(e,t,i,6);break;case 8:qc(),hc=6;break e;default:throw Error(o(462))}}Xc();break}catch(d){Wc(e,d)}return xa=ya=null,D.H=r,D.A=a,nc=n,null!==ac?0:(rc=null,ic=0,Ar(),hc)}(e,t):Gc(e,t,!0),i=r;;){if(0===a){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!i||Bc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=xc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,a=4;break e}i=bc,bc=a,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}a=s}if(i=!1,2!==a)continue}}if(1===a){$c(e,0),zc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(zc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Mc.bind(null,r,n,bc,Nc,vc,t,gc,pc,yc,lc,i,2,-0,0),a)}else Mc(r,n,bc,Nc,vc,t,gc,pc,yc,lc,i,0,-0,0)}break}a=Gc(e,t,!1),i=!1}ju(e)}function Mc(e,t,n,r,a,i,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===qd)throw Error(o(475));var e=qd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,a,s,l,c,d,1,f,p)),void zc(e,i,s,!u);nu(e,t,i,n,r,a,s,l,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),o=1<<i;r[i]=-1,a&=~o}0!==n&&ke(e,n,t)}function Uc(){return 0!==(6&nc)||(Nu(0,!1),!1)}function qc(){if(null!==ac){if(0===oc)var e=ac.return;else xa=ya=null,Ri(e=ac),Yo=null,Xo=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),rc=e,ac=n=Mr(e.current,null),ic=t,oc=0,sc=null,lc=!1,cc=ve(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=xc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),i=1<<a;t|=e[a],r&=~i}return dc=t,Ar(),n}function Wc(e,t){bi=null,D.H=Ho,t===Ha||t===Va?(t=Za(),oc=3):t===Ka?(t=Za(),oc=4):oc=t===ks?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ac&&(hc=1,ws(e,Sr(t,e.current)))}function Hc(){var e=D.H;return D.H=Ho,null===e?Ho:e}function Kc(){var e=D.A;return D.A=ec,e}function Vc(){hc=4,lc||(4194048&ic)!==ic&&null!==as.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,ic,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var a=Hc(),i=Kc();rc===e&&ic===t||(Nc=null,$c(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==oc&&null!==ac){var s=ac,l=sc;switch(oc){case 8:qc(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var c=oc;if(oc=0,sc=null,Zc(e,s,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,sc=null,Zc(e,s,l,c)}}Yc(),o=hc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,xa=ya=null,nc=r,D.H=a,D.A=i,null===ac&&(rc=null,ic=0,Ar()),o}function Yc(){for(;null!==ac;)Qc(ac)}function Xc(){for(;null!==ac&&!Z();)Qc(ac)}function Qc(e){var t=Qs(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Is(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Is(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Ri(t);default:il(n,t),t=Qs(n,t=ac=Br(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){xa=ya=null,Ri(t),Yo=null,Xo=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Na(t,n,a,!0),null!==(n=as.current)){switch(n.tag){case 13:return null===is?Vc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(o(435,n.tag))}return du(e,r,a),Vc(),!1}if(ia)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&ma(Sr(e=Error(o(422),{cause:r}),n))):(r!==la&&ma(Sr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Sr(r,n),si(e,a=Ns(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var i=Error(o(520),{cause:r});if(i=Sr(i,n),null===xc?xc=[i]:xc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,si(n,e=Ns(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,_s(a=Ss(a),e,n,r),si(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return hc=1,ws(e,Sr(n,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,ws(e,Sr(n,e.current)),void(ac=null)}32768&t.flags?(ia||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=as.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);hc=6,ac=null}function nu(e,t,n,r,a,i,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==_c);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&ke(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(o&~t))}(e,n,i|=Pr,s,l,c),e===rc&&(ac=rc=null,ic=0),Pc=t,kc=e,Ac=n,Ec=i,Oc=a,Cc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ie,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=F.p,F.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===i&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(i=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=gs(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{nc=s,F.p=a,D.T=r}}_c=1,ru(),au(),iu()}}function ru(){if(1===_c){_c=0;var e=kc,t=Pc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=F.p;F.p=2;var a=nc;nc|=4;try{Dl(t,e);var i=nd,o=er(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=Jn(s,m),x=Jn(s,g);if(y&&x&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==x.node||f.focusOffset!==x.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var v=d[s];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nh=!!td,nd=td=null}finally{nc=a,F.p=r,D.T=n}}e.current=t,_c=2}}function au(){if(2===_c){_c=0;var e=kc,t=Pc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=F.p;F.p=2;var a=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=a,F.p=r,D.T=n}}_c=3}}function iu(){if(4===_c||3===_c){_c=0,ee();var e=kc,t=Pc,n=Ac,r=Cc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,Pc=kc=null,ou(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Sc=null),Ee(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,a=F.p,F.p=2,D.T=null;try{for(var i=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];i(s.value,{componentStack:s.stack})}}finally{D.T=t,F.p=a}}0!==(3&Ac)&&su(),ju(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Lc?Tc++:(Tc=0,Lc=e):Tc=0,Nu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function su(e){return ru(),au(),iu(),lu()}function lu(){if(5!==_c)return!1;var e=kc,t=Ec;Ec=0;var n=Ee(Ac),r=D.T,a=F.p;try{F.p=32>n?32:n,D.T=null,n=Oc,Oc=null;var i=kc,s=Ac;if(_c=0,Pc=kc=null,Ac=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,Ql(i.current),$l(i,i.current,s,n),nc=l,Nu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{F.p=a,D.T=r,ou(e,t)}}function cu(e,t,n){t=Sr(n,t),null!==(e=ii(e,t=Ns(e.stateNode,t,2),2))&&(_e(e,2),ju(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=ii(t,n=Ss(2),2))&&(_s(n,r,t,e),_e(r,2),ju(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&$c(e,0):mc|=n,yc===ic&&(yc=0)),ju(e)}function fu(e,t){0===t&&(t=Ne()),null!==(e=Cr(e,t))&&(_e(e,t),ju(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,xu=!1,bu=!1,vu=!1,wu=0;function ju(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,xu||(xu=!0,dd((function(){0!==(6&nc)?Q(re,Su):_u()})))}function Nu(e,t){if(!vu&&bu){vu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var o=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(o&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Au(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ve(r,i)||(n=!0,Au(r,i));r=r.next}}while(n);vu=!1}}function Su(){_u()}function _u(){bu=xu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,i=ku(r,t);0===i?(r.next=null,null===n?gu=a:n.next=a,null===a&&(yu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=a}Nu(e,!1)}function ku(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var o=31-fe(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=we(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ee(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=se}return r=Pu.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Rc(e,r,t),ku(e,te()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Au(e,t){if(su())return null;Rc(e,t,!0)}function Eu(){return 0===wu&&(wu=je()),wu}function Ou(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Et(""+e)}function Cu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Tu=0;Tu<wr.length;Tu++){var Lu=wr[Tu];jr(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}jr(fr,"onAnimationEnd"),jr(pr,"onAnimationIteration"),jr(mr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(yr,"onTransitionStart"),jr(xr,"onTransitionCancel"),jr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Iu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){ys(u)}a.currentTarget=null,i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){ys(u)}a.currentTarget=null,i=l}}}}function Ru(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function Mu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Bu]){e[Bu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Fu.has(t)||Mu(t,!1,e),Mu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Mu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(ch(t)){case 2:var a=rh;break;case 8:a=ah;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qu(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==s;){if(null===(o=Ue(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=i=o;continue e}s=s.parentNode}}r=r.return}It((function(){var r=i,a=Ct(n),o=[];e:{var s=vr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=sn;break;case br:c=xn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=vn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Rt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,a),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[De])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:$e(c),p=null==u?s:$e(u),(s=new d(g,m+"leave",c,n,a)).target=h,s.relatedTarget=p,g=null,Ue(a)===r&&((d=new d(f,m+"enter",u,n,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&Ku(o,s,c,d,!1),null!==u&&null!==h&&Ku(o,h,u,d,!0)}if("select"===(c=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Mn;else if(Tn(s))if(Bn)y=Gn;else{y=Kn;var x=Hn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&kt(r.elementType)&&(y=Mn):y=Vn;switch(y&&(y=y(e,r))?Ln(o,y,n,a):(x&&x(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&xt(s,"number",s.value)),x=r?$e(r):window,e){case"focusin":(Tn(x)||"true"===x.contentEditable)&&(rr=x,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,sr(o,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(o,n,a)}var b;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else On?An(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(_n&&"ko"!==n.locale&&(On||"onCompositionStart"!==v?"onCompositionEnd"===v&&On&&(b=Wt()):(qt="value"in(Ut=a)?Ut.value:Ut.textContent,On=!0)),0<(x=Wu(r,v)).length&&(v=new cn(v,e,null,n,a),o.push({event:v,listeners:x}),b?v.data=b:null!==(b=En(n))&&(v.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Pn=!0,kn);case"textInput":return(e=t.data)===kn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!jn&&An(e,t)?(e=Wt(),$t=qt=Ut=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Wu(r,"onBeforeInput")).length&&(x=new cn("onBeforeInput","beforeinput",null,n,a),o.push({event:x,listeners:v}),x.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Ou((a[Le]||null).action),o=r.submitter;o&&null!==(t=(t=o[Le]||null)?Ou(t.formAction):o.getAttribute("formAction"))&&(i=t,o=null);var s=new Zt("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=o?Cu(a,o):new FormData(a);Co(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=o?Cu(a,o):new FormData(a),Co(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(o,e,r,n,a)}Iu(o,t)}))}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Rt(e,n))&&r.unshift($u(e,a,i)),null!=(a=Rt(e,t))&&r.push($u(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,a?null!=(c=Rt(n,i))&&o.unshift($u(n,c,l)):a||null!=(c=Rt(n,i))&&o.push($u(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Vu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Gu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Qu(){}function Ju(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Et(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Pt.get(n)||n,r)}}function Zu(e,t,n,r,a,i){switch(n){case"style":_t(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ve.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Le]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,r,s,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(a&&Ju(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var l=r=s=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Ju(e,t,a,d,n,null)}}return yt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Ru("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:Ju(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(s in Ru("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Ju(e,t,s,l,n,null)}return wt(e,a,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,n,null);return;case"dialog":Ru("beforetoggle",e),Ru("toggle",e),Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Ru(Du[a],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,a,n,null)}return;default:if(kt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Ju(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&wd(o.documentElement),2&n&&wd(o.body),4&n)for(wd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===a)return e.removeChild(i),void Ph(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ph(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var xd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var jd=new Map,Nd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=F.d;F.d={f:function(){var e=_d.f(),t=Uc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Lo(t):_d.r(e)},D:function(e){_d.D(e),Pd("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Pd("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=kd;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Ed(e);break;case"script":i=Td(e)}jd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Od(i))||"script"===t&&r.querySelector(Ld(i))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=kd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Td(e)}if(!jd.has(i)&&(e=h({rel:"modulepreload",href:e},t),jd.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(i)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=kd;if(n&&e){var r=We(n).hoistableScripts,a=Td(e),i=r.get(a);i||((i=n.querySelector(Ld(a)))||(e=h({src:e,async:!0},t),(t=jd.get(a))&&Rd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){_d.S(e,t,n);var r=kd;if(r&&e){var a=We(r).hoistableStyles,i=Ed(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Od(i)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(i))&&Id(e,n);var l=o=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Fd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}},M:function(e,t){_d.M(e,t);var n=kd;if(n&&e){var r=We(n).hoistableScripts,a=Td(e),i=r.get(a);i||((i=n.querySelector(Ld(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=jd.get(a))&&Rd(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var kd="undefined"===typeof document?null:document;function Pd(e,t,n){var r=kd;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Nd.has(a)||(Nd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ad(e,t,n,r){var a,i,s,l,c=(c=W.current)?Sd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ed(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ed(n.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Od(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(a=c,i=e,s=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),ed(i,"link",s),He(i),a.head.appendChild(i))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Td(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ed(e){return'href="'+mt(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Cd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Td(e){return'[src="'+mt(e)+'"]'}function Ld(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Fd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ed(n.href);var i=e.querySelector(Od(a));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Cd(n),(a=jd.get(a))&&Id(r,a),He(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(i,"link",r),t.state.loading|=4,Fd(i,n.precedence,e),t.instance=i;case"script":return i=Td(n.src),(a=e.querySelector(Ld(i)))?(t.instance=a,He(a),a):(r=n,(a=jd.get(i))&&Rd(r=h({},n),a),He(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Fd(r,n.precedence,e));return t.instance}function Fd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Md=null;function Bd(e,t,n){if(null===Md){var r=new Map,a=Md=new Map;a.set(n,r)}else(r=(a=Md).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Be]||i[Te]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var o=i.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(i):r.set(o,[i])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function $d(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Vd,e),Hd=null,Wd.call(e))}function Vd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(a=t.instance).getAttribute("data-precedence"),(i=n.get(o)||r)===r&&n.set(null,a),n.set(o,a),this.count++,r=Wd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Yd(e,t,n,r,a,i,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,i,o,s,l,c,u,d){return e=new Yd(e,t,n,o,s,l,c,d),t=1,!0===i&&(t|=24),i=Ir(3,null,null,t),e.current=i,i.stateNode=e,(t=La()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Qd(e){return e?e=Dr:Dr}function Jd(e,t,n,r,a,i){a=Qd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Ic(n,0,t),oi(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Cr(e,67108864);null!==t&&Ic(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var a=D.T;D.T=null;var i=F.p;try{F.p=2,ih(e,t,n,r)}finally{F.p=i,D.T=a}}function ah(e,t,n,r){var a=D.T;D.T=null;var i=F.p;try{F.p=8,ih(e,t,n,r)}finally{F.p=i,D.T=a}}function ih(e,t,n,r){if(nh){var a=oh(r);if(null===a)qu(e,t,r,sh,n),xh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,a),!0;case"dragenter":return hh=bh(hh,e,t,n,r,a),!0;case"mouseover":return fh=bh(fh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(xh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var i=qe(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var o=xe(i.pendingLanes);if(0!==o){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}ju(i),0===(6&nc)&&(jc=te()+500,Nu(0,!1))}}break;case 13:null!==(s=Cr(i,2))&&Ic(s,0,2),Uc(),eh(i,2)}if(null===(i=oh(r))&&qu(e,t,r,sh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qu(e,t,r,null,n)}}function oh(e){return lh(e=Ct(e))}var sh=null;function lh(e){if(sh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=qe(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function vh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc();e=Ae(e);var t=Cr(n,e);null!==t&&Ic(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function Nh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(jh),mh.forEach(jh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nh)))}var _h=null;function kh(e){_h!==e&&(_h=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=qe(n);null!==i&&(e.splice(t,3),t-=3,Co(i,{pending:!0,data:a,method:n.method,action:r},r,a))}})))}function Ph(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)vh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],o=a[Le]||null;if("function"===typeof i)o||kh(n);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Le]||null)s=o.formAction;else if(null!==lh(a))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),kh(n)}}}function Ah(e){this._internalRoot=e}function Eh(e){this._internalRoot=e}Eh.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Dc(),e,t,null,null)},Eh.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Uc(),t[De]=null}},Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&vh(e)}};var Oh=a.version;if("19.1.0"!==Oh)throw Error(o(527,Oh,"19.1.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return u(a),e;if(i===r)return u(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ch={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{ue=Th.inject(Ch),de=Th}catch(Dh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",a=xs,i=bs,l=vs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,i,l,0,null),e[De]=t.current,zu(e),new Ah(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,a="",i=xs,l=bs,c=vs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,i,l,c,0,u)).context=Qd(null),n=t.current,(a=ai(r=Ae(r=Dc()))).callback=null,ii(n,a,r),n=r,t.current.lanes=n,_e(t,n),ju(t),e[De]=t.current,zu(e),new Eh(t)},t.version="19.1.0"},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),i=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},7122:()=>{},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),i=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},7251:(e,t,n)=>{var r=n(8724),a=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),a=n(2536),i=n(5647),o=n(929),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),i=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=a(t)?i(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),i=n(2074),o=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function x(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?A(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?A(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function v(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=_(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=_(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return A(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return N(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(k(n,o),k(e,o),o),s=!0,A(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):x(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):A(new r(n),a)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return k(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x(t,e):E(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=v(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,o+2)).times(.5),v(i.d).slice(0,o)===(t=v(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(A(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,A(r,n)},y.times=y.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],r=o=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?A(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),A(n,e+N(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=O(r=A(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?O(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=O((r=A(new o(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return A(new t(e),N(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return A(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),s=!1;n%2&&C((i=i.times(u)).d,t),0!==(n=d(n/2));)C((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):A(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(k(u,r+12)),s=!0,(i=j(i)).s=o,i},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=O(a,(n=N(a))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),r=O(a=A(new o(a),e,t),e<=(n=N(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),A(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=N(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,c,u,d,h,f,m,g,y,x,b,v,w,j,S,_,k,P,E=r.constructor,O=r.s==a.s?1:-1,C=r.d,T=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,k=T.length,S=C.length,g=(m=new E(O)).d=[],u=0;T[u]==(C[u]||0);)++u;if(T[u]>(C[u]||0)&&--c,(v=null==i?i=E.precision:o?i+(N(r)-N(a))+1:i)<0)return new E(0);if(v=v/7+2|0,u=0,1==k)for(d=0,T=T[0],v++;(u<S||d)&&v--;u++)w=d*p+(C[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=p/(T[0]+1)|0)>1&&(T=e(T,d),C=e(C,d),k=T.length,S=C.length),j=k,x=(y=C.slice(0,k)).length;x<k;)y[x++]=0;(P=T.slice()).unshift(0),_=T[0],T[1]>=p/2&&++_;do{d=0,(s=t(T,y,k,x))<0?(b=y[0],k!=x&&(b=b*p+(y[1]||0)),(d=b/_|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(T,d),y,f=h.length,x=y.length))&&(d--,n(h,k<f?P:T,f))):(0==d&&(s=d=1),h=T.slice()),(f=h.length)<x&&h.unshift(0),n(y,h,x),-1==s&&(s=t(T,y,k,x=y.length))<1&&(d++,n(y,k<x?P:T,x)),x=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[x++]=C[j]||0:(y=[C[j]],x=1)}while((j++<S||void 0!==y[0])&&v--)}return g[0]||g.shift(),m.e=c,A(m,o?i+N(m)+1:i)}}();function j(e,t){var n,r,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=A(r.times(e),l),n=n.times(++c),v((o=i.plus(w(r,n,l))).d).slice(0,l)===v(i.d).slice(0,l)){for(;d--;)i=A(i.times(i),l);return f.precision=p,null==t?(s=!0,A(i,p)):i}i=o}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function k(e,t){var n,r,i,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,h=x):h=t,m.eq(10))return null==t&&(s=!0),S(y,h);if(h+=10,y.precision=h,r=(n=v(g)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=S(y,h+2,x).times(o+""),m=k(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=x,null==t?(s=!0,A(m,x)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=v((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=A(m.times(m),h),i=3;;){if(c=A(c.times(f),h),v((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===v(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(S(y,h+2,x).times(o+""))),u=w(u,new y(p),h),y.precision=x,null==t?(s=!0,A(u,x)):u;u=d,i+=2}}function P(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,n){var r,a,i,o,l,c,f,m,y=e.d;for(o=1,i=y[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=y.length))return e;for(f=i=y[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(i=N(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-r),y[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function E(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?A(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?A(t,m):t):new f(0)}function O(e,t,n){var r,a=N(e),i=v(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+_(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_(-a-1)+i,n&&(r=n-o)>0&&(i+=_(r))):a>=o?(i+=_(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+_(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=_(r))),e.s<0?"-"+i:i}function C(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):P(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);P(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),i=n(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},8468:(e,t,n)=>{var r=n(5816),a=n(644),i=n(4020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),i=n(4052),o=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),i=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),i=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),i=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(h,u)&&(i(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),i=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),i=n(715);e.exports=function(e){return a(e)?i(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),i=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),i=n(8673);e.exports=function(e){return r(e,i,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,i){for(var o=-1,s=n(t((r-e)/(a||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),i=n(3211),o=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=o(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),i=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!a(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{239:"7049e10e",453:"28ae1c0e",732:"14756914",977:"f3e1e2e4"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="a-rauf-crm:";n.l=(r,a,i,o)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,o=r[0],s=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunka_rauf_crm=self.webpackChunka_rauf_crm||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Zs,scaleDiverging:()=>Cf,scaleDivergingLog:()=>Tf,scaleDivergingPow:()=>Df,scaleDivergingSqrt:()=>Ff,scaleDivergingSymlog:()=>Lf,scaleIdentity:()=>Su,scaleImplicit:()=>Qs,scaleLinear:()=>Nu,scaleLog:()=>Lu,scaleOrdinal:()=>Js,scalePoint:()=>tl,scalePow:()=>qu,scaleQuantile:()=>ed,scaleQuantize:()=>td,scaleRadial:()=>Hu,scaleSequential:()=>Sf,scaleSequentialLog:()=>_f,scaleSequentialPow:()=>Pf,scaleSequentialQuantile:()=>Ef,scaleSequentialSqrt:()=>Af,scaleSequentialSymlog:()=>kf,scaleSqrt:()=>$u,scaleSymlog:()=>Ru,scaleThreshold:()=>nd,scaleTime:()=>vf,scaleUtc:()=>wf,tickFormat:()=>wu});var t,r=n(5043),a=n.t(r,2),i=n(4391),o=n(7950),s=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:o=!1}=a,s=i.history,d=t.Pop,m=null,g=y();function y(){return(s.state||{idx:null}).idx}function x(){d=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:d,location:v.location,delta:n})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,s.replaceState(l({},s.state,{idx:g}),""));let v={get action(){return d},get location(){return e(i,s)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(c,x),m=e,()=>{i.removeEventListener(c,x),m=null}},createHref:e=>n(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){d=t.Push;let a=f(v.location,e,n);r&&r(a,e),g=y()+1;let l=h(a,g),c=v.createHref(a);try{s.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;i.location.assign(c)}o&&m&&m({action:d,location:v.location,delta:1})},replace:function(e,n){d=t.Replace;let a=f(v.location,e,n);r&&r(a,e),g=y();let i=h(a,g),l=v.createHref(a);s.replaceState(i,"",l),o&&m&&m({action:d,location:v.location,delta:0})},go:e=>s.go(e)};return v}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let a=L(("string"===typeof t?m(t):t).pathname||"/",n);if(null==a)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=T(a);o=O(i[s],e,r)}return o}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=M([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:E(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))a(e,t,r);else a(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=w(r.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const j=/^:[\w-]+$/,N=3,S=2,_=1,k=10,P=-2,A=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=P),t&&(r+=S),n.filter((e=>!A(e))).reduce(((e,t)=>e+(j.test(t)?N:""===t?_:k)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:M([i,u.pathname]),pathnameBase:B(M([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return o}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function I(e,t){let n=F(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function R(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=m(e):(a=l({},e),u(!a.pathname||!a.pathname.includes("?"),D("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),D("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),D("#","search","hash",a)));let i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?m(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:z(r),hash:U(a)}}(a,i),d=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],W=(new Set($),["get",...$]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const K=r.createContext(null);const V=r.createContext(null);const G=r.createContext(null);const Y=r.createContext(null);const X=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=r.createContext(null);function J(){return null!=r.useContext(Y)}function Z(){return J()||u(!1),r.useContext(Y).location}function ee(e){r.useContext(G).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=r.useRef(!1);return ee((()=>{n.current=!0})),r.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},a)))}),[e,t])}():function(){J()||u(!1);let e=r.useContext(K),{basename:t,future:n,navigator:a}=r.useContext(G),{matches:i}=r.useContext(X),{pathname:o}=Z(),s=JSON.stringify(I(i,n.v7_relativeSplatPath)),l=r.useRef(!1);ee((()=>{l.current=!0}));let c=r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void a.go(n);let i=R(n,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:M([t,i.pathname])),(r.replace?a.replace:a.push)(i,r.state,r)}),[t,a,s,o,e]);return c}()}function ne(){let{matches:e}=r.useContext(X),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=r.useContext(G),{matches:i}=r.useContext(X),{pathname:o}=Z(),s=JSON.stringify(I(i,a.v7_relativeSplatPath));return r.useMemo((()=>R(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function ae(e,n,a,i){J()||u(!1);let{navigator:o}=r.useContext(G),{matches:s}=r.useContext(X),l=s[s.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=Z();if(n){var p;let e="string"===typeof n?m(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=x(e,{pathname:y});let v=ce(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,a,i);return n&&v?r.createElement(Y.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},v):v}function ie(){let e=function(){var e;let t=r.useContext(Q),n=fe(de.UseRouteError),a=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const oe=r.createElement(ie,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:a}=e,i=r.useContext(K);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},a)}function ce(e,t,n,a){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=a)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,a,i)=>{let o,u=!1,h=null,f=null;var p;n&&(o=l&&a.route.id?l[a.route.id]:void 0,h=a.route.errorElement||oe,c&&(d<0&&0===i?(p="route-fallback",!1||me[p]||(me[p]=!0),u=!0,f=null):d===i&&(u=!0,f=a.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=o?h:u?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(le,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=r.useContext(K);return t||u(!1),t}function fe(e){let t=r.useContext(V);return t||u(!1),t}function pe(e){let t=function(){let e=r.useContext(X);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ye(e){let{to:t,replace:n,state:a,relative:i}=e;J()||u(!1);let{future:o,static:s}=r.useContext(G),{matches:l}=r.useContext(X),{pathname:c}=Z(),d=te(),h=R(t,I(l,o.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(f),{replace:n,state:a,relative:i})),[d,f,i,n,a]),null}function xe(e){u(!1)}function be(e){let{basename:n="/",children:a=null,location:i,navigationType:o=t.Pop,navigator:s,static:l=!1,future:c}=e;J()&&u(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:s,static:l,future:H({v7_relativeSplatPath:!1},c)})),[d,c,s,l]);"string"===typeof i&&(i=m(i));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:x="default"}=i,b=r.useMemo((()=>{let e=L(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:x},navigationType:o}}),[d,f,p,g,y,x,o]);return null==b?null:r.createElement(G.Provider,{value:h},r.createElement(Y.Provider,{children:a,value:b}))}function ve(e){let{children:t,location:n}=e;return ae(we(t),n)}new Promise((()=>{}));r.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,a)=>{if(!r.isValidElement(e))return;let i=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,we(e.props.children,i));e.type!==xe&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,i)),n.push(o)})),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(QC){}new Map;const _e=a.startTransition;s.flushSync,a.useId;function ke(e){let{basename:t,children:n,future:a,window:i}=e,o=r.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),g((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return f("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,s)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},h=r.useCallback((e=>{d&&_e?_e((()=>u(e))):u(e)}),[u,d]);return r.useLayoutEffect((()=>l.listen(h)),[l,h]),r.useEffect((()=>ge(a)),[a]),r.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:a})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=r.forwardRef((function(e,t){let n,{onClick:a,relative:i,reloadDocument:o,replace:s,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=Ne(e,Se),{basename:g}=r.useContext(G),y=!1;if("string"===typeof d&&Ae.test(d)&&(n=d,Pe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=L(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(QC){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;J()||u(!1);let{basename:a,navigator:i}=r.useContext(G),{hash:o,pathname:s,search:l}=re(e,{relative:n}),c=s;return"/"!==a&&(c="/"===s?a:M([a,s])),i.createHref({pathname:c,search:l,hash:o})}(d,{relative:i}),b=function(e,t){let{target:n,replace:a,state:i,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=te(),u=Z(),d=re(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:p(u)===p(d);c(e,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:l})}}),[u,c,d,a,i,n,e,o,s,l])}(d,{replace:s,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});return r.createElement("a",je({},m,{href:n||x,onClick:y||o?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Oe,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));var Te=n(579);const Le=(0,r.createContext)(null),De=e=>{let{children:t}=e;const[n,a]=(0,r.useState)((()=>{try{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null}catch{return null}}));(0,r.useEffect)((()=>{const e=e=>{if("currentUser"===e.key)try{a(e.newValue?JSON.parse(e.newValue):null)}catch{a(null)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]);return(0,Te.jsx)(Le.Provider,{value:{user:n,login:e=>{try{localStorage.setItem("currentUser",JSON.stringify(e)),a(e)}catch(t){console.error("Failed to persist user",t)}},logout:()=>{try{localStorage.removeItem("currentUser")}catch(e){console.error("Failed to remove user",e)}a(null)},isAuthenticated:!!n},children:t})},Fe=()=>(0,r.useContext)(Le),Ie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Re=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Me=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()},Be=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var ze={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ue=(0,r.forwardRef)(((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:c,...u}=e;return(0,r.createElement)("svg",{ref:t,...ze,width:a,height:a,stroke:n,strokeWidth:o?24*Number(i)/Number(a):i,className:Me("lucide",s),...!l&&!Be(u)&&{"aria-hidden":"true"},...u},[...c.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),qe=(e,t)=>{const n=(0,r.forwardRef)(((n,a)=>{let{className:i,...o}=n;return(0,r.createElement)(Ue,{ref:a,iconNode:t,className:Me(`lucide-${Ie(Re(e))}`,`lucide-${e}`,i),...o})}));return n.displayName=Re(e),n},$e=qe("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),We=qe("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),He=n.p+"static/media/signin.5bca050aece08a202430.png",Ke={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api",Ve={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_BASE_URL||"http://localhost:5000",Ge={AUTH:{LOGIN:`${Ve}/login`,SIGNUP:`${Ve}/signup`},CUSTOMERS:{LIST:`${Ke}/v1/customertable`,GET:e=>`${Ke}/v1/customertable/${e}`,CREATE:`${Ke}/v1/customertable`,UPDATE:e=>`${Ke}/v1/customertable/${e}`,DELETE:e=>`${Ke}/v1/customertable/${e}`},INVOICES:{LIST:`${Ke}/invoices`,CREATE:`${Ke}/invoices`,GET:e=>`${Ke}/invoices/${e}`},CATEGORIES:{LIST:e=>`${Ke}/categories${e?`?type=${e}`:""}`},STOCK:{LIST:`${Ke}/stock`,CREATE:`${Ke}/stock`,UPDATE:e=>`${Ke}/stock/${e}`,DELETE:e=>`${Ke}/stock/${e}`},PURCHASE_ORDERS:{LIST:`${Ke}/purchase-orders`,GET:e=>`${Ke}/purchase-orders/${e}`,INVOICES:e=>`${Ke}/purchase-orders/${e}/invoices`,SUMMARY:e=>`${Ke}/purchase-orders/${e}/summary`},FINANCIAL_REPORTS:{CONTACT_BALANCES:`${Ke}/financial-reports/contact-balances`,STORAGE_LIST:`${Ke}/financial-reports-storage`,STORAGE_GET:e=>`${Ke}/financial-reports-storage/${e}`,GENERATE:`${Ke}/financial-reports-storage/generate`},DASHBOARD:{MONTHLY_FINANCIALS:`${Ke}/dashboard/monthly-financials`},SETTINGS:{COMPANY:`${Ke}/company-settings`,USER:e=>`${Ke}/settings/${e}`,UPLOAD_PROFILE:e=>`${Ke}/profile-picture/upload/${e}`},USERS:{LIST:`${Ke}/users`,GET:e=>`${Ke}/users/${e}`,UPDATE:e=>`${Ke}/users/${e}`,DELETE:e=>`${Ke}/users/${e}`,MODULES:e=>`${Ke}/user-modules/${e}`},EXPENSES:{LIST:`${Ke}/expenses`,GET:e=>`${Ke}/expenses/${e}`,CREATE:`${Ke}/expenses`,UPDATE:e=>`${Ke}/expenses/${e}`,DELETE:e=>`${Ke}/expenses/${e}`},FINANCIAL_YEARS:{LIST:`${Ke}/financial-years`,GET:e=>`${Ke}/financial-years/${e}`,CREATE:`${Ke}/financial-years`,CLOSE:e=>`${Ke}/financial-years/${e}/close`},REPORTS:{LIST:`${Ke}/v1/reports`,GET:e=>`${Ke}/v1/reports/${e}`,DELETE:e=>`${Ke}/v1/reports/${e}`,STATS:`${Ke}/v1/reports/stats`,SUGGESTIONS:e=>`${Ke}/v1/customers/suggestions?q=${encodeURIComponent(e)}`},PURCHASE_ORDERS:{LIST:`${Ke}/purchase-orders`,GET:e=>`${Ke}/purchase-orders/${e}`,INVOICES:e=>`${Ke}/purchase-orders/${e}/invoices`,SUMMARY:`${Ke}/po-summaries`},CUSTOMERS:{LIST:`${Ke}/v1/customertable`,GET:e=>`${Ke}/v1/customertable/${e}`}},Ye=e=>{let{children:t,className:n="",...r}=e;return(0,Te.jsx)("button",{className:`rounded-md px-4 py-2 font-medium transition-colors ${n}`,...r,children:t})},Xe=e=>{let{className:t="",...n}=e;return(0,Te.jsx)("input",{className:`rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 ${t}`,...n})},Qe=()=>{var e,t;const[n,a]=(0,r.useState)({email:"",password:""}),[i,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),d=te(),h=Z(),f=Fe(),p=(null===(e=h.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/dashboard",m=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))};return(0,Te.jsxs)("div",{className:"flex min-h-screen w-full p-2 sm:p-4",children:[(0,Te.jsx)("div",{className:"relative hidden w-full bg-gradient-to-br from-blue-600 to-blue-900 md:block md:w-1/2 lg:w-2/3",style:{backgroundImage:`url(${He})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:"20px"},children:(0,Te.jsx)("div",{className:"absolute inset-0",children:(0,Te.jsxs)("div",{className:"flex h-full flex-col justify-end p-6 text-white sm:p-8 md:p-10 lg:p-12",children:[(0,Te.jsxs)("div",{className:"flex flex-col gap-4 pt-12 pb-12 md:flex-row",children:[(0,Te.jsxs)("h1",{className:"text-3xl font-bold text-left sm:text-4xl lg:text-5xl lg:pr-12",children:["Get Started",(0,Te.jsx)("br",{}),"With Us"]}),(0,Te.jsxs)("p",{className:"text-base text-left sm:text-lg",children:["Complete these easy",(0,Te.jsx)("br",{}),"steps to register your",(0,Te.jsx)("br",{}),"account."]})]}),(0,Te.jsx)("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:gap-6 md:mb-8",children:["Sign in your account","Set up your workspace","Set up your profile"].map(((e,t)=>(0,Te.jsxs)("div",{className:`flex h-24 w-full flex-col items-left justify-center rounded-lg p-3 sm:h-28 sm:w-32 md:h-32 md:w-40 ${0===t?"bg-[#1976D2]":"bg-[#1976D2] rounded-2xl shadow-lg backdrop-blur-sm"} text-left`,children:[(0,Te.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full sm:h-7 sm:w-7 md:h-8 md:w-8 bg-white text-blue-500",children:(0,Te.jsx)("span",{className:"text-sm font-light sm:text-base md:px-2 md:text-lg",children:t+1})}),(0,Te.jsx)("p",{className:"mt-2 text-sm font-light text-white sm:mt-3 sm:text-base md:mt-4",children:e})]},t)))})]})})}),(0,Te.jsx)("div",{className:"flex w-full items-center justify-center bg-gray-50 px-4 py-8 md:w-1/2 md:px-6 lg:w-1/3",children:(0,Te.jsxs)("div",{className:"w-full max-w-md space-y-6 p-4 sm:space-y-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"Sign in Account"}),(0,Te.jsx)("p",{className:"mt-2 text-sm text-gray-600 sm:text-base",children:"Enter your personal data to create your account."})]}),s&&(0,Te.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,Te.jsx)("p",{className:"text-sm text-red-600",children:s})}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l(""),!n.email||!n.password)return void l("Please fill in all fields");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))if(n.password.length<8)l("Password must be at least 8 characters");else{u(!0);try{const e=await fetch(Ge.AUTH.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();if(t.success){const e={id:t.user.id,firstName:t.user.firstName,lastName:t.user.lastName,email:t.user.email,role_id:t.user.role_id,modules:t.user.modules||[]};f.login(e),u(!1),d(p,{replace:!0})}else u(!1),l(t.message||"Login failed")}catch(t){u(!1),l("Server error")}}else l("Please enter a valid email address")},className:"space-y-4 sm:space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 sm:text-base",children:"Email"}),(0,Te.jsx)(Xe,{id:"email",name:"email",type:"email",placeholder:"eg. johnfrans@gmail.com",className:"mt-1 h-10 w-full sm:h-12",value:n.email,onChange:m})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 sm:text-base",children:"Password"}),(0,Te.jsxs)("div",{className:"relative mt-1",children:[(0,Te.jsx)(Xe,{id:"password",name:"password",type:i?"text":"password",placeholder:"Enter your password",className:"h-10 w-full pr-10 sm:h-12",value:n.password,onChange:m}),(0,Te.jsx)("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:i?(0,Te.jsx)($e,{className:"h-4 w-4 sm:h-5 sm:w-5"}):(0,Te.jsx)(We,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,Te.jsx)("p",{className:"mt-1 text-xs text-gray-600 sm:text-sm",children:"Must be at least 8 characters."})]}),(0,Te.jsx)(Ye,{type:"submit",className:"w-full bg-blue-500 py-2 text-white hover:bg-blue-600 sm:py-3",disabled:c,children:c?"Signing in...":"Sign in"})]})]})})]})},Je=e=>{let{children:t,className:n="",...r}=e;return(0,Te.jsx)("button",{className:`rounded-md px-4 py-2 font-medium transition-colors ${n}`,...r,children:t})},Ze=e=>{let{className:t="",...n}=e;return(0,Te.jsx)("input",{className:`rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 ${t}`,...n})},et=()=>{const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)({firstName:"",lastName:"",email:"",password:""}),[i,o]=(0,r.useState)(""),s=e=>{a({...n,[e.target.id]:e.target.value})};return(0,Te.jsxs)("div",{className:"flex min-h-screen w-full p-2 sm:p-4",children:[(0,Te.jsx)("div",{className:"relative hidden w-full bg-gradient-to-br from-blue-600 to-blue-900 md:block md:w-1/2 lg:w-7/12 xl:w-8/12",style:{backgroundImage:`url(${He})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:"10px"},children:(0,Te.jsx)("div",{className:"absolute inset-0",children:(0,Te.jsxs)("div",{className:"flex h-full flex-col justify-end p-6 text-white sm:p-8 md:p-10 lg:p-12",children:[(0,Te.jsxs)("div",{className:"flex flex-col gap-4 pb-8 pt-4 md:flex-row md:pt-12 md:pb-12",children:[(0,Te.jsxs)("h1",{className:"text-3xl font-bold text-left sm:text-4xl lg:text-5xl lg:pr-12",children:["Get Started",(0,Te.jsx)("br",{}),"With Us"]}),(0,Te.jsxs)("p",{className:"text-base text-left sm:text-lg",children:["Complete these easy",(0,Te.jsx)("br",{}),"steps to register your",(0,Te.jsx)("br",{}),"account."]})]}),(0,Te.jsx)("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:gap-4 md:gap-6 md:mb-8",children:["Sign in your account","Set up your workspace","Set up your profile"].map(((e,t)=>(0,Te.jsxs)("div",{className:`flex h-24 w-full flex-col items-left justify-center rounded-lg p-3 sm:h-28 sm:w-32 md:h-32 md:w-40 ${0===t?"bg-[#1976D2]":"bg-[#1976D2] rounded-2xl shadow-lg backdrop-blur-sm"} text-left`,children:[(0,Te.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full sm:h-7 sm:w-7 md:h-8 md:w-8 bg-white text-blue-500",children:(0,Te.jsx)("span",{className:"text-sm font-light sm:text-base md:text-lg",children:t+1})}),(0,Te.jsx)("p",{className:"mt-2 text-sm font-light text-white sm:mt-3 sm:text-base md:mt-4",children:e})]},t)))})]})})}),(0,Te.jsx)("div",{className:"flex w-full items-center justify-center bg-gray-50 px-4 py-8 md:w-1/2 md:px-6 lg:w-5/12 xl:w-4/12",children:(0,Te.jsxs)("div",{className:"w-full max-w-md space-y-6 p-4 sm:space-y-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"Create Account"}),(0,Te.jsx)("p",{className:"mt-2 text-sm text-gray-600 sm:text-base",children:"Enter your personal data to create your account."})]}),(0,Te.jsxs)("form",{className:"space-y-4 sm:space-y-6",onSubmit:async e=>{if(e.preventDefault(),o(""),n.firstName.trim()&&n.lastName.trim()&&n.email.trim()&&n.password.trim())if(n.password.length<6)o("Password must be at least 6 characters long.");else try{const e=await fetch(Ge.AUTH.SIGNUP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();e.ok&&t.success?(o("Account created successfully!"),a({firstName:"",lastName:"",email:"",password:""})):o(t.message||t.error||"Signup failed.")}catch(t){console.error("Signup error:",t),o("Server error. Please try again.")}else o("All fields are required.")},children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 sm:text-base",children:"First Name"}),(0,Te.jsx)(Ze,{id:"firstName",type:"text",placeholder:"John",className:"mt-1 h-10 w-full sm:h-12",value:n.firstName,onChange:s,required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 sm:text-base",children:"Last Name"}),(0,Te.jsx)(Ze,{id:"lastName",type:"text",placeholder:"Doe",className:"mt-1 h-10 w-full sm:h-12",value:n.lastName,onChange:s,required:!0})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 sm:text-base",children:"Email"}),(0,Te.jsx)(Ze,{id:"email",type:"email",placeholder:"eg. johnfrans@gmail.com",className:"mt-1 h-10 w-full sm:h-12 ",value:n.email,onChange:s,required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 sm:text-base",children:"Password"}),(0,Te.jsxs)("div",{className:"relative mt-1",children:[(0,Te.jsx)(Ze,{id:"password",type:e?"text":"password",placeholder:"Enter your password",className:"h-10 w-full pr-10 sm:h-12",value:n.password,onChange:s,required:!0}),(0,Te.jsx)("button",{type:"button",onClick:()=>t(!e),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400",children:e?(0,Te.jsx)($e,{className:"h-4 w-4 sm:h-5 sm:w-5"}):(0,Te.jsx)(We,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,Te.jsx)("p",{className:"mt-1 text-xs text-gray-600 sm:text-sm",children:"Must be at least 8 characters."})]}),(0,Te.jsx)(Je,{className:"w-full bg-blue-500 py-2 text-white hover:bg-blue-600 sm:py-3",type:"submit",children:"Create Account"}),i&&(0,Te.jsx)("p",{className:"text-center text-xs text-red-600 sm:text-sm",children:i}),(0,Te.jsxs)("p",{className:"text-center text-xs text-gray-600 sm:text-sm",children:["Already have an account?"," ",(0,Te.jsx)("a",{href:"/",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]})]})})]})},tt=n.p+"static/media/rauf textile png.1812c7650975a02dbbc9.png",nt=e=>{let{icon:t,label:n,isActive:a=!1,isCollapsed:i=!1,to:o}=e;return(0,Te.jsxs)(Ee,{to:o,className:"flex items-center gap-3 px-4 sm:px-5 py-3 sm:py-4 rounded-md cursor-pointer hover:bg-gray-100 transition-colors "+(a?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-gray-900"),title:i?n:void 0,children:[(0,Te.jsx)("div",{className:a?"text-blue-600":"text-gray-500",children:r.cloneElement(t,{className:"w-6 h-6"})}),!i&&(0,Te.jsx)("span",{className:"font-semibold text-sm sm:text-base whitespace-nowrap",children:n})]})},rt=()=>{var e;const t=Z(),n=Fe(),[a,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)((()=>{try{const e=localStorage.getItem("settings");return(e?JSON.parse(e):{}).companyName||"A Rauf Textile"}catch(QC){return"A Rauf Textile"}})),[u,d]=(0,r.useState)((()=>{try{const e=localStorage.getItem("settings"),t=e?JSON.parse(e):{};return t.companyLogoUrl||t.profilePictureUrl||tt}catch(QC){return tt}})),h=()=>s(!o);(0,r.useEffect)((()=>{(async()=>{const e=(null===n||void 0===n?void 0:n.user)||(()=>{try{return JSON.parse(localStorage.getItem("currentUser")||localStorage.getItem("activeUser")||"null")}catch{return null}})(),t=null===e||void 0===e?void 0:e.id;if(t)try{try{const e=await fetch(Ge.SETTINGS.COMPANY);if(e.ok){const t=await e.json();if(t&&t.company){if(t.company.name&&c(t.company.name),t.company.logo_url){const e=t.company.logo_url.startsWith("http")?t.company.logo_url:`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_BASE_URL||"http://localhost:5000"}${t.company.logo_url}`;d(e);try{const n=localStorage.getItem("settings"),r=n?JSON.parse(n):{};r.companyLogoUrl=e,r.companyName=t.company.name||r.companyName,localStorage.setItem("settings",JSON.stringify(r))}catch(QC){}}return}}}catch(r){console.debug("Company settings fetch failed, falling back to user settings:",r)}const e=await fetch(Ge.SETTINGS.USER(t));if(!e.ok)return void console.warn(`Settings endpoint returned ${e.status}. Using defaults.`);const n=await e.json();if(n&&n.success&&n.data&&n.data.personal){const e=n.data.personal||{};e.company&&c(e.company);const t=e.profilePictureUrl;if(t){const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_BASE_URL||"http://localhost:5000",r=t.startsWith("http")?t:`${n}${t}`;d(r);try{const t=localStorage.getItem("settings"),n=t?JSON.parse(t):{};n.companyName=e.company||n.companyName,n.companyLogoUrl=r,localStorage.setItem("settings",JSON.stringify(n))}catch(QC){}}}}catch(r){console.warn("Failed to fetch company settings:",r)}})()}),[null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.id]),(0,r.useEffect)((()=>{const e=e=>{const t=e&&e.detail?e.detail:{};try{t.companyName&&c(t.companyName);const e=t.companyLogoUrl||t.profilePictureUrl;if(e){d(e);try{const n=localStorage.getItem("settings"),r=n?JSON.parse(n):{};r.companyLogoUrl=e,t.companyName&&(r.companyName=t.companyName),t.profilePictureUrl&&(r.profilePictureUrl=t.profilePictureUrl),localStorage.setItem("settings",JSON.stringify(r))}catch(n){}}}catch(n){}};return window.addEventListener("settings:updated",e),()=>window.removeEventListener("settings:updated",e)}),[]);const f=[{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),(0,Te.jsx)("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),(0,Te.jsx)("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),(0,Te.jsx)("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),label:"Dashboard",to:"/dashboard",moduleName:"dashboard"},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,Te.jsx)("path",{d:"M14 2v6h6"}),(0,Te.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,Te.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,Te.jsx)("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),label:"Invoices",to:"/invoices",moduleName:"invoices"},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("path",{d:"M3 3v18h18"}),(0,Te.jsx)("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"Reports",to:"/report",hidden:!0},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,Te.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,Te.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,Te.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),label:"Contact Persons",to:"/customers",moduleName:"customers"},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user-icon lucide-user",children:[(0,Te.jsx)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,Te.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),label:"Employees",to:"#",hidden:!0},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-history-icon lucide-history",children:[(0,Te.jsx)("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,Te.jsx)("path",{d:"M3 3v5h5"}),(0,Te.jsx)("path",{d:"M12 7v5l4 2"})]}),label:"Expenses",to:"/expense",moduleName:"expenses"},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("path",{d:"M16 3h5v5M4 21l5-5M21 3l-16 16"}),(0,Te.jsx)("path",{d:"M21 21v-5h-5M4 4h5v5"})]}),label:"Purchase Order",to:"/purchase-order",moduleName:"purchaseOrders"},{icon:(0,Te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Te.jsx)("path",{d:"M8 6h12M8 12h12M8 18h12M3 6h.01M3 12h.01M3 18h.01"})}),label:"Stock",to:"/stock",moduleName:"stock"},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("path",{d:"M3 3v18h18"}),(0,Te.jsx)("path",{d:"M7 14l3-3 6 6 4-8"}),(0,Te.jsx)("path",{d:"M7 10l3-3 6 6",opacity:"0.3"})]}),label:"Financial Progress",to:"/company-financial-progress",moduleName:"financialProgress"},{icon:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),(0,Te.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),label:"Settings",to:"/settings",moduleName:"settings"}],p=te();return(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:h,className:"sm:hidden fixed top-4 left-4 z-30 p-2 rounded-md bg-white shadow-md","aria-label":"Open menu",children:(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,Te.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,Te.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),(0,Te.jsxs)("div",{className:`\n        fixed sm:relative z-20\n        ${a?"w-16":"w-56 sm:w-64"}\n        ${o?"left-0":"-left-full sm:left-0"}\n        min-w-[80px] bg-white border-r border-gray-200 p-3 sm:p-6\n        flex flex-col min-h-screen transition-all duration-300 ease-in-out\n        shadow-lg sm:shadow-none rounded-[30px]\n      `,children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4 p-2",children:[a?(0,Te.jsx)("div",{className:"w-10 h-10 flex items-center justify-center",children:(0,Te.jsx)("img",{src:u||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKnSURBVHgBvVbbbRNBFD138T/ugE0FSQdxB8QEIfGFXQFOB6ECnArifCFBjJ0KcCogVJBJBRhEJBQlGc6dWZv1emdfiXOkWe1r7rmPM3dGUAcTG+MeH3nX4Wgnb+cQXMC6cY7XMq1iStAEE7uDOww4+13OV4MII/zFCd6KQW3izzQujOoPI+nLPOBATAcOSfSS0bbXHAA+YF9G1YnHVtM5WD5rGn06z3JT6UvQSeZsZ74OSX5QTjy2x7z2EIbhmOGG0eSlcuGExR6txxwveD8leT9M/ImTWvx5Aesm6thhOrfd8ypGQQdKUE9coZQKM2Appt+MLKSHBxFnnVBhZZWtTtxxWakm7lmWa44cZzzxF9uBrs2I9ZCVVBtOvoLWNKTuYmXnQZV+6InH9pLXuHRKUUontk0n96DCFKeHkBNzzt8SnFpV3yQxPOfkX8tfIjwPGDAoUrZCs6h9wML3A7h748Y1puK60MJYNzeVbdw6Vet/GtFu5o9Gyq4vrnRK0074Mpyx3jO8kYsyM6vExzTaTqW2WxKFT2cvp2f/3zi0dBYmYYtd+agnobAGiecdIFhPjeCcKZ0Gu1U9ZUOJLerA9+2jUPN3YtUgxGliN2Dlh+Cr/VnVywwMdE3esKZFwlJNYL18upy+J941hQFctzqqIqoFlHjI63s8DoxzQtWt7TLkCEUsTpkRvmFzMJnnmI51xdXA4rJhnetD6Mgr2Ypct9L6PBW010O7saKFoevTm4YkB8ElsUZtuTQ2DeVIllO0fLkvQ37YXMrtatNZ3yRO7ShwXn4I6QlPp730q2jtJ/3hMSNXWxnSfGJPrhtH34mhKbxYDxJbOZ+LoLvOLbe9Z0y9rXA0WhBqlBFXSjd84qx+EEjvOukzlSe64pi5g3uLu1e3/Ij7DzDhHFcRYYthAAAAAElFTkSuQmCC",alt:"Company Logo",className:"h-10 w-15 object-contain"})}):(0,Te.jsxs)("div",{className:"flex items-center gap-3 rounded-full",children:[(0,Te.jsx)("img",{src:u,alt:l,className:"h-14 w-auto object-contain"}),(0,Te.jsx)("div",{className:"hidden sm:block",children:(0,Te.jsx)("div",{className:"text-lg font-bold text-gray-800",children:l})})]}),(0,Te.jsx)("button",{onClick:()=>i(!a),className:"hidden sm:block p-1 rounded-full hover:bg-gray-100 ml-auto","aria-label":a?"Expand sidebar":"Collapse sidebar",children:(0,Te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-500",children:a?(0,Te.jsx)("path",{d:"M9 18l6-6-6-6"}):(0,Te.jsx)("path",{d:"M15 18l-6-6 6-6"})})})]}),(0,Te.jsx)("div",{className:"space-y-3 overflow-y-auto flex-grow",children:f.filter((e=>{var t;return!e.hidden&&(null===(t=n.user)||void 0===t||!t.modules||!e.moduleName||n.user.modules.includes(e.moduleName))})).map((e=>(0,Te.jsx)(nt,{icon:e.icon,label:e.label,isActive:t.pathname===e.to,isCollapsed:a,to:e.to},e.to)))}),o&&(0,Te.jsxs)("button",{onClick:h,className:"sm:hidden mt-auto p-3 text-gray-500 hover:bg-gray-100 rounded-md w-full text-left flex items-center",children:[(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,Te.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Te.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Close Menu"]}),(0,Te.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-100",children:(0,Te.jsxs)("button",{onClick:()=>{try{localStorage.clear()}catch(QC){console.warn("Failed to clear localStorage during logout",QC)}p("/login")},"aria-label":"Logout",className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 "+(a?"justify-center bg-transparent text-gray-700 hover:bg-red-50 hover:text-red-600":"bg-red-600 text-white hover:bg-red-700 shadow-sm"),children:[(0,Te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Te.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,Te.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,Te.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&(0,Te.jsx)("span",{className:"font-medium",children:"Logout"})]})})]}),o&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-10 sm:hidden",onClick:h})]})},at=n.p+"static/media/pfp.5b5ab1051bd823bc2759.png",it=qe("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ot=qe("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),st=qe("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),lt=qe("bell-off",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]),ct=qe("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ut=qe("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dt=qe("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ht=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(QC){return t}},ft=()=>{var e;const t=te(),n=Fe(),a=(null===n||void 0===n?void 0:n.user)||null,i=ht("users",null),o=ht("user",null),s=Array.isArray(i)?i:o?[o]:[],l=s,c=ht("activeUser",null),[u,d]=(0,r.useState)(a||c||s[0]||null),h=ht("settings",{}),f=(()=>{if(!u)return"";if(u.firstName){const e=(u.lastName||"").trim();return e?`${u.firstName.trim()} ${e}`:u.firstName.trim()}if(u.name){const e=u.name.trim().split(" ");if(1===e.length)return e[0];const t=e[0],n=e.slice(1).join(" ");return u.firstName=t,u.lastName=n,`${t} ${n}`.trim()}return u.lastName?u.lastName.trim():""})(),p=f||h.companyName||"Company",[m,g]=(0,r.useState)(p),[y,x]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[N,S]=(0,r.useState)(0),[_,k]=(0,r.useState)(!1),[P,A]=(0,r.useState)(!1),[E,O]=(0,r.useState)((()=>h.profilePictureUrl||u&&u.profileImg||at)),[C,T]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(u){try{localStorage.setItem("activeUser",JSON.stringify(u))}catch(QC){}try{localStorage.setItem("currentUser",JSON.stringify(u))}catch(QC){}u.profileImg&&O(u.profileImg)}try{if(n&&"function"===typeof n.login){const e=n.user||null;(!(e||!u)||!(u||!e)||!(!e&&!u)&&(e.id!==u.id||e.profileImg!==u.profileImg||e.email!==u.email))&&n.login(u)}}catch(QC){}}),[u,n]),(0,r.useEffect)((()=>{const e=()=>{const e=ht("settings",{});!!(!u||!u.firstName&&!u.name)&&e.companyName&&g(e.companyName),e.profilePictureUrl&&O((e.profilePictureUrl.startsWith("http"),e.profilePictureUrl))};window.addEventListener("storage",e);const t=e=>{try{const t=(null===e||void 0===e?void 0:e.detail)||{};t.profilePictureUrl&&O(t.profilePictureUrl);!!(!u||!u.firstName&&!u.name)&&t.companyName&&t.companyName!==m&&g(t.companyName),t.profilePictureUrl&&d((e=>({...e||{},profileImg:t.profilePictureUrl})))}catch(t){}};return window.addEventListener("settings:updated",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("settings:updated",t)}}),[]),(0,r.useEffect)((()=>{"undefined"!==typeof window&&"Notification"in window&&(j("granted"===Notification.permission),v("granted"===Notification.permission))}),[]),(0,r.useEffect)((()=>{if(!b||!w)return;const e=setInterval((()=>{Math.random()>.85&&S((e=>e+1))}),15e3);return()=>clearInterval(e)}),[b,w]);(0,r.useEffect)((()=>{(async()=>{try{try{const e=await fetch(Ge.SETTINGS.COMPANY);if(e.ok){const t=await e.json();if(t&&t.company&&t.company.logo_url){const e=t.company.logo_url.startsWith("http")?t.company.logo_url:`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_BASE_URL||"http://localhost:5000"}${t.company.logo_url}`;return void(e&&e!==E&&O(e))}}}catch(e){console.debug("Company settings fetch failed, trying user settings:",e)}const t=(null===n||void 0===n?void 0:n.user)||(()=>{try{return JSON.parse(localStorage.getItem("currentUser")||localStorage.getItem("activeUser")||"null")}catch{return null}})(),r=null===t||void 0===t?void 0:t.id;if(!r)return;const a=await fetch(Ge.SETTINGS.USER(r));if(!a.ok)return void console.debug(`Settings endpoint returned ${a.status}. Using defaults.`);const i=await a.json();if(i&&i.success&&i.data&&i.data.personal){const e=i.data.personal||{},t=e.profilePictureUrl,n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_BASE_URL||"http://localhost:5000",r=t?t.startsWith("http")?t:`${n}${t}`:null;r&&r!==E&&O(r);let a=(null===u||void 0===u?void 0:u.firstName)||"",o=(null===u||void 0===u?void 0:u.lastName)||"",s=(null===u||void 0===u?void 0:u.email)||null,l=(null===u||void 0===u?void 0:u.phone)||null;try{a=e.firstName||e.name||a||"",o=e.lastName||o||"",s=e.email||s||null,l=e.phone||l||null;const t={...u||{},firstName:a,lastName:o};s&&(t.email=s),l&&(t.phone=l);try{JSON.stringify(t)===JSON.stringify(u||{})||d(t)}catch(QC){d(t)}if(a){const e=`${a}${o?" "+o:""}`;e!==m&&g(e)}}catch(QC){}try{const t=ht("settings",{});r&&(t.profilePictureUrl=r),e.company&&(t.companyName=e.company),e.email&&(t.email=e.email),e.phone&&(t.phone=e.phone),localStorage.setItem("settings",JSON.stringify(t)),!a&&e.company&&e.company!==m&&g(e.company)}catch(QC){}}}catch(e){}})()}),[null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.id]);return(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6 p-4 sm:p-6 rounded-[18px] shadow-sm bg-white text-black",children:[(0,Te.jsxs)("div",{className:"flex items-center relative",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full mr-3 overflow-hidden flex items-center justify-center border border-gray-200",children:(0,Te.jsx)("img",{src:E,alt:"Profile",className:"w-full h-full object-cover cursor-pointer",onClick:()=>{T(!0)}})}),(0,Te.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,Te.jsx)("div",{className:"text-gray-500 text-xs",children:"Welcome Back!"}),(0,Te.jsx)("div",{className:"flex items-center gap-3",children:y?(0,Te.jsx)("input",{autoFocus:!0,value:m,onChange:e=>g(e.target.value),onBlur:()=>{x(!1);try{const e=ht("settings",{});e.companyName=m,localStorage.setItem("settings",JSON.stringify(e))}catch(QC){}},className:"text-lg sm:text-2xl font-extrabold text-gray-900 border-b border-gray-200 focus:outline-none"}):(0,Te.jsx)("h1",{className:"text-lg sm:text-2xl font-extrabold text-gray-900 truncate",onDoubleClick:()=>x(!0),children:m})}),(null===u||void 0===u?void 0:u.email)&&(0,Te.jsx)("div",{className:"text-sm text-gray-600 mt-0.5 truncate",style:{maxWidth:420},children:u.email})]}),l.length>1&&(0,Te.jsxs)("div",{className:"relative ml-4",children:[(0,Te.jsxs)("button",{onClick:()=>A((e=>!e)),className:"flex items-center px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg text-xs font-medium text-gray-700 border border-gray-200",children:[(0,Te.jsx)(it,{className:"w-4 h-4 mr-1"}),"Switch",(0,Te.jsx)(ot,{className:"w-4 h-4 ml-1"})]}),P&&(0,Te.jsx)("div",{className:"absolute left-0 mt-2 w-52 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:l.map((e=>(0,Te.jsxs)("button",{onClick:()=>(e=>{d(e),A(!1)})(e),className:"flex items-center w-full px-3 py-2 text-sm hover:bg-blue-50 "+(e.email===(null===u||void 0===u?void 0:u.email)?"bg-blue-100 font-semibold":""),children:[(0,Te.jsx)("img",{src:e.profileImg||at,alt:"User",className:"w-6 h-6 rounded-full mr-2 border-2 border-blue-300"}),(0,Te.jsx)("span",{className:"truncate",children:e.firstName||e.lastName?`${e.firstName||""} ${e.lastName||""}`.trim():e.name||e.email}),e.email===(null===u||void 0===u?void 0:u.email)&&(0,Te.jsx)("span",{className:"ml-auto bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Active"})]},e.email)))})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,Te.jsxs)("button",{className:"p-2 relative rounded-full hover:bg-gray-100 transition-colors",onClick:async()=>{if("Notification"in window)if("denied"!==Notification.permission)if("granted"!==Notification.permission){const e=await Notification.requestPermission();j("granted"===e),v("granted"===e),"granted"===e&&(new Notification("Notifications enabled",{body:"You will receive demo notifications"}),S(1))}else v((e=>!e)),S(b?0:1);else alert("Notifications blocked in browser settings");else alert("Browser does not support notifications")},"aria-label":"Toggle notifications",children:[b?(0,Te.jsx)(st,{className:"w-5 h-5 text-gray-600"}):(0,Te.jsx)(lt,{className:"w-5 h-5 text-gray-400"}),N>0&&(0,Te.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:N})]}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("button",{onClick:()=>k((e=>!e)),className:"p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Settings",children:(0,Te.jsx)(ct,{className:"w-5 h-5 text-gray-600"})}),_&&(0,Te.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 p-4",children:(0,Te.jsxs)("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-2xl border border-gray-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsxs)("h3",{className:"font-semibold text-lg text-gray-800 flex items-center gap-2",children:[(0,Te.jsx)(ct,{className:"w-5 h-5 text-blue-500"})," Settings"]}),(0,Te.jsx)("button",{onClick:()=>k(!1),className:"p-1 rounded-full hover:bg-gray-100",children:(0,Te.jsx)(ut,{className:"w-5 h-5 text-gray-500"})})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("img",{src:"/logo.png",alt:"Company logo",className:"w-14 h-14 rounded-full border-2 border-blue-400 object-cover"}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("div",{className:"font-semibold text-gray-900 text-lg",children:m}),(0,Te.jsx)("div",{className:"text-xs text-gray-500",children:null===u||void 0===u?void 0:u.email}),(h.phone||(null===u||void 0===u?void 0:u.phone))&&(0,Te.jsx)("div",{className:"text-xs text-gray-500",children:h.phone||(null===u||void 0===u?void 0:u.phone)}),(0,Te.jsxs)("div",{className:"mt-3 grid grid-cols-1 gap-2 text-sm",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("span",{className:"w-28 text-gray-500",children:"Company"}),(0,Te.jsx)("span",{className:"text-gray-800",children:h.companyName||m})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("span",{className:"w-28 text-gray-500",children:"Email"}),(0,Te.jsx)("span",{className:"text-gray-800",children:h.email||(null===u||void 0===u?void 0:u.email)||"-"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("span",{className:"w-28 text-gray-500",children:"Phone"}),(0,Te.jsx)("span",{className:"text-gray-800",children:h.phone||"-"})]})]})]})]}),(0,Te.jsx)("div",{className:"pt-4 border-t border-gray-200 flex gap-2",children:(0,Te.jsxs)("button",{onClick:()=>{localStorage.clear(),t("/login")},className:"w-full py-2 px-4 bg-red-500 hover:bg-red-600 rounded-lg text-sm font-semibold text-white flex items-center justify-center gap-2",children:[(0,Te.jsx)(dt,{className:"w-4 h-4"})," Logout"]})})]})]})}),C&&(0,Te.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 p-4",children:(0,Te.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-xl p-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Te.jsx)("h4",{className:"font-semibold",children:"Profile Image"}),(0,Te.jsx)("button",{onClick:()=>T(!1),className:"p-1 rounded-full hover:bg-gray-100",children:(0,Te.jsx)(ut,{className:"w-4 h-4"})})]}),(0,Te.jsx)("div",{className:"flex items-center justify-center",children:(0,Te.jsx)("img",{src:"/logo.png",alt:"Company logo",className:"max-h-72 object-contain rounded-md"})})]})})]})]})]})},pt=()=>(0,Te.jsx)("footer",{className:"bg-gray-50 border-t border-gray-200 py-6 mt-auto",children:(0,Te.jsx)("div",{className:"container mx-auto text-center text-sm text-gray-600",children:(0,Te.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ",(0,Te.jsx)("a",{href:"https://digioussolutions.com",className:"text-blue-600 hover:text-blue-800 transition-colors",children:"Digious Solutions"}),". All rights reserved."]})})}),mt=e=>{let{title:t,amount:n,currency:r,indicator:a}=e;return(0,Te.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-[30px] shadow-sm p-3 sm:p-4 border border-gray-100 w-full",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start mb-1 sm:mb-2",children:[(0,Te.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 truncate max-w-[120px] sm:max-w-none",children:t}),a&&(0,Te.jsx)("div",{className:`text-[10px] sm:text-xs px-2 py-1 rounded-md ${(e=>{switch(e){case"blue":default:return"bg-blue-100 text-blue-500";case"red":return"bg-red-100 text-red-500";case"green":return"bg-green-100 text-green-500";case"yellow":return"bg-yellow-100 text-yellow-500"}})(a.color)} whitespace-nowrap`,children:a.text})]}),(0,Te.jsxs)("div",{className:"flex items-end gap-1",children:[(0,Te.jsx)("span",{className:"text-base sm:text-lg font-semibold",children:r}),(0,Te.jsx)("span",{className:"text-xl sm:text-2xl font-bold",children:"number"===typeof n?n.toLocaleString():n})]})]})};var gt=n(3143);const yt=qe("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),xt=qe("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),bt=qe("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),vt=qe("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),wt=qe("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),jt=qe("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Nt=qe("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),St=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(!t)return;const r=t=>{n.current&&!n.current.contains(t.target)&&e(t)},a=t=>{"Escape"!==t.key&&27!==t.keyCode||e(t)},i=setTimeout((()=>{document.addEventListener("mousedown",r),document.addEventListener("keydown",a)}),100);return()=>{clearTimeout(i),document.removeEventListener("mousedown",r),document.removeEventListener("keydown",a)}}),[e,t]),n},_t=e=>{let{label:t,name:n,type:r="text",value:a,onChange:i,required:o=!1,readOnly:s=!1,className:l="",...c}=e;return(0,Te.jsxs)("div",{className:`flex flex-col ${l}`,children:[(0,Te.jsxs)("label",{className:"text-sm font-semibold text-gray-700 mb-2",children:[t,o&&(0,Te.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Te.jsx)("input",{type:r,name:n,value:a,onChange:i,required:o,readOnly:s,className:"rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition "+(s?"bg-gray-50":""),...c})]})},kt=e=>{let{onSubmit:t,onCancel:n,initialData:a=null}=e;const[i,o]=(0,r.useState)([{id:1,description:"",quantity:"",unit:"",rate:"",net_weight:"",amount:0}]),[s,l]=(0,r.useState)({customerName:"",customerEmail:"",phone:"",a_p_Name:"",address:"",stRegNo:"",ntnNumber:"",currency:"PKR",salesTax:0,subtotal:0,taxAmount:0,totalAmount:0,billDate:(new Date).toISOString().split("T")[0],paymentDays:30,note:"",status:"Pending"}),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)([]),[y,x]=(0,r.useState)(!1),[b,v]=(0,r.useState)({customer:"",company:"",date:(new Date).toISOString().split("T")[0],phone:"",address:"",email:"",stn:"",ntn:""}),w=e=>{h(e.customer),l((t=>({...t,customerName:e.customer,customerEmail:e.email,phone:e.phone,address:e.address,stRegNo:e.stn||"",ntnNumber:e.ntn||""}))),p(!1)};(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customertable`);if(e.ok){const t=await e.json();u(t),g(t)}else console.error("Failed to fetch contact persons")}catch(e){console.error("Error fetching contact persons:",e)}})()}),[]),(0,r.useEffect)((()=>{if(0===d.length)g(c),p(!1);else{const e=c.filter((e=>e.customer.toLowerCase().includes(d.toLowerCase())||e.email.toLowerCase().includes(d.toLowerCase())||e.company&&e.company.toLowerCase().includes(d.toLowerCase())));g(e),p(e.length>0&&d.length>0)}}),[d,c]),(0,r.useEffect)((()=>{if(a)if(l({customerName:a.customer_name||"",customerEmail:a.customer_email||"",phone:a.p_number||"",a_p_Name:a.a_p_number||"",address:a.address||"",stRegNo:a.st_reg_no||"",ntnNumber:a.ntn_number||"",currency:a.currency||"PKR",salesTax:parseFloat(a.tax_rate||a.salesTax||0),subtotal:parseFloat(a.subtotal||0),taxAmount:parseFloat(a.tax_amount||0),totalAmount:parseFloat(a.total_amount||0),billDate:a.bill_date?a.bill_date.split("T")[0]:(new Date).toISOString().split("T")[0],paymentDays:a&&(a.payment_days||a.paymentDays)?a.payment_days||a.paymentDays:30,note:a.note||a.Note||"",status:a.status||"Pending"}),h(a.customer_name||""),a.items&&Array.isArray(a.items)&&a.items.length>0){const e=a.items.map(((e,t)=>{var n,r;const a=parseFloat(e.quantity||0),i=parseFloat(e.rate||0),o=void 0!==e.amount&&null!==e.amount?parseFloat(e.amount):a*i;return{id:t+1,description:e.description||e.item_name||"",quantity:(null===(n=e.quantity)||void 0===n?void 0:n.toString())||"",unit:e.unit||e.uom||e.unit_name||"",rate:(null===(r=e.rate)||void 0===r?void 0:r.toString())||"",net_weight:void 0!==e.net_weight&&null!==e.net_weight?e.net_weight:"",amount:o}}));o(e)}else if(a.item_name||a.quantity||a.rate){var e,t;const n=parseFloat(a.quantity||0),r=parseFloat(a.rate||0),i=void 0!==a.item_amount&&null!==a.item_amount?parseFloat(a.item_amount):a.subtotal||n*r,s=[{id:1,description:a.item_name||"",quantity:(null===(e=a.quantity)||void 0===e?void 0:e.toString())||"",unit:a.unit||"",rate:(null===(t=a.rate)||void 0===t?void 0:t.toString())||"",net_weight:a.net_weight||"",amount:i}];o(s)}else o([{id:1,description:"",quantity:"",unit:"",rate:"",net_weight:"",amount:0}])}),[a]);const j=e=>{const{name:t,value:n}=e.target;l((e=>({...e,[t]:n})))},N=e=>{const{name:t,value:n}=e.target;v((e=>({...e,[t]:n})))},S=(e,t,n)=>{const r=[...i];if(r[e]={...r[e],[t]:n},"quantity"===t||"rate"===t){const t=parseFloat(r[e].quantity)||0,n=parseFloat(r[e].rate)||0;r[e].amount=t*n}o(r)};return(0,r.useEffect)((()=>{const e=i.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),t=parseFloat(s.salesTax)||0,n=e*(t/100),r=e+n;l((t=>({...t,subtotal:e,taxAmount:n,totalAmount:r})))}),[i,s.salesTax]),(0,Te.jsx)("div",{className:"max-w-5xl mx-auto bg-white",children:(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=(s.customerName||d||"").toString().trim(),r=c.find((e=>e.customer&&e.customer.toLowerCase()===n.toLowerCase()));r&&w(r);const a=c.some((e=>e.customer&&e.customer.toLowerCase()===n.toLowerCase()));if(!a)return void alert("Contact Person not present. Kindly create new Contact Person first.");if(!s.customerName||!s.customerEmail)return void alert("Please fill in required customer information (Name and Email are required).");const o=i.filter((e=>e.description&&e.quantity&&e.rate));if(0===o.length)return void alert("Please add at least one item with description, quantity, and rate.");const l={customer_name:s.customerName,customer_email:s.customerEmail,p_number:s.phone,a_p_number:s.a_p_Name,address:s.address,st_reg_no:s.stRegNo,ntn_number:s.ntnNumber,currency:"PKR",subtotal:parseFloat(s.subtotal)||0,tax_rate:parseFloat(s.salesTax)||0,tax_amount:parseFloat(s.taxAmount)||0,total_amount:parseFloat(s.totalAmount)||0,bill_date:s.billDate,payment_days:void 0!==s.paymentDays?Number(s.paymentDays):30,note:s.note,status:s.status,items:o.map(((e,t)=>({item_no:t+1,description:e.description,quantity:parseFloat(e.quantity)||0,unit:e.unit||"",rate:parseFloat(e.rate)||0,net_weight:void 0!==e.net_weight&&""!==e.net_weight?parseFloat(e.net_weight):0,amount:parseFloat(e.amount)||0})))};t(l)},className:"space-y-8",children:[(0,Te.jsxs)("section",{children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b pb-2",children:"Contact Person Details"}),(0,Te.jsx)("div",{className:"grid sm:grid-cols-2 gap-4 relative",children:(0,Te.jsxs)("div",{className:"relative sm:col-span-2",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Te.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Contact Person Name*"}),(0,Te.jsx)("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>x(!y),children:y?"Select Existing Contact Person":"Create New Contact Person"})]}),y?(0,Te.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[(0,Te.jsx)(_t,{label:"Contact Person Name *",name:"customer",value:b.customer,onChange:N,required:!0}),(0,Te.jsx)(_t,{label:"Company",name:"company",value:b.company,onChange:N}),(0,Te.jsx)(_t,{label:"Email",type:"email",name:"email",value:b.email,onChange:N,required:!0}),(0,Te.jsx)(_t,{label:"Phone",type:"tel",name:"phone",value:b.phone,onChange:e=>{const t=e.target.value.replace(/[^0-9\-\+\(\)\s]/g,"");N({target:{name:"phone",value:t}})},required:!0,placeholder:"Enter phone number"}),(0,Te.jsx)(_t,{label:"Address",name:"address",value:b.address,onChange:N,required:!0,className:"sm:col-span-2"}),(0,Te.jsx)(_t,{label:"STN Number",name:"stn",value:b.stn,onChange:N,required:!0,placeholder:"Sales Tax Number"}),(0,Te.jsx)(_t,{label:"NTN Number",name:"ntn",value:b.ntn,onChange:N,required:!0,placeholder:"National Tax Number"}),(0,Te.jsxs)("div",{className:"sm:col-span-2 flex justify-end gap-2",children:[(0,Te.jsx)("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-4 py-2 rounded-xl transition duration-300",onClick:()=>x(!1),children:"Cancel"}),(0,Te.jsx)("button",{type:"button",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-xl transition duration-300",onClick:async()=>{try{if(!b.customer||!b.email||!b.phone||!b.address||!b.stn||!b.ntn)return void alert("Please fill in all required fields (Contact Person Name, Email, Phone, Address, STN, and NTN)");const e=c.find((e=>{const t=e.email&&b.email&&e.email.toLowerCase()===b.email.toLowerCase(),n=e.phone&&b.phone&&e.phone===b.phone,r=e.stn&&b.stn&&e.stn===b.stn,a=e.ntn&&b.ntn&&e.ntn===b.ntn;return t||n||r||a}));if(e){let t=[];return e.email.toLowerCase()===b.email.toLowerCase()&&t.push("Email"),e.phone===b.phone&&t.push("Phone Number"),e.stn===b.stn&&t.push("STN"),e.ntn===b.ntn&&t.push("NTN"),void alert(`A customer with the same ${t.join(", ")} already exists: "${e.customer}". Please use different values.`)}console.log("Creating customer with data:",b);const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customertable`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!t.ok){const e=await t.json();throw console.error("API Error Response:",e),new Error(e.message||"Failed to create customer")}const n=await t.json();console.log("Customer created successfully:",n);const r=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customertable`);if(r.ok){const e=await r.json();u(e)}const a=n.customer||n,i={customer_id:a.customer_id,customer:a.customer||b.customer,email:a.email||b.email,phone:a.phone||b.phone,address:a.address||b.address,stn:a.stn||b.stn,ntn:a.ntn||b.ntn};console.log("New customer data to select:",i),w(i),x(!1),v({customer:"",company:"",date:(new Date).toISOString().split("T")[0],phone:"",address:"",email:"",stn:"",ntn:""}),alert("Contact Person created successfully!")}catch(e){console.error("Error creating contact person:",e),alert(e.message||"Failed to create contact person")}},children:"Create Contact Person"})]})]}):(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:"text",value:d,onChange:e=>{const t=e.target.value;h(t),""===t&&l((e=>({...e,customerName:"",customerEmail:"",phone:"",address:"",stRegNo:"",ntnNumber:""})))},onFocus:()=>{d.length>0&&p(m.length>0)},onBlur:()=>{setTimeout((()=>{p(!1)}),200)},className:"w-full rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition",placeholder:"Type customer name to search...",required:!0}),f&&(0,Te.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[m.map((e=>(0,Te.jsx)("div",{onClick:()=>w(e),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:e.customer.charAt(0).toUpperCase()})}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900 truncate",children:e.customer}),e.company&&(0,Te.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.company}),(0,Te.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.email}),e.phone&&(0,Te.jsx)("div",{className:"text-xs text-gray-400",children:e.phone})]})]})},e.customer_id))),0===m.length&&d.length>0&&(0,Te.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,Te.jsx)("div",{className:"text-sm",children:"No results found"}),(0,Te.jsx)("div",{className:"text-xs text-gray-400",children:"Try a different search term"})]})]})]})]})})]}),(0,Te.jsxs)("section",{children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2",children:"Invoice Items"}),(0,Te.jsx)("button",{type:"button",onClick:()=>{const e={id:Date.now(),description:"",quantity:"",unit:"",rate:"",net_weight:"",amount:0};o([...i,e])},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"+ Add Item"})]}),(0,Te.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,Te.jsxs)("table",{className:"w-full border border-gray-300 rounded-lg",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Description *"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Quantity *"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Net Weight (KG)"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Rate *"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Amount"})]})}),(0,Te.jsx)("tbody",{children:i.map(((e,t)=>(0,Te.jsxs)("tr",{className:"border-b",children:[(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"text",value:e.description,onChange:e=>S(t,"description",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Item description",required:!0})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.quantity,onChange:e=>S(t,"quantity",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"0",min:"0",step:"0.01",required:!0})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.net_weight||"",onChange:e=>S(t,"net_weight",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"0.00",min:"0",step:"0.01"})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.rate,onChange:e=>S(t,"rate",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"0.00",min:"0",step:"0.01",required:!0})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"text",value:e.amount?e.amount.toFixed(2):"0.00",readOnly:!0,className:"w-full bg-gray-50 border border-gray-300 rounded px-3 py-2 text-sm"})})]},e.id)))})]})}),(0,Te.jsx)("div",{className:"border-t pt-4",children:(0,Te.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Currency"}),(0,Te.jsx)("input",{type:"text",readOnly:!0,value:"PKR",className:"w-full rounded-xl border border-gray-300 bg-gray-50 px-4 py-2 text-sm shadow-sm focus:outline-none transition"})]}),(0,Te.jsx)(_t,{label:"Sales Tax (%)",type:"number",name:"salesTax",value:s.salesTax,onChange:j,step:"0.5",min:"0"}),(0,Te.jsxs)("div",{className:"grid gap-3",children:[(0,Te.jsx)(_t,{label:"Subtotal",type:"text",value:s.subtotal?s.subtotal.toFixed(2):"0.00",readOnly:!0,className:"bg-blue-50 border-blue-200 font-medium"}),(0,Te.jsx)(_t,{label:"Tax Amount",type:"text",value:s.taxAmount?s.taxAmount.toFixed(2):"0.00",readOnly:!0,className:"bg-blue-50 border-blue-200 font-medium"}),(0,Te.jsx)(_t,{label:"Total Amount",type:"text",value:s.totalAmount?s.totalAmount.toFixed(2):"0.00",readOnly:!0,className:"bg-green-50 border-green-200 font-bold text-lg"})]})]})})]}),(0,Te.jsxs)("section",{children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b pb-2",children:"Invoice Info"}),(0,Te.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,Te.jsx)(_t,{label:"Bill Date",type:"date",name:"billDate",value:s.billDate,onChange:j}),(0,Te.jsx)(_t,{label:"Payment Days (editable)",type:"number",name:"paymentDays",value:s.paymentDays,onChange:j,min:"0",max:"365"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,Te.jsxs)("select",{name:"status",value:s.status,onChange:j,className:"w-full rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition",children:[(0,Te.jsx)("option",{value:"Pending",children:"Pending"}),(0,Te.jsx)("option",{value:"Paid",children:"Paid"}),(0,Te.jsx)("option",{value:"Overdue",children:"Overdue"})]})]})]}),(0,Te.jsxs)("div",{className:"mt-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Note"}),(0,Te.jsx)("textarea",{name:"note",rows:4,value:s.note,onChange:j,className:"w-full border border-gray-300 rounded-xl p-3 bg-white shadow-sm focus:ring-2 focus:ring-blue-200 outline-none transition",placeholder:"Enter a message for the customer..."})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-8 py-2 rounded-xl transition duration-300",onClick:n,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-2 rounded-xl transition duration-300",children:a?"Update Invoice":"Create Invoice"})]})]})})},Pt=()=>{const e=te(),[t,n]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[o,s]=(0,r.useState)(1),[l,c]=(0,r.useState)(10),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("All"),[p,m]=(0,r.useState)({minAmount:"",maxAmount:"",dateFrom:"",dateTo:"",customer:"",company:"",status:""}),[g,y]=(0,r.useState)(!1),[x,b]=(0,r.useState)([]),[v,w]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[S,_]=(0,r.useState)(!1),[k,P]=(0,r.useState)(null),[A,E]=(0,r.useState)(null),[O,C]=(0,r.useState)(null),[T,L]=(0,r.useState)(!0),D=(0,r.useRef)([]),F=(0,r.useRef)(null),I=St((()=>{S&&(_(!1),P(null))}),S),[R,M]=(0,r.useState)({All:0,Paid:0,Pending:0,Overdue:0,"PO Invoices":0}),B=(0,r.useCallback)((async()=>{try{console.debug("Fetching fresh tab counts...");const[e,t]=await Promise.all([fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices?exclude_po=true&limit=1000&_t=${Date.now()}`),fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices?invoice_type=po_invoice&limit=1000&_t=${Date.now()}`)]),[n,r]=await Promise.all([e.ok?e.json():{data:[]},t.ok?t.json():{data:[]}]),a=n.data||n||[],i=r.data||r||[],o=[...a,...i];console.debug("Raw data - Regular invoices:",a.length,"PO invoices:",i.length);const s={All:o.length,Paid:o.filter((e=>"Paid"===e.status)).length,Pending:o.filter((e=>"Pending"===e.status)).length,Overdue:o.filter((e=>"Overdue"===e.status)).length,"PO Invoices":i.length};console.debug("Updated tab counts:",s),M(s)}catch(e){console.error("Error fetching tab counts:",e)}}),[]),z=(0,r.useRef)();z.current=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{L(!0);const t=null!==e?e:p,r=new URLSearchParams;u.trim()&&r.append("search",u.trim()),"PO Invoices"===h?r.append("invoice_type","po_invoice"):"All"===h||"All"===h||t.status&&""!==t.status||r.append("status",h),Object.entries(t).forEach((e=>{let[t,n]=e;n&&""!==n&&("account"===t?r.append("customer",n):"dateFrom"===t?r.append("dateFrom",n):"dateTo"===t?r.append("dateTo",n):r.append(t,n))})),r.append("sortBy","created_at"),r.append("sortOrder","DESC"),r.append("limit","100");const a=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices?${r.toString()}`;console.debug("Fetching invoices with URL:",a),console.debug("Current filters:",t),console.debug("Search term:",u),console.debug("Active tab:",h);const i=await fetch(a);if(!i.ok)throw new Error("Failed to fetch invoices");const o=await i.json();console.debug("API Response count:",o.data?o.data.length:"No data"),console.debug("API Response data:",o.data);const s=o.data||o;n(Array.isArray(s)?s:[]),setTimeout((()=>{B()}),100)}catch(t){console.error("Error fetching invoices:",t),q("Error","Failed to fetch invoices"),n([])}finally{L(!1)}};const U=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return z.current(e)}),[B]);(0,r.useEffect)((()=>{console.debug("Component mounted - loading initial data"),U({}),B()}),[B]),(0,r.useEffect)((()=>{console.debug("Active tab changed:",h),s(1),U()}),[h]);const q=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;C({title:e,description:t}),setTimeout((()=>C(null)),n)};(0,r.useEffect)((()=>{g&&0===x.length&&(async()=>{try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customertable`);if(!e.ok)return;const t=await e.json(),n=Array.from(new Set((t||[]).map((e=>(e.company||"").trim())).filter(Boolean)));b(n.sort(((e,t)=>e.localeCompare(t))))}catch(e){console.error("Failed to fetch companies",e)}})()}),[g]),(0,r.useEffect)((()=>{!0===v&&p.company&&""!==p.company.trim()&&(console.debug("Auto-applying company filter for:",p.company),s(1),U())}),[v,p.company,U]);const $=(0,r.useCallback)((e=>{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))}),[]),W=(0,r.useCallback)((()=>{m({minAmount:"",maxAmount:"",dateFrom:"",dateTo:"",customer:"",company:"",status:""}),d(""),w(null),f("All"),s(1),q("Filters reset","All filters have been cleared"),setTimeout((()=>{U({})}),100)}),[U]),H=(0,r.useCallback)((()=>{console.debug("Search button clicked - applying filters"),s(1),U()}),[U]);(0,r.useEffect)((()=>{const e=e=>{F.current&&F.current.contains(e.target)||D.current.every((t=>!(null!==t&&void 0!==t&&t.contains(e.target))))&&N(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const K=(0,r.useCallback)((()=>(0,gt.filterInvoices)(t,h,p,u)),[t,h,p,u]),V=Math.ceil(K().length/l),G=(o-1)*l,Y=K().slice(G,G+l);(0,r.useEffect)((()=>{0!==V?o>V&&s(V):s(1)}),[V,o]);const X=[];if(V<=10)for(let r=1;r<=V;r++)X.push(r);else{const e=Math.floor(5);let t=Math.max(1,o-e),n=t+10-1;n>V&&(n=V,t=n-10+1),t>1&&(X.push(1),t>2&&X.push("..."));for(let r=t;r<=n;r++)X.push(r);n<V&&(n<V-1&&X.push("..."),X.push(V))}const Q=e=>{try{const t=new Date(e);if(isNaN(t))return e;const n=t.toLocaleString("default",{month:"short"}),r=t.getDate().toString().padStart(2,"0");return`${n} ${r}, ${t.getFullYear()}`}catch{return e}},J=e=>{e>=1&&e<=V&&(s(e),i([]))};return T?(0,Te.jsx)("div",{className:"p-4 flex justify-center items-center h-64",children:(0,Te.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Te.jsx)(yt,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"}),(0,Te.jsx)("div",{className:"text-gray-500",children:"Loading invoices..."})]})}):(0,Te.jsxs)("div",{className:"p-4",children:[O&&(0,Te.jsxs)("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:[(0,Te.jsx)("div",{className:"font-bold",children:O.title}),(0,Te.jsx)("div",{children:O.description})]}),S&&(0,Te.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Te.jsx)("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm"}),(0,Te.jsxs)("div",{ref:I,className:"relative bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4 p-6",children:[(0,Te.jsx)("div",{className:"mb-4",children:(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:k?`Edit Invoice ${k.id}`:"Create New Invoice"})}),(0,Te.jsx)(kt,{initialData:k,onSubmit:async e=>{try{let t;if(t=k?await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices/${k.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}):await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),!t.ok)throw new Error(`Failed to ${k?"update":"create"} invoice`);await U(),await B(),q("Invoice "+(k?"updated":"created"),`Invoice has been ${k?"updated":"created"} successfully`)}catch(t){console.error("Error saving invoice:",t),q("Error",`Failed to ${k?"update":"create"} invoice`)}_(!1),P(null)},onCancel:()=>{_(!1),P(null)}})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-5",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold",children:"Invoices"}),(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your billing and invoices efficiently"})]}),(0,Te.jsxs)("div",{className:"flex flex-col xs:flex-row gap-3 w-full sm:w-auto",children:[(0,Te.jsxs)("div",{className:"relative flex-grow",children:[(0,Te.jsx)(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search invoices...",className:"pl-10 pr-3 py-2 border rounded-md text-sm w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:u,onChange:e=>{d(e.target.value),s(1)}})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("button",{onClick:()=>{P(null),_(!0)},className:"flex items-center gap-1 bg-[#1976D2] text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-600 transition-colors",children:[(0,Te.jsx)(bt,{className:"w-4 h-4"}),"Create Invoice"]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 border rounded-md px-3 py-2 text-sm transition-colors "+(g?"bg-gray-100 border-gray-300":"bg-white hover:bg-gray-50"),onClick:()=>y(!g),children:[(0,Te.jsx)(vt,{className:"w-4 h-4"}),"Filter"]})]})]})]}),g&&(0,Te.jsxs)("div",{ref:F,className:"bg-gray-50 p-4 rounded-lg mb-4 space-y-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Min Amount"}),(0,Te.jsx)("input",{type:"number",name:"minAmount",placeholder:"Min amount",className:"w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.minAmount,onChange:$})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Max Amount"}),(0,Te.jsx)("input",{type:"number",name:"maxAmount",placeholder:"Max amount",className:"w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.maxAmount,onChange:$})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),(0,Te.jsx)("input",{type:"date",name:"dateFrom",className:"w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.dateFrom,onChange:$})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),(0,Te.jsx)("input",{type:"date",name:"dateTo",className:"w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.dateTo,onChange:$})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Contact Person Name"}),(0,Te.jsx)("input",{type:"text",name:"customer",className:"w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.customer,onChange:$,placeholder:"Type Contact Person name..."})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Company"}),(0,Te.jsx)("input",{list:"company-list",type:"text",name:"company",className:"w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.company,onChange:e=>{$(e);const t=(e.target.value||"").trim();w(""===t?null:x.some((e=>e.toLowerCase()===t.toLowerCase())))},placeholder:"Type company name..."}),(0,Te.jsx)("datalist",{id:"company-list",children:(()=>{const e=(p.company||"").trim().toLowerCase();if(!e)return x.map((e=>(0,Te.jsx)("option",{value:e},e)));const t=x.filter((t=>t.toLowerCase().includes(e))).sort(((t,n)=>{const r=t.toLowerCase(),a=n.toLowerCase();if(r===e)return-1;if(a===e)return 1;const i=r.startsWith(e),o=a.startsWith(e);return i&&!o?-1:!i&&o?1:t.localeCompare(n)})).slice(0,10);return t.map((e=>(0,Te.jsx)("option",{value:e},e)))})()}),!0===v&&(0,Te.jsx)("div",{className:"mt-1 text-xs text-green-600",children:"\u2713 Company found"}),!1===v&&""!==p.company.trim()&&(0,Te.jsx)("div",{className:"mt-1 text-xs text-red-600",children:"\u2717 No matching company"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),(0,Te.jsxs)("select",{name:"status",className:"w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.status,onChange:$,children:[(0,Te.jsx)("option",{value:"",children:"All Status"}),(0,Te.jsx)("option",{value:"Draft",children:"Draft"}),(0,Te.jsx)("option",{value:"Not Sent",children:"Not Sent"}),(0,Te.jsx)("option",{value:"Sent",children:"Sent"}),(0,Te.jsx)("option",{value:"Pending",children:"Pending"}),(0,Te.jsx)("option",{value:"Paid",children:"Paid"}),(0,Te.jsx)("option",{value:"Overdue",children:"Overdue"})]})]})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsxs)("button",{onClick:H,className:"px-6 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium transition-colors shadow-sm flex items-center gap-2",children:[(0,Te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]}),(0,Te.jsx)("button",{onClick:W,className:"px-4 py-2.5 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm font-medium transition-colors",children:"Reset"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Items per page:"}),(0,Te.jsx)("select",{value:l,onChange:e=>{c(Number(e.target.value)),s(1)},className:"p-2 border rounded text-sm focus:ring-2 focus:ring-blue-500",children:[10,20,50,100].map((e=>(0,Te.jsx)("option",{value:e,children:e},e)))})]})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,Te.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Te.jsx)("div",{className:"flex border-b w-max min-w-full",children:["All","Paid","Pending","Overdue","Sent","Not Sent","PO Invoices"].map((e=>{const n=(()=>{const e={All:0,Paid:0,Pending:0,Overdue:0,Sent:0,"Not Sent":0,"PO Invoices":0};t.forEach((t=>{e.All++,"po_invoice"===t.invoice_type&&e["PO Invoices"]++,"Paid"===t.status?e.Paid++:"Pending"===t.status?e.Pending++:"Overdue"===t.status?e.Overdue++:"Sent"===t.status?e.Sent++:"Not Sent"!==t.status&&"Draft"!==t.status||e["Not Sent"]++}));const n=(e.Paid||0)+(e.Pending||0)+(e.Overdue||0)+(e.Sent||0)+(e["Not Sent"]||0);return e.All=n+(e["PO Invoices"]||0),Object.keys(e).forEach((t=>{R[t]>0&&0===e[t]&&(e[t]=R[t])})),e})();return(0,Te.jsxs)("button",{className:"px-3 py-2 text-sm font-medium whitespace-nowrap border-b-2 "+(h===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>{f(e),s(1),"All"!==e&&"PO Invoices"!==e&&m((e=>({...e,status:""})))},children:[e," (",n[e]||0,")"]},e)}))})})}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-white",children:(0,Te.jsxs)("tr",{className:"text-center text-sm font-normal text-black",children:[(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap w-10",children:(0,Te.jsx)("input",{type:"checkbox",checked:Y.length>0&&a.length===Y.length,onChange:()=>{i((e=>e.length===Y.length?[]:Y.map((e=>e.id))))},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap text-left",children:"Invoice ID"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap text-left",children:"Billing Date"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap text-left",children:"Contact Person"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap text-right",children:"Amount"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Status"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===Y.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"7",className:"py-8 text-center text-sm text-gray-500",children:(0,Te.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Te.jsx)(xt,{className:"w-8 h-8 text-gray-300 mb-2"}),"No invoices found matching your criteria",u||Object.values(p).some(Boolean)?(0,Te.jsx)("button",{onClick:W,className:"mt-2 text-blue-500 hover:text-blue-700 text-sm",children:"Clear filters"}):null]})})}):Y.map(((t,r)=>{var o,s;return(0,Te.jsxs)("tr",{className:"hover:bg-gray-50 "+(a.includes(t.id)?"bg-blue-50":""),children:[(0,Te.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:a.includes(t.id),onChange:()=>{return e=t.id,void i((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{children:"po_invoice"===t.invoice_type?t.invoice_number:`INV-${t.id}`}),"po_invoice"===t.invoice_type&&(0,Te.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:"PO"})]}),(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["Due: ",Q(t.payment_deadline)]}),t.po_number&&(0,Te.jsxs)("span",{className:"text-xs text-blue-600",children:["From: ",t.po_number]})]})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap",children:Q(t.bill_date)}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500",children:(0,Te.jsx)("div",{className:"line-clamp-1",children:t.customer_name})}),(0,Te.jsxs)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap text-right",children:[t.currency," ",null===(o=t.total_amount)||void 0===o?void 0:o.toLocaleString()]}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-center",children:(0,Te.jsx)("span",{className:`px-2 py-1 inline-flex items-center justify-center text-xs font-semibold rounded-full ${s=t.status,{Paid:"bg-green-100 text-green-800",Pending:"bg-yellow-100 text-yellow-800",Overdue:"bg-red-100 text-red-800",Sent:"bg-green-100 text-green-800","Not Sent":"bg-orange-100 text-orange-800",Draft:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800"}`,children:t.status||"Pending"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap relative",children:(0,Te.jsxs)("div",{className:"flex justify-center",children:[(0,Te.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:e=>((e,t)=>{t.stopPropagation(),N(j===e?null:e)})(t.id,e),"aria-label":"Invoice actions",children:(0,Te.jsx)(wt,{className:"h-5 w-5"})}),j===t.id&&(0,Te.jsx)("div",{ref:e=>D.current[r]=e,className:"absolute right-0 z-50 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200",children:(0,Te.jsxs)("div",{className:"py-1",children:[(0,Te.jsxs)("button",{onClick:()=>(t=>{"po_invoice"===t.invoice_type?e(`/invoice/po/${t.id}`):e(`/invoice/${t.id}`),N(null)})(t),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(We,{className:"w-4 h-4 mr-2"}),"po_invoice"===t.invoice_type?"View PO Inovice":"View"]}),"po_invoice"!==t.invoice_type&&(0,Te.jsx)(Te.Fragment,{children:(0,Te.jsxs)("button",{onClick:()=>(async t=>{if("po_invoice"===t.invoice_type)e("/purchase-order",{state:{editPOId:t.po_number}});else try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices/${t.id}`);if(!e.ok)throw new Error("Failed to fetch invoice details");const n=await e.json();console.debug("Complete invoice data for editing:",n),P(n),_(!0)}catch(n){console.error("Error fetching invoice for editing:",n),q("Error","Failed to load invoice details for editing")}N(null)})(t),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Edit"]})}),(0,Te.jsxs)("button",{onClick:()=>(async e=>{const t="po_invoice"===e.invoice_type?e.invoice_number:e.id,r="po_invoice"===e.invoice_type?`Are you sure you want to delete PO invoice ${t}?\n\nThis will:\n- Remove the invoice from the system\n- Restore ${e.currency||"PKR"} ${parseFloat(e.total_amount||0).toLocaleString()} to PO ${e.po_number}\n- Add deletion to PO history`:`Are you sure you want to delete invoice ${t}?`;if(window.confirm(r))try{let r;if(r="po_invoice"===e.invoice_type?await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices/${e.id}`,{method:"DELETE"}):await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices/${e.id}`,{method:"DELETE"}),!r.ok)throw new Error("Failed to delete invoice");let a=null;"po_invoice"===e.invoice_type&&(a=await r.json()),n((t=>t.filter((t=>t.id!==e.id)))),B(),"po_invoice"===e.invoice_type&&a?q("PO Invoice Deleted",`PO invoice ${t} deleted successfully.\n${a.poUpdate.message}`,"success"):q("Invoice deleted",`Invoice ${t} has been deleted`)}catch(a){console.error("Error deleting invoice:",a),q("Error","Failed to delete invoice","error")}N(null)})(t),className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[(0,Te.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]})})]},t.id)}))})]})}),V>1&&(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 border-t border-gray-200 bg-white gap-3",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",G+1,"-",Math.min(G+l,K().length)," of ",K().length," invoices"]}),(0,Te.jsxs)("div",{className:"flex gap-1",children:[(0,Te.jsx)("button",{onClick:()=>J(o-1),disabled:1===o,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),X.map(((e,t)=>"..."===e?(0,Te.jsx)("div",{className:"px-3 py-1 text-sm rounded-md min-w-[36px] flex items-center justify-center",children:"..."},`dots-${t}`):(0,Te.jsx)("button",{onClick:()=>J(e),className:`px-3 py-1 text-sm rounded-md min-w-[36px] ${o===e?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"} border`,children:e},e))),(0,Te.jsx)("button",{onClick:()=>J(o+1),disabled:o===V,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})},At=qe("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Et=qe("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ot=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[i,o]=(0,r.useState)(1),[s,l]=(0,r.useState)({}),[c,u]=(0,r.useState)(null),d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{a(!0);const n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/transaction-history?page=${e}&limit=5`);if(!n.ok)throw new Error("Failed to fetch transactions");const r=await n.json();t(r.data||[]),l(r.pagination||{}),u(null)}catch(n){console.error("Error fetching transactions:",n),u("Failed to load transactions"),t([])}finally{a(!1)}};(0,r.useEffect)((()=>{d(i)}),[i]);const h=e=>{e>=1&&e<=(s.totalPages||1)&&o(e)},f=function(e){return`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PKR"} ${e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}`};return n?(0,Te.jsxs)("div",{className:"bg-white rounded-[30px] shadow-sm border border-gray-200 p-4",children:[(0,Te.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold",children:"Transaction History"})}),(0,Te.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-500",children:"Loading transactions..."})]})]}):(0,Te.jsxs)("div",{className:"bg-white rounded-[30px] shadow-sm border border-gray-200 p-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold",children:"Transaction History"}),(0,Te.jsx)("button",{onClick:()=>d(i),className:"text-gray-500 hover:bg-gray-100 p-2 rounded-full transition-colors",title:"Refresh transactions",children:(0,Te.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Te.jsx)("h3",{className:"text-sm text-gray-500",children:"Recent Payments"}),s.totalRecords>0&&(0,Te.jsxs)("span",{className:"text-xs text-gray-400",children:[s.totalRecords," total"]})]}),c?(0,Te.jsxs)("div",{className:"text-center py-6 text-red-500",children:[(0,Te.jsx)("p",{className:"text-sm",children:c}),(0,Te.jsx)("button",{onClick:()=>d(i),className:"mt-2 text-xs text-blue-500 hover:text-blue-700",children:"Try again"})]}):e.length>0?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"space-y-3 mb-4",children:e.map((e=>(0,Te.jsxs)("div",{className:"flex items-center p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,Te.jsx)("div",{className:"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,Te.jsx)("span",{className:"font-medium text-green-700 text-xs",children:e.initial})}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsx)("p",{className:"text-sm font-medium truncate text-gray-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-xs text-gray-500",children:[e.time," \u2022 ",e.transaction_type]})]}),(0,Te.jsxs)("div",{className:"text-sm font-semibold text-green-600",children:["+",f(e.amount,e.currency)]})]},`${e.id}-${e.invoice_id}`)))}),s.totalPages>1&&(0,Te.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,Te.jsxs)("button",{onClick:()=>h(i-1),disabled:!s.hasPrev,className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(At,{className:"w-3 h-3"}),"Previous"]}),(0,Te.jsx)("div",{className:"flex items-center gap-1",children:(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["Page ",s.currentPage," of ",s.totalPages]})}),(0,Te.jsxs)("button",{onClick:()=>h(i+1),disabled:!s.hasNext,className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,Te.jsx)(Et,{className:"w-3 h-3"})]})]})]}):(0,Te.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,Te.jsx)("svg",{className:"mx-auto h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Te.jsx)("p",{className:"mt-2 text-sm",children:"No paid invoices found"}),(0,Te.jsx)("p",{className:"text-xs text-gray-400",children:"Paid invoices will appear here"})]})]})]})};Array(12).fill(0);let Ct=1;const Tt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,a="number"===typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Ct++,i=this.toasts.find((e=>e.id===a)),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map((t=>t.id===a?(this.publish({...t,...e,id:a,title:n}),{...t,...e,id:a,dismissible:o,title:n}):t)):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame((()=>this.subscribers.forEach((t=>t({id:e,dismiss:!0})))))):this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!==typeof t.description?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i,o=void 0!==n;const s=a.then((async e=>{i=["resolve",e];if(r.isValidElement(e))o=!1,this.create({id:n,type:"default",message:e});else if(Lt(e)&&!e.ok){o=!1;const a="function"===typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,i="function"===typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,s="object"===typeof a&&!r.isValidElement(a)?a:{message:a};this.create({id:n,type:"error",description:i,...s})}else if(e instanceof Error){o=!1;const a="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof a&&!r.isValidElement(a)?a:{message:a};this.create({id:n,type:"error",description:i,...s})}else if(void 0!==t.success){o=!1;const a="function"===typeof t.success?await t.success(e):t.success,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof a&&!r.isValidElement(a)?a:{message:a};this.create({id:n,type:"success",description:i,...s})}})).catch((async e=>{if(i=["reject",e],void 0!==t.error){o=!1;const a="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof a&&!r.isValidElement(a)?a:{message:a};this.create({id:n,type:"error",description:i,...s})}})).finally((()=>{o&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)})),l=()=>new Promise(((e,t)=>s.then((()=>"reject"===i[0]?t(i[1]):e(i[1]))).catch(t)));return"string"!==typeof n&&"number"!==typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||Ct++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter((e=>!this.dismissedToasts.has(e.id))),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Lt=e=>e&&"object"===typeof e&&"ok"in e&&"boolean"===typeof e.ok&&"status"in e&&"number"===typeof e.status,Dt=(e,t)=>{const n=(null==t?void 0:t.id)||Ct++;return Tt.addToast({title:e,...t,id:n}),n},Ft=Object.assign(Dt,{success:Tt.success,info:Tt.info,warning:Tt.warning,error:Tt.error,custom:Tt.custom,message:Tt.message,promise:Tt.promise,dismiss:Tt.dismiss,loading:Tt.loading},{getHistory:()=>Tt.toasts,getToasts:()=>Tt.getActiveToasts()});!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const It=()=>{const[e,t]=(0,r.useState)([{title:"Total Invoices",amount:"0",currency:"",indicator:{text:"Loading...",color:"gray"}},{title:"Awaiting Payment",amount:"0",currency:"PKR",indicator:{text:"Loading...",color:"gray"}},{title:"Overdue Amount",amount:"0",currency:"PKR",indicator:{text:"Loading...",color:"gray"}},{title:"Paid Invoices",amount:"0",currency:"PKR",indicator:{text:"Loading...",color:"gray"}}]),[n,a]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{try{a(!0);const e=await fetch(`${Ge.INVOICES.LIST}?limit=1000&_t=${Date.now()}`);if(!e.ok)throw new Error("Failed to fetch invoices");const n=await e.json(),r=n.data||n||[],i=(r.filter((e=>e&&"po_invoice"===e.invoice_type)),r.filter((e=>e&&"po_invoice"!==e.invoice_type)),r.length,r.filter((e=>e&&"po_invoice"===e.invoice_type)).length,r.filter((e=>e&&"po_invoice"!==e.invoice_type)).length,{All:0,Paid:0,Pending:0,Overdue:0,Sent:0,"Not Sent":0,"PO Invoices":0});r.forEach((e=>{e&&("po_invoice"===e.invoice_type&&i["PO Invoices"]++,"Paid"===e.status?i.Paid++:"Pending"===e.status?i.Pending++:"Overdue"===e.status?i.Overdue++:"Sent"===e.status?i.Sent++:"Not Sent"!==e.status&&"Draft"!==e.status||i["Not Sent"]++)}));const o=(i.Paid||0)+(i.Pending||0)+(i.Overdue||0)+(i.Sent||0)+(i["Not Sent"]||0);i.All=o+(i["PO Invoices"]||0);const s=i.All,l=i["PO Invoices"],c=s-l;console.log("Invoices.jsx - Derived counts from statuses:",i,"DisplayTotal:",s,"Regular:",c,"PO:",l);const u=e=>{if(!e)return 0;const t=[e.total_amount,e.totalAmount,e.total,e.amount,e.subtotal,e.invoice_amount,e.invoiceTotal,e.final_amount];for(const n of t){const e=parseFloat(n);if(!isNaN(e))return e}return 0},d=e=>!e||isNaN(e)?"0":new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(e),h=r.filter((e=>e&&"Paid"===e.status)),f=h.reduce(((e,t)=>e+u(t)),0),p=["Not Sent","Draft","Sent","Pending"],m=r.filter((e=>e&&p.includes(e.status))),g=m.reduce(((e,t)=>e+u(t)),0),y=r.filter((e=>e&&"Overdue"===e.status)),x=y.reduce(((e,t)=>e+u(t)),0);t([{title:"Total Invoices",amount:s.toString(),currency:"",indicator:{text:`${c} Regular + ${l} PO`,color:s>0?"blue":"gray"}},{title:"Pending Invoice Payment",amount:d(g),currency:"PKR",indicator:{text:`${m.length} Invoices`,color:m.length>0?"yellow":"green"}},{title:"Overdue Invoice Amount",amount:d(x),currency:"PKR",indicator:{text:y.length>0?`${y.length} Need Action`:"All Clear",color:y.length>0?"red":"green"}},{title:"Paid Invoice Invoices",amount:d(f),currency:"PKR",indicator:{text:`${h.length} Completed`,color:h.length>0?"green":"gray"}}])}catch(e){console.error("Error fetching invoice statistics:",e),Ft.error("Failed to load invoice statistics")}finally{a(!1)}})()}),[]);return(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("main",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)("div",{className:"flex justify-between items-center mb-6"}),(0,Te.jsx)(ft,{}),(0,Te.jsx)("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-6",children:e.map(((e,t)=>(0,Te.jsx)(mt,{title:e.title,amount:n?"...":e.amount,currency:e.currency,indicator:e.indicator},t)))}),(0,Te.jsx)("section",{className:"w-full mb-5",children:(0,Te.jsx)(Pt,{onCreateInvoice:()=>{Ft.success("Creating a new invoice...",{description:"Your new invoice is being prepared."})}})}),(0,Te.jsx)("section",{className:"mt-5",children:(0,Te.jsx)(Ot,{})}),(0,Te.jsx)(pt,{})]})]})},Rt=qe("file-down",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Mt=["All","Pending","Preparing","On the way","Delivered","Cancelled"],Bt=[4,10,20,50],zt=e=>{let{activeTab:t,setActiveTab:a,onCreateReport:i,reports:o=[]}=e;const[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(1),[m,g]=(0,r.useState)(4),[y,x]=(0,r.useState)(0),[b,v]=(0,r.useState)(0),[w,j]=(0,r.useState)(!1),[N,S]=(0,r.useState)({}),[_,k]=(0,r.useState)(null),P=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;k({title:e,description:t}),setTimeout((()=>k(null)),n)},[A,E]=(0,r.useState)(""),[O,C]=(0,r.useState)(!1),[T,L]=(0,r.useState)({customer:"",minPrice:"",maxPrice:"",dateFrom:"",dateTo:""}),[D,F]=(0,r.useState)(null),[I,R]=(0,r.useState)(null),[M,B]=(0,r.useState)(!1),[z,U]=(0,r.useState)(!1),[q,$]=(0,r.useState)(null),[W,H]=(0,r.useState)(null),K=(0,r.useRef)([]),V=e=>{switch(e){case"Pending":return"bg-orange-100 text-orange-800";case"Preparing":case"On the way":return"bg-blue-100 text-blue-800";case"Cancelled":return"bg-red-100 text-red-800";case"Delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},G=(f-1)*m,Y=Array.isArray(s)?s:[],X=e=>{e>=1&&e<=y&&(p(e),h([]))},Q=e=>{const{name:t,value:n}=e.target;L((e=>({...e,[t]:n})))};function J(){let e=0;s.forEach((t=>{let n=0;"string"===typeof t.id&&/^\d+$/.test(t.id)?n=parseInt(t.id,10):"number"===typeof t.id&&(n=t.id),n>e&&(e=n)}));return(e+1).toString().padStart(2,"0")}const Z=async()=>{try{j(!0);const r=new URLSearchParams({page:f.toString(),limit:m.toString()});"All"!==t&&r.append("status",t),A&&r.append("search",A),T.customer&&r.append("customer",T.customer),T.minPrice&&r.append("minPrice",T.minPrice),T.maxPrice&&r.append("maxPrice",T.maxPrice),T.dateFrom&&r.append("dateFrom",T.dateFrom),T.dateTo&&r.append("dateTo",T.dateTo);const a=await fetch(`${Ge.REPORTS.LIST}?${r}`),i=await a.json();if(!a.ok)throw new Error(i.message||"Failed to fetch reports");var e,n;l(i.data||[]),x((null===(e=i.pagination)||void 0===e?void 0:e.totalPages)||0),v((null===(n=i.pagination)||void 0===n?void 0:n.totalRecords)||0)}catch(r){console.error("Error fetching reports:",r),l([]),P("Error","Failed to fetch reports: "+r.message)}finally{j(!1)}},ee=async()=>{try{const e=await fetch(Ge.REPORTS.STATS),t=await e.json();e.ok&&S(t)}catch(e){console.error("Error fetching status counts:",e)}},te=()=>{const[e,t]=(0,r.useState)(I),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),u=(0,r.useRef)(null),d=(0,r.useRef)(null);(0,r.useEffect)((()=>{e.id&&/^ORD-\d{13}-\d{4}$/.test(e.id)||t((e=>({...e,id:J()})))}),[e.id]);const h=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r}))),"customer"===n&&(d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{(async e=>{if(!e||e.length<1)return a([]),void o(!1);try{c(!0);const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customers/suggestions?q=${encodeURIComponent(e)}`);if(t.ok){const e=await t.json();a(e.slice(0,5)),o(e.length>0)}else{const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/reports?limit=100`);if(t.ok){const n=await t.json(),r=[...new Set(n.data.map((e=>e.customer)).filter((t=>t&&t.toLowerCase().startsWith(e.toLowerCase()))))].slice(0,5);a(r),o(r.length>0)}}}catch(t){console.error("Error fetching customer suggestions:",t),a([]),o(!1)}finally{c(!1)}})(r)}),300))},f=e=>{t((t=>({...t,customer:e}))),o(!1),a([])},[p,m]=(0,r.useState)(-1);(0,r.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e),d.current&&clearTimeout(d.current)}}),[]);return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold mb-4",children:I&&I.id?"Edit Report":"Create New Report"}),(0,Te.jsxs)("form",{onSubmit:t=>{t.preventDefault();let n=e.status;"Being Prepared"===n&&(n="Preparing"),"On The Way"===n&&(n="On the way"),(async e=>{try{let t;if(t=s.some((t=>t.id===e.id))?await fetch(`${Ge.REPORTS.GET(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}):await fetch(Ge.REPORTS.LIST,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),!t.ok){let e="Failed to save report";try{e=(await t.json()).error||e}catch{}throw new Error(e)}B(!1),R(null),Z(),ee(),P("Report saved",`Report ${e.id} has been saved`)}catch(t){P("Error","Error saving report: "+t.message)}})({...e,status:n})},children:[(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order ID"}),(0,Te.jsx)("input",{type:"text",name:"id",value:e.id,className:"w-full p-2 border rounded-md bg-gray-100 cursor-not-allowed",required:!0,disabled:!0})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,Te.jsx)("input",{type:"date",name:"date",value:e.date,onChange:h,className:"w-full p-2 border rounded-md",required:!0})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),(0,Te.jsxs)("div",{className:"relative",ref:u,children:[(0,Te.jsx)("input",{type:"text",name:"customer",value:e.customer,onChange:h,onKeyDown:e=>{if(i&&0!==n.length)switch(e.key){case"ArrowDown":e.preventDefault(),m((e=>e<n.length-1?e+1:0));break;case"ArrowUp":e.preventDefault(),m((e=>e>0?e-1:n.length-1));break;case"Enter":e.preventDefault(),p>=0&&f(n[p]);break;case"Escape":o(!1),m(-1);break;default:m(-1)}},onFocus:()=>{e.customer&&n.length>0&&o(!0)},className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Start typing customer name...",required:!0,autoComplete:"off"}),l&&(0,Te.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),i&&n.length>0&&(0,Te.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto",children:[n.map(((e,t)=>(0,Te.jsx)("div",{onClick:()=>f(e),className:"px-4 py-2 cursor-pointer text-sm border-b border-gray-100 last:border-b-0 transition-colors "+(t===p?"bg-blue-100 text-blue-700":"hover:bg-blue-50 hover:text-blue-700"),children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-medium text-xs "+(t===p?"bg-blue-200 text-blue-800":"bg-blue-100 text-blue-600"),children:e.charAt(0).toUpperCase()}),(0,Te.jsx)("span",{children:e})]})},t))),(0,Te.jsxs)("div",{className:"px-4 py-2 bg-gray-50 text-xs text-gray-500 border-t",children:[n.length," suggestion",1!==n.length?"s":""," found",(0,Te.jsx)("span",{className:"ml-2 text-gray-400",children:"(Use \u2191\u2193 to navigate, Enter to select, Esc to close)"})]})]}),i&&0===n.length&&!l&&e.customer&&(0,Te.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:(0,Te.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No matching customers found"})})]})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (PKR)"}),(0,Te.jsx)("input",{type:"number",name:"price",value:e.price,onChange:h,className:"w-full p-2 border rounded-md",required:!0,min:"0"})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Te.jsxs)("select",{name:"status",value:e.status,onChange:h,className:"w-full p-2 border rounded-md",required:!0,children:[(0,Te.jsx)("option",{value:"Pending",children:"Pending"}),(0,Te.jsx)("option",{value:"Preparing",children:"Preparing"}),(0,Te.jsx)("option",{value:"On the way",children:"On the way"}),(0,Te.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,Te.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Save"})]})]})]})})},ne=()=>{const e=W||q;return e?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"View Report Details"}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Order ID"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.id||e.orderId})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Date"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.date})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Contact Person"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.customer})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Price"}),(0,Te.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["PKR ",Number(e.price).toLocaleString()]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,Te.jsx)("p",{className:"mt-1",children:(0,Te.jsx)("span",{className:`px-2 py-1 inline-flex items-center justify-center text-xs font-semibold rounded-full ${V(e.status)}`,children:e.status})})]}),e.particulars&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Particulars"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.particulars})]}),void 0!==e.rate&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Rate"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.rate})]}),void 0!==e.quantity&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Quantity"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.quantity})]}),e.mtr&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Meters"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.mtr})]}),e.credit&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Credit"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.credit})]}),e.debit&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Debit"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.debit})]}),e.balance&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Balance"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.balance})]}),e.billsCHQ&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Bills/CHQ"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.billsCHQ})]}),e.days&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Days"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.days})]}),e.dueDate&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Due Date"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.dueDate})]})]}),(0,Te.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Te.jsx)("button",{onClick:()=>{U(!1),H(null)},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Close"})})]})}):(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"View Report Details"}),(0,Te.jsx)("p",{className:"text-gray-500",children:"No report data available."}),(0,Te.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Te.jsx)("button",{onClick:()=>{U(!1),H(null)},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Close"})})]})})};(0,r.useEffect)((()=>{Z()}),[f,m,t,A,T]),(0,r.useEffect)((()=>{ee()}),[]),(0,r.useEffect)((()=>{ee()}),[s]);const[re,ae]=(0,r.useState)(!1);return(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-5",children:[_&&(0,Te.jsxs)("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:[(0,Te.jsx)("div",{className:"font-bold",children:_.title}),(0,Te.jsx)("div",{children:_.description})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-5",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-lg sm:text-xl font-semibold",children:"Reports"}),(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"View and manage all your reports in one place"})]}),(0,Te.jsxs)("div",{className:"flex flex-col xs:flex-row gap-3 w-full sm:w-auto",children:[(0,Te.jsxs)("div",{className:"relative flex-grow",children:[(0,Te.jsx)(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search reports...",className:"pl-10 pr-3 py-1.5 sm:py-2 border rounded-md text-xs sm:text-sm w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:A,onChange:e=>{E(e.target.value),p(1)}})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("button",{onClick:()=>{const e={id:J(),date:(new Date).toISOString().slice(0,10),customer:"",price:0,status:"Pending"};R(e),B(!0)},className:"flex items-center gap-1 bg-[#1976D2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:bg-blue-600 transition-colors",children:[(0,Te.jsx)(bt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{className:"hidden sm:inline",children:"Create Report"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm transition-colors "+(O?"bg-gray-100 border-gray-300":"bg-white hover:bg-gray-50"),onClick:()=>C(!O),children:[(0,Te.jsx)(vt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Filter"})]}),(0,Te.jsx)("div",{className:"relative",children:(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-white border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-gray-50",children:[(0,Te.jsx)(Rt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Export"})]})})]})]})]}),d.length>0&&(0,Te.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-md flex justify-between items-center",children:[(0,Te.jsxs)("div",{className:"text-sm text-blue-800",children:[d.length," report(s) selected"]}),(0,Te.jsx)("div",{className:"flex gap-2",children:(0,Te.jsx)("button",{onClick:async()=>{if(0!==d.length&&window.confirm(`Delete ${d.length} selected reports?`)){ae(!0);try{await Promise.all(d.map((e=>fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/reports/${e}`,{method:"DELETE"})))),h([]),Z(),ee(),P("Bulk delete successful",`${d.length} reports have been deleted`)}catch(e){P("Error","Error deleting selected reports.")}ae(!1)}},disabled:re,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-md text-xs hover:bg-red-100 disabled:opacity-50",children:re?"Deleting...":(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Nt,{className:"w-3 h-3"}),(0,Te.jsx)("span",{children:"Delete Selected"})]})})})]}),O&&(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Contact Person"}),(0,Te.jsx)("input",{type:"text",name:"customer",className:"w-full p-2 border rounded-md text-xs",value:T.customer,onChange:Q,placeholder:"Filter by customer name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Min Price"}),(0,Te.jsx)("input",{type:"number",name:"minPrice",value:T.minPrice,onChange:Q,className:"w-full p-2 border rounded-md text-xs",placeholder:"Minimum price"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Max Price"}),(0,Te.jsx)("input",{type:"number",name:"maxPrice",value:T.maxPrice,onChange:Q,className:"w-full p-2 border rounded-md text-xs",placeholder:"Maximum price"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),(0,Te.jsx)("input",{type:"date",name:"dateFrom",value:T.dateFrom,onChange:Q,className:"w-full p-2 border rounded-md text-xs"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),(0,Te.jsx)("input",{type:"date",name:"dateTo",value:T.dateTo,onChange:Q,className:"w-full p-2 border rounded-md text-xs"})]}),(0,Te.jsxs)("div",{className:"md:col-span-5 flex justify-between items-center",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Items per page:"}),(0,Te.jsx)("select",{value:m,onChange:e=>{g(Number(e.target.value)),p(1)},className:"p-1 border rounded text-xs",children:Bt.map((e=>(0,Te.jsx)("option",{value:e,children:e},e)))})]}),(0,Te.jsx)("div",{className:"flex gap-2",children:(0,Te.jsx)("button",{onClick:()=>{L({customer:"",minPrice:"",maxPrice:"",dateFrom:"",dateTo:""}),E(""),a("All"),p(1),P("Filters reset","All filters have been cleared")},className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-xs",children:"Reset Filters"})})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,Te.jsx)("div",{className:"flex border-b w-max min-w-full",children:Mt.map((e=>{const n=N[e],r=void 0!==n&&n>0;return(0,Te.jsxs)("button",{className:"px-3 py-2 text-xs sm:text-sm font-medium whitespace-nowrap border-b-2 "+(t===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>{a(e),p(1)},children:[e," ",r&&`(${n})`]},e)}))})}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsx)("div",{className:"relative min-w-full min-h-[350px]",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"sticky top-0 bg-white z-10",children:(0,Te.jsxs)("tr",{className:"text-center text-xs sm:text-sm font-normal text-black",children:[(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:Y.length>0&&d.length===Y.length,onChange:()=>{d.length===Y.length?h([]):h(Y.map((e=>e.id)))},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Order ID"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Date"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Contact Person"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Price"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Status"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Action"})]})}),(0,Te.jsx)("tbody",{className:"text-center divide-y divide-gray-100",children:w?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"7",className:"py-8 text-center text-sm text-gray-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mr-2"}),"Loading reports..."]})})}):0===Y.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"7",className:"py-4 text-center text-sm text-gray-500",children:"No reports found matching your criteria"})}):Y.map(((e,t)=>{const r=e.id+"-"+t;return(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:d.includes(e.id),onChange:()=>{return t=e.id,void h((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:e.id}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap",children:e.date}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap",children:e.customer}),(0,Te.jsxs)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:["PKR ",Number(e.price).toLocaleString()]}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-center",children:(0,Te.jsx)("span",{className:`px-2 py-1 inline-flex items-center justify-center text-xs font-semibold rounded-full ${V(e.status)}`,children:e.status})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap relative",children:(0,Te.jsxs)("div",{className:"flex justify-center",children:[(0,Te.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:e=>((e,t)=>{t.stopPropagation(),F(D===e?null:e)})(r,e),children:(0,Te.jsx)(wt,{className:"h-5 w-5"})}),D===r&&(0,Te.jsx)("div",{ref:e=>K.current[t]=e,className:"absolute right-0 z-50 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200",style:{top:"100%",maxHeight:"200px",overflowY:"auto"},children:(0,Te.jsxs)("div",{className:"py-1",children:[(0,Te.jsxs)("button",{onClick:()=>(e=>{try{Promise.resolve().then(n.bind(n,6743)).then((t=>{const n=t.default.find((t=>t.id===e.id||t.orderId===e.id));H(n||null),$(e),U(!0),F(null)})).catch((t=>{console.error("Error loading report details:",t),H(null),$(e),U(!0),F(null)}))}catch(t){console.error("Error loading report details:",t),H(null),$(e),U(!0),F(null)}})(e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(We,{className:"w-4 h-4 mr-2"}),"View"]}),(0,Te.jsxs)("button",{onClick:()=>(e=>{R(e),B(!0),F(null)})(e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Te.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm(`Are you sure you want to delete report ${e.id}?`)){try{let t=Ge.REPORTS.DELETE(encodeURIComponent(e.id)),n=await fetch(t,{method:"DELETE"});if(!n.ok&&e.orderId&&e.id!==e.orderId&&(t=Ge.REPORTS.DELETE(encodeURIComponent(e.orderId)),n=await fetch(t,{method:"DELETE"})),!n.ok){let e="Failed to delete report";try{e=(await n.json()).error||e}catch(QC){try{const t=await n.text();t&&(e=t)}catch{}}throw new Error(e)}Z(),ee(),P("Report deleted",`Report ${e.id} has been deleted`)}catch(t){P("Error","Error deleting report: "+t.message)}F(null)}else F(null)})(e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]})})]},r)}))})]})})}),y>1&&(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 border-t border-gray-200 bg-white gap-3",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",G+1,"-",Math.min(G+m,b)," of ",b," reports"]}),(0,Te.jsxs)("div",{className:"flex gap-1",children:[(0,Te.jsx)("button",{onClick:()=>X(f-1),disabled:1===f,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,y)},((e,t)=>{let n;return n=y<=5||f<=3?t+1:f>=y-2?y-4+t:f-2+t,(0,Te.jsx)("button",{onClick:()=>X(n),className:`px-3 py-1 text-sm rounded-md min-w-[36px] ${f===n?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"} border`,children:n},n)})),y>5&&f<y-2&&(0,Te.jsx)("span",{className:"px-1 flex items-center",children:"..."}),y>5&&f<y-2&&(0,Te.jsx)("button",{onClick:()=>X(y),className:`px-3 py-1 text-sm rounded-md min-w-[36px] ${f===y?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"} border`,children:y}),(0,Te.jsx)("button",{onClick:()=>X(f+1),disabled:f===y,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),M&&(0,Te.jsx)(te,{}),z&&(0,Te.jsx)(ne,{})]})},Ut=()=>{const[e,t]=(0,r.useState)("All");return(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("div",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)("section",{className:"w-full",children:(0,Te.jsx)(zt,{activeTab:e,setActiveTab:t})}),(0,Te.jsx)(pt,{})]})]})},qt=qe("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),$t=qe("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Wt=qe("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Ht=qe("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Kt=qe("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);console.log("CustomersTable - API_ENDPOINTS:",Ge);const Vt=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(1),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!0),[y,x]=(0,r.useState)(null),[b,v]=(0,r.useState)(null),[w,j]=(0,r.useState)(!1),[N,S]=(0,r.useState)(null),[_,k]=(0,r.useState)({}),[P,A]=(0,r.useState)({}),E=(0,r.useRef)(null),O=St((()=>{f&&(p(!1),h(null))}),f);(0,r.useEffect)((()=>{C()}),[]);const C=async()=>{try{g(!0);const e=await fetch(Ge.CUSTOMERS.LIST);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();t(n),x(null)}catch(e){console.error("Error fetching customers:",e),x("Failed to fetch customers. Please try again later."),t([])}finally{g(!1)}},T=async e=>{N===e?S(null):(S(e),_[e]||await(async e=>{try{A((t=>({...t,[e]:!0})));const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/ledger?customerId=${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();k((t=>({...t,[e]:n})))}catch(t){console.error("Error fetching ledger data:",t),B("Error","Failed to fetch ledger data.")}finally{A((t=>({...t,[e]:!1})))}})(e)),u(null)};(0,r.useEffect)((()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&u(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);te();const L=e.filter((e=>((null===e||void 0===e?void 0:e.customer)||"").toLowerCase().includes(s.toLowerCase())||((null===e||void 0===e?void 0:e.email)||"").toLowerCase().includes(s.toLowerCase())||((null===e||void 0===e?void 0:e.phone)||"").includes(s)||((null===e||void 0===e?void 0:e.company)||"").toLowerCase().includes(s.toLowerCase()))),D=Math.ceil(L.length/10)||1,F=10*(i-1),I=L.slice(F,F+10);(0,r.useEffect)((()=>{i>D&&o(D)}),[D]);const R=e=>{e>=1&&e<=D&&(o(e),a([]))},M=e=>{if(!e)return"N/A";const t=new Date(e);if(Number.isNaN(t.getTime()))return e;return`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`},B=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;v({title:e,description:t}),setTimeout((()=>v(null)),n)},z=()=>{const e={customer:"",company:"",date:(new Date).toISOString().split("T")[0],phone:"",address:"",email:"",stn:"",ntn:""};h(e),p(!0)},U=(e,t)=>{switch(e){case"edit":(e=>{h(e),p(!0),u(null)})(t);break;case"delete":(async e=>{if(window.confirm(`Are you sure you want to delete customer "${e.customer}"?`))try{let t;if(Ge.CUSTOMERS.DELETE&&"function"===typeof Ge.CUSTOMERS.DELETE?t=Ge.CUSTOMERS.DELETE(e.customer_id):(t=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customertable/${e.customer_id}`,console.log("DELETE endpoint missing, using manual URL:",t)),!(await fetch(t,{method:"DELETE"})).ok)throw new Error("Failed to delete customer");await C(),B("Contact Person deleted",`Contact Person '${e.customer}' has been deleted.`)}catch(t){console.error("Error deleting contact person:",t),B("Error","Failed to delete contact person. Please try again.")}u(null)})(t)}},q=()=>{const[t,n]=(0,r.useState)(d||{});(0,r.useEffect)((()=>{n(d||{})}),[d]);const a=e=>{const{name:t,value:r}=e.target;let a=r;"customer"===t&&(a=(a||"").toString().replace(/[^A-Za-z\s]/g,""),a=a.replace(/\s+/g," ")),n((e=>({...e,[t]:a})))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Te.jsxs)("div",{ref:O,className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,Te.jsx)(it,{className:"w-5 h-5"}),t.customer_id?"Edit Contact Person":"Add New Contact Person"]}),(0,Te.jsxs)("form",{onSubmit:n=>{if(n.preventDefault(),!t.customer||!t.email||!t.phone||!t.address||!t.date||!t.stn||!t.ntn)return void B("Validation","Please fill all required fields including STN and NTN.");const r=(t.customer||"").toString().trim();/^[A-Za-z]+(?:\s[A-Za-z]+)*$/.test(r)?(async t=>{try{const n=e.find((e=>{if(t.customer_id&&e.customer_id===t.customer_id)return!1;const n=e.email&&t.email&&e.email.toLowerCase()===t.email.toLowerCase(),r=e.phone&&t.phone&&e.phone===t.phone,a=e.stn&&t.stn&&e.stn===t.stn,i=e.ntn&&t.ntn&&e.ntn===t.ntn;return n||r||a||i}));if(n){let e=[];return n.email.toLowerCase()===t.email.toLowerCase()&&e.push("Email"),n.phone===t.phone&&e.push("Phone Number"),n.stn===t.stn&&e.push("STN"),n.ntn===t.ntn&&e.push("NTN"),void B("Duplicate Co",`A customer with the same ${e.join(", ")} already exists: "${n.customer}"`)}let r;const a={customer:t.customer,company:t.company||null,date:t.date,phone:t.phone,address:t.address,email:t.email,stn:t.stn,ntn:t.ntn},i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api";if(t.customer_id){const e=Ge&&Ge.CUSTOMERS&&"function"===typeof Ge.CUSTOMERS.UPDATE?Ge.CUSTOMERS.UPDATE(t.customer_id):`${i}/v1/customertable/${t.customer_id}`;if(!e)throw console.error("Update URL is undefined. API endpoints:",Ge),new Error("API endpoint for updating customer is not configured");console.log("Updating customer at:",e),r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}else{const e=Ge&&Ge.CUSTOMERS&&Ge.CUSTOMERS.CREATE?Ge.CUSTOMERS.CREATE:`${i}/v1/customertable`;if(!e)throw console.error("Create URL is undefined. API endpoints:",Ge),new Error("API endpoint for creating customer is not configured");console.log("Creating customer at:",e),r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}if(!r.ok){let e="Failed to save customer";try{const t=await r.json();e=t.message||JSON.stringify(t)}catch(CA){}throw new Error(e)}await C(),p(!1),h(null),B(t.customer_id?"Contact Person updated":"Contact Person created",`Contact Person '${t.customer}' has been ${t.customer_id?"updated":"created"}.`)}catch(n){console.error("Error saving contact person:",n),B("Error",n.message||"Failed to save contact person. Please try again.")}})(t):B("Validation","Contact Person name can contain letters and spaces only")},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person Name *"}),(0,Te.jsx)("input",{type:"text",name:"customer",value:t.customer||"",onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Enter customer name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),(0,Te.jsx)("input",{type:"text",name:"company",value:t.company||"",onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter company name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,Te.jsx)("input",{type:"email",name:"email",value:t.email||"",onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"customer@example.com"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,Te.jsx)("input",{type:"tel",name:"phone",value:t.phone||"",onChange:e=>{const t=e.target.value.replace(/[^0-9\-\+\(\)\s]/g,"");a({target:{name:"phone",value:t}})},className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Enter phone number"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,Te.jsx)("input",{type:"date",name:"date",value:t.date||"",onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Te.jsx)("input",{type:"text",name:"address",value:t.address||"",onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Enter full address"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"STN Number *"}),(0,Te.jsx)("input",{type:"text",name:"stn",value:t.stn||"",onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Sales Tax Number"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NTN Number *"}),(0,Te.jsx)("input",{type:"text",name:"ntn",value:t.ntn||"",onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"National Tax Number"})]}),(0,Te.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-3 mt-4",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>{p(!1),h(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:t.customer_id?"Update Contact Person":"Create Contact Person"})]})]})]})})};return m?(0,Te.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex justify-center items-center h-64",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,Te.jsx)("p",{className:"text-gray-500 mt-3",children:"Loading customers..."})]})}):y?(0,Te.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex justify-center items-center h-64",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-red-500 mb-2",children:y}),(0,Te.jsx)("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Retry"})]})}):(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[b&&(0,Te.jsxs)("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg max-w-sm transition-opacity duration-300",children:[(0,Te.jsx)("div",{className:"font-bold",children:b.title}),(0,Te.jsx)("div",{children:b.description})]}),(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[(0,Te.jsx)(it,{className:"w-5 h-5"}),"Contact Persons"]})}),(0,Te.jsxs)("div",{className:"flex flex-col xs:flex-row gap-3 w-full lg:w-auto",children:[(0,Te.jsxs)("div",{className:"relative flex-grow",children:[(0,Te.jsx)(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search customers...",className:"pl-10 pr-4 py-2.5 border rounded-lg text-sm w-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:s,onChange:e=>l(e.target.value)})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",onClick:z,children:[(0,Te.jsx)(bt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Add Contact Person"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-2 bg-white border rounded-lg px-3 py-2.5 text-sm hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(Rt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Export"})]})]})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[(0,Te.jsx)("th",{className:"px-6 py-3",children:(0,Te.jsx)("input",{type:"checkbox",checked:I.length>0&&n.length===I.length,onChange:()=>{n.length===I.length&&I.length>0?a([]):a(I.map((e=>e.customer_id)))},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("th",{className:"px-6 py-3",children:"Contact Person"}),(0,Te.jsx)("th",{className:"px-6 py-3",children:"Company Name"}),(0,Te.jsx)("th",{className:"px-6 py-3",children:"Contact"}),(0,Te.jsx)("th",{className:"px-6 py-3 hidden lg:table-cell",children:"Date"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===L.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-8 text-center",children:(0,Te.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[(0,Te.jsx)(it,{className:"w-12 h-12 mb-2 opacity-50"}),(0,Te.jsx)("p",{className:"text-sm",children:"No customers found"}),(0,Te.jsx)("button",{onClick:z,className:"mt-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Add your first customer"})]})})}):I.map((e=>(0,Te.jsxs)(r.Fragment,{children:[(0,Te.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:n.includes(e.customer_id),onChange:()=>{return t=e.customer_id,void a((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(it,{className:"h-5 w-5 text-blue-600"})}),(0,Te.jsx)("div",{className:"ml-4",children:(0,Te.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customer})})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[(0,Te.jsx)(qt,{className:"w-4 h-4"}),e.company||"\u2014"]})}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[(0,Te.jsx)($t,{className:"w-3 h-3"}),e.email]}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,Te.jsx)(Wt,{className:"w-3 h-3"}),e.phone]}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[(0,Te.jsx)(Ht,{className:"w-3 h-3"}),(0,Te.jsx)("span",{className:"truncate max-w-xs",children:e.address})]})]}),(0,Te.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap hidden lg:table-cell",children:(0,Te.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Te.jsx)(Kt,{className:"w-3 h-3"}),M(e.date)]})}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium relative",children:[(0,Te.jsx)("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100 transition-colors",onClick:t=>((e,t)=>{t.stopPropagation(),u(c===e?null:e)})(e.customer_id,t),children:(0,Te.jsx)(wt,{className:"h-5 w-5"})}),c===e.customer_id&&(0,Te.jsxs)("div",{ref:E,className:"absolute right-0 z-50 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1",children:[(0,Te.jsxs)("button",{onClick:()=>T(e.customer_id),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left transition-colors",children:[(0,Te.jsx)(qt,{className:"w-4 h-4 mr-2"}),"View Ledger"]}),(0,Te.jsxs)("button",{onClick:()=>U("edit",e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left transition-colors",children:[(0,Te.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Te.jsxs)("button",{onClick:()=>U("delete",e),className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left transition-colors",children:[(0,Te.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),N===e.customer_id&&(0,Te.jsx)("tr",{className:"bg-blue-50 border-b border-gray-200",children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Ledger - ",e.customer]}),e.company&&(0,Te.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Company: ",e.company]})]}),(0,Te.jsx)("button",{onClick:()=>S(null),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),P[e.customer_id]?(0,Te.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):_[e.customer_id]&&_[e.customer_id].length>0?(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[(0,Te.jsx)("th",{className:"px-4 py-2",children:"Date"}),(0,Te.jsx)("th",{className:"px-4 py-2",children:"Description"}),(0,Te.jsx)("th",{className:"px-4 py-2",children:"Debit"}),(0,Te.jsx)("th",{className:"px-4 py-2",children:"Credit"}),(0,Te.jsx)("th",{className:"px-4 py-2",children:"Balance"})]})}),(0,Te.jsx)("tbody",{className:"divide-y divide-gray-200",children:_[e.customer_id].map(((e,t)=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:M(e.date)}),(0,Te.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.description}),(0,Te.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.debit?`${e.debit.toFixed(2)}`:"-"}),(0,Te.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.credit?`${e.credit.toFixed(2)}`:"-"}),(0,Te.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900 font-medium",children:e.balance?`${e.balance.toFixed(2)}`:"-"})]},t)))})]})}):(0,Te.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Te.jsx)("p",{children:"No ledger entries found"})})]})})})]},e.customer_id)))})]})}),L.length>10&&(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 bg-white gap-3 mt-4",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",F+1," to"," ",Math.min(F+10,L.length)," of"," ",L.length," results"]}),(0,Te.jsxs)("div",{className:"flex gap-1",children:[(0,Te.jsx)("button",{onClick:()=>R(i-1),disabled:1===i,className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Previous"}),Array.from({length:Math.min(5,D)},((e,t)=>{let n;return n=D<=5||i<=3?t+1:i>=D-2?D-4+t:i-2+t,(0,Te.jsx)("button",{onClick:()=>R(n),className:"px-3 py-1.5 text-sm rounded-md border transition-colors "+(i===n?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:n},n)})),D>5&&i<D-2&&(0,Te.jsx)("span",{className:"px-2 py-1.5 text-gray-500",children:"..."}),D>5&&i<D-2&&(0,Te.jsx)("button",{onClick:()=>R(D),className:"px-3 py-1.5 text-sm rounded-md border transition-colors "+(i===D?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:D}),(0,Te.jsx)("button",{onClick:()=>R(i+1),disabled:i===D,className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Next"})]})]}),f&&(0,Te.jsx)(q,{})]})},Gt=()=>(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4 ",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("main",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)(Vt,{}),(0,Te.jsx)(pt,{})]})]}),Yt=qe("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Xt=qe("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Qt=qe("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Jt=qe("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Zt=qe("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),en=qe("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),tn=qe("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),nn=qe("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),rn=async()=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/roles`)).json(),an=async e=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/roles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),on=async(e,t)=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/roles/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),sn=async e=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/roles/${e}`,{method:"DELETE"})).json(),ln=async e=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/roles/${e}/modules`)).json(),cn=async(e,t)=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/roles/${e}/modules`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({modules:t})})).json(),un=async()=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/users`)).json(),dn=async e=>(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/users/${e}`,{method:"DELETE"})).json(),hn=()=>{var e;const[t,n]=(0,r.useState)({id:null,name:"",email:"",phone:"",company:"",username:"",currentPassword:"",newPassword:"",confirmPassword:"",role:"admin",twoFactorEnabled:!0,notifications:!0}),[a,i]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",role:null,company:"",profilePicture:null,profilePicturePreview:null}),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)({name:"",description:""}),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(!0),[g,y]=(0,r.useState)([]),[x]=(0,r.useState)(["dashboard","invoices","customers","expenses","purchaseOrders","stock","financialProgress","settings"]),[b,v]=(0,r.useState)(""),[w,j]=(0,r.useState)(at),[N,S]=(0,r.useState)(null),[_,k]=(0,r.useState)(""),[P,A]=(0,r.useState)({}),[E,O]=(0,r.useState)({currentPassword:!1,newPassword:!1,confirmPassword:!1,newUserPassword:!1,confirmNewUserPassword:!1,editUserPassword:!1}),[C,T]=(0,r.useState)("profile"),[L,D]=(0,r.useState)(!1),[F,I]=(0,r.useState)(!0),[R,M]=(0,r.useState)(!1),[B,z]=(0,r.useState)({}),[U,q]=(0,r.useState)([]),[$,W]=(0,r.useState)(!1),[H,K]=(0,r.useState)(null),[V,G]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",company:"",profilePicture:null,profilePicturePreview:null}),[Y,X]=(0,r.useState)(!1),[Q,J]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(null),te=Fe();(0,r.useEffect)((()=>{(async()=>{try{m(!0);const e=await rn();e.success?(s(e.data),e.data.length>0&&(v(e.data[0].name),i((t=>({...t,role:e.data[0].name}))))):console.error("Failed to fetch roles:",e.message)}catch(e){console.error("Error fetching roles:",e)}finally{m(!1)}})()}),[]),(0,r.useEffect)((()=>{if(!b||0===o.length)return;const e=o.find((e=>e.name===b));if(!e)return;(async()=>{try{const t=await ln(e.id);t.success?y(t.data):console.error("Failed to load modules:",t.message)}catch(t){console.error("Error loading modules:",t)}})()}),[b,o]);const ne=e=>{A({general:e}),setTimeout((()=>A({})),5e3)},re=(0,r.useRef)(N);(0,r.useEffect)((()=>{re.current=N}),[N]),(0,r.useEffect)((()=>{(async()=>{try{try{const t=await fetch(Ge.SETTINGS.COMPANY);if(t.ok){const r=await t.json();if(r&&r.company){var e;if(!re.current)n({id:1,name:r.company.name||"A Rauf Textile",email:r.company.email||"",phone:r.company.phone||"",company:r.company.name||"A Rauf Textile",address:r.company.address||"",username:(null===(e=r.company.email)||void 0===e?void 0:e.split("@")[0])||"",currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:!1,notifications:!1});return}}}catch(t){console.debug("Company settings fetch failed, trying user settings:",t)}const r=(te.user||{}).id||1,a=await fetch(Ge.SETTINGS.USER(r));if(!a.ok)return void console.debug(`Settings endpoint returned ${a.status}. Using defaults.`);const i=await a.json();if(i&&i.success&&i.data){const{personal:e,security:t}=i.data;if(!re.current){n({id:r,name:`${e.firstName} ${e.lastName}`,email:e.email,phone:e.phone||"",company:e.company||"A Rauf Textile",address:e.address||"",username:e.email.split("@")[0],currentPassword:"",newPassword:"",confirmPassword:"",role:"admin",twoFactorEnabled:t.twoFactorEnabled||!1,notifications:t.loginNotifications||!0});const a=e.profile_picture_url||e.profilePicture||e.avatar||e.profilePictureUrl||null;if(a){const e=/^https?:\/\//.test(a)?a:`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_BASE_URL||"http://localhost:5000"}/uploads/profile-pictures/${a}`;j(e)}z({name:`${e.firstName} ${e.lastName}`,email:e.email,phone:e.phone||"",company:e.company||"A Rauf Textile"})}}}catch(r){ne("Failed to load user data")}finally{I(!1)}})()}),[null===(e=te.user)||void 0===e?void 0:e.id]);const ae=e=>{const{name:t,value:n}=e.target;z((e=>({...e,[t]:n}))),P[t]&&A((e=>({...e,[t]:""})))},ie=e=>{k(e),setTimeout((()=>k("")),5e3)},oe=function(e,n,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text";const i=N===C;return(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r,n]}),i?(0,Te.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:"password"===a&&E[e]?"text":a,name:e,value:void 0!==B[e]?B[e]:t[e]||"",onChange:ae,className:`w-full px-4 py-3 border ${P[e]?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${"password"===a?"pr-10":""}`,placeholder:n}),"password"===a&&(0,Te.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>O((t=>({...t,[e]:!t[e]}))),children:E[e]?(0,Te.jsx)($e,{className:"h-5 w-5"}):(0,Te.jsx)(We,{className:"h-5 w-5"})})]}),P[e]&&(0,Te.jsx)("p",{className:"text-red-500 text-xs",children:P[e]})]}):(0,Te.jsx)("div",{className:"flex justify-between items-center",children:(0,Te.jsx)("p",{className:"text-gray-900 px-4 py-3 bg-gray-50 rounded-lg w-full",children:"password"===a?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":t[e]||"-"})})]})},se=async()=>{try{W(!0);const e=await un();if(e.success){const t=await Promise.all(e.data.map((async e=>{if(e.role_id)try{const t=await ln(e.role_id);return{...e,modules:t.success?t.data:[]}}catch(t){return{...e,modules:[]}}return{...e,modules:[]}})));q(t)}else q([]),A((e=>({...e,general:"Failed to fetch users"})))}catch(e){console.error("Error fetching users:",e),q([]),A((e=>({...e,general:"Error loading users"})))}finally{W(!1)}};return(0,Te.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5",children:(0,Te.jsx)("div",{className:"flex items-center justify-between",children:(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-2.5 rounded-lg shadow-md",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-white"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your account and system preferences"})]})]})})})}),_&&(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:(0,Te.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-500 text-green-700 px-5 py-4 rounded-lg flex items-center gap-3 shadow-md animate-in slide-in-from-top duration-300",children:[(0,Te.jsx)(Yt,{className:"h-6 w-6 flex-shrink-0"}),(0,Te.jsx)("span",{className:"font-medium",children:_}),(0,Te.jsx)("button",{onClick:()=>k(""),className:"ml-auto text-green-700 hover:text-green-900 hover:bg-green-100 p-1 rounded transition-colors",children:(0,Te.jsx)(ut,{className:"h-5 w-5"})})]})}),P.general&&(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:(0,Te.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 border-l-4 border-red-500 text-red-700 px-5 py-4 rounded-lg flex items-center gap-3 shadow-md animate-in slide-in-from-top duration-300",children:[(0,Te.jsx)(ut,{className:"h-6 w-6 flex-shrink-0"}),(0,Te.jsx)("span",{className:"font-medium",children:P.general}),(0,Te.jsx)("button",{onClick:()=>A((e=>({...e,general:""}))),className:"ml-auto text-red-700 hover:text-red-900 hover:bg-red-100 p-1 rounded transition-colors",children:(0,Te.jsx)(ut,{className:"h-5 w-5"})})]})}),(0,Te.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("nav",{className:"flex space-x-6 overflow-x-auto",children:[(0,Te.jsx)("button",{onClick:()=>T("profile"),className:"py-4 px-2 border-b-2 font-medium text-sm transition-all whitespace-nowrap "+("profile"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(it,{className:"h-4 w-4"}),"Profile"]})}),(0,Te.jsx)("button",{onClick:()=>T("addUser"),className:"py-4 px-2 border-b-2 font-medium text-sm transition-all whitespace-nowrap "+("addUser"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(Xt,{className:"h-4 w-4"}),"Add User"]})}),(0,Te.jsx)("button",{onClick:()=>T("privileges"),className:"py-4 px-2 border-b-2 font-medium text-sm transition-all whitespace-nowrap "+("privileges"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(Qt,{className:"h-4 w-4"}),"Privileges"]})}),(0,Te.jsx)("button",{onClick:()=>{T("viewUsers"),se()},className:"py-4 px-2 border-b-2 font-medium text-sm transition-all whitespace-nowrap "+("viewUsers"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(Jt,{className:"h-4 w-4"}),"View Users"]})})]})})}),(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:F?(0,Te.jsxs)("div",{className:"flex flex-col justify-center items-center h-96 gap-4",children:[(0,Te.jsx)(Zt,{className:"h-12 w-12 text-blue-500 animate-spin"}),(0,Te.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading settings..."})]}):(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:["profile"===C&&(0,Te.jsxs)("div",{className:"p-8",children:[(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-1",children:"Your account details"}),(0,Te.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Te.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Te.jsx)("strong",{children:"Note:"})," To edit your profile information, please use the ",(0,Te.jsx)("strong",{children:"View Users"})," section in the Settings menu."]})})]}),(0,Te.jsx)("div",{className:"flex gap-3",children:(0,Te.jsxs)("button",{onClick:async()=>{try{var e;const t=null===te||void 0===te||null===(e=te.user)||void 0===e?void 0:e.id;if(!t)return;const n=await fetch(Ge.USERS.MODULES(t)),r=await n.json();if(r.success){const e={...te.user,modules:r.data};te.login(e),ie("Modules refreshed successfully! You now have access to "+r.data.length+" modules.")}else ne(r.message||"Failed to refresh modules")}catch(t){console.error("Error refreshing modules:",t),ne("Error refreshing modules")}},className:"flex items-center gap-2 px-5 py-2.5 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors text-sm font-medium shadow-sm",title:"Refresh module access",children:[(0,Te.jsx)(Zt,{className:"h-4 w-4"}),"Refresh Modules"]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[(0,Te.jsx)("div",{className:"lg:col-span-1",children:(0,Te.jsxs)("div",{className:"flex flex-col items-center lg:items-start",children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-3",children:"Company Logo"}),(0,Te.jsxs)("div",{className:"relative group",children:[(0,Te.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-600 to-blue-400 rounded-lg blur opacity-30 group-hover:opacity-50 transition duration-300"}),(0,Te.jsx)("img",{src:w||"/logo.png",alt:t.company||"Company logo",onError:e=>{e.target.onerror=null,e.target.src="/logo.png"},className:"relative h-28 w-28 rounded-lg object-contain border-3 border-white shadow-lg bg-white p-2"})]}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-3 text-center lg:text-left",children:t.company||"A Rauf Textile"})]})}),(0,Te.jsx)("div",{className:"lg:col-span-4",children:(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[oe("name","Full Name",(0,Te.jsx)(it,{className:"h-4 w-4"})),oe("email","Email",(0,Te.jsx)($t,{className:"h-4 w-4"}),"email")]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[oe("phone","Phone",(0,Te.jsx)(Wt,{className:"h-4 w-4"}),"tel"),oe("company","Company",(0,Te.jsx)(en,{className:"h-4 w-4"}))]})]})})]})]}),"addUser"===C&&(0,Te.jsxs)("div",{className:"p-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Add New User"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-1",children:"Create a new user account and assign initial permissions"})]}),(0,Te.jsx)("div",{className:"max-w-7xl",children:(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("div",{className:"flex mb-6",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Profile Picture"}),(0,Te.jsxs)("div",{className:"relative inline-block",children:[(0,Te.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200 bg-gray-100",children:(0,Te.jsx)("img",{src:a.profilePicturePreview||at,alt:"Profile preview",className:"w-full h-full object-cover"})}),(0,Te.jsxs)("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-colors shadow-lg",children:[(0,Te.jsx)(tn,{className:"h-4 w-4"}),(0,Te.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void ne("Profile picture must be less than 5MB");if(!t.type.startsWith("image/"))return void ne("Please select an image file");const n=URL.createObjectURL(t);i((e=>({...e,profilePicture:t,profilePicturePreview:n})))},className:"hidden"})]})]}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Max 5MB, JPG/PNG"})]})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)(it,{className:"h-5 w-5"}),"First Name"]}),(0,Te.jsx)("input",{type:"text",value:a.firstName,onChange:e=>i({...a,firstName:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter first name"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)(it,{className:"h-5 w-5"}),"Last Name"]}),(0,Te.jsx)("input",{type:"text",value:a.lastName,onChange:e=>i({...a,lastName:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter last name"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)($t,{className:"h-5 w-5"}),"Email"]}),(0,Te.jsx)("input",{type:"email",value:a.email,onChange:e=>i({...a,email:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"user@example.com"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)(Wt,{className:"h-5 w-5"}),"Phone"]}),(0,Te.jsx)("input",{type:"tel",value:a.phone,onChange:e=>i({...a,phone:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"03001234567"})]})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)(en,{className:"h-5 w-5"}),"Company"]}),(0,Te.jsx)("input",{type:"text",value:a.company,onChange:e=>i({...a,company:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter company name"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)(nn,{className:"h-5 w-5"}),"Password"]}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:E.newUserPassword?"text":"password",value:a.password,onChange:e=>i({...a,password:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10",placeholder:"Enter password"}),(0,Te.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>O((e=>({...e,newUserPassword:!e.newUserPassword}))),children:E.newUserPassword?(0,Te.jsx)($e,{className:"h-5 w-5"}):(0,Te.jsx)(We,{className:"h-5 w-5"})})]})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)(nn,{className:"h-5 w-5"}),"Confirm Password"]}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:E.confirmNewUserPassword?"text":"password",value:a.confirmPassword,onChange:e=>i({...a,confirmPassword:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10",placeholder:"Confirm password"}),(0,Te.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>O((e=>({...e,confirmNewUserPassword:!e.confirmNewUserPassword}))),children:E.confirmNewUserPassword?(0,Te.jsx)($e,{className:"h-5 w-5"}):(0,Te.jsx)(We,{className:"h-5 w-5"})})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,Te.jsx)(Qt,{className:"h-5 w-5"}),"Role"]}),(0,Te.jsxs)("select",{value:a.role||"",onChange:e=>i({...a,role:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,Te.jsx)("option",{value:"",children:"Select a role"}),o.map((e=>(0,Te.jsxs)("option",{value:e.name,children:[e.name," - ",e.description]},e.id)))]})]}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,Te.jsx)("button",{onClick:()=>{i({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",role:o.length>0?o[0].name:null,company:"",profilePicture:null,profilePicturePreview:null})},className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-lg transition-colors",children:"Reset"}),(0,Te.jsx)("button",{onClick:async()=>{if(!a.firstName.trim())return void ne("First name is required");if(!a.lastName.trim())return void ne("Last name is required");if(!a.email.trim())return void ne("Email is required");if(!a.password)return void ne("Password is required");if(a.password!==a.confirmPassword)return void ne("Passwords do not match");if(!a.role)return void ne("Role is required");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email))try{M(!0);const e=new FormData;e.append("firstName",a.firstName.trim()),e.append("lastName",a.lastName.trim()),e.append("email",a.email.trim()),e.append("phone",a.phone.trim()||""),e.append("password",a.password),e.append("role",a.role),e.append("company",a.company.trim()||""),a.profilePicture&&e.append("profilePicture",a.profilePicture);const t=await fetch(Ge.USERS.LIST,{method:"POST",body:e}),n=await t.json();n.success?(ie(`User ${a.firstName} ${a.lastName} created successfully!`),i({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",role:o.length>0?o[0].name:null,company:"",profilePicture:null,profilePicturePreview:null}),A({})):ne(n.message||"Failed to create user")}catch(e){console.error("Error creating user:",e),ne("Failed to create user. Please try again.")}finally{M(!1)}else ne("Invalid email format")},disabled:R,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:R?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Zt,{className:"h-5 w-5 animate-spin"}),"Adding User..."]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Xt,{className:"h-5 w-5"}),"Add User"]})})]})]})})]}),"privileges"===C&&(0,Te.jsxs)("div",{className:"p-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Privileges"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage access permissions for different users and roles"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"lg:col-span-1",children:(0,Te.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 sticky top-4",children:[(0,Te.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Te.jsx)(Jt,{className:"h-5 w-5"}),"Select User Role"]}),(0,Te.jsxs)("button",{onClick:()=>c(!0),className:"w-full mb-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[(0,Te.jsx)(Xt,{className:"h-4 w-4"}),"Add Role"]}),(0,Te.jsx)("div",{className:"space-y-2",children:o.map((e=>(0,Te.jsx)("div",{className:"relative group",children:(0,Te.jsx)("div",{onClick:()=>v(e.name),className:"w-full text-left px-4 py-3 rounded-lg transition-colors cursor-pointer "+(b===e.name?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"),role:"button",tabIndex:0,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||v(e.name)},children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("div",{className:"font-medium",children:e.name}),(0,Te.jsx)("div",{className:"text-xs opacity-75 mt-1",children:e.description})]}),(0,Te.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,Te.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{f(e),d({name:e.name,description:e.description}),c(!0)})(e)},disabled:"Admin"===e.name,className:"p-1 rounded hover:bg-opacity-20 "+("Admin"===e.name?"opacity-50 cursor-not-allowed text-gray-400":b===e.name?"hover:bg-white text-white":"hover:bg-blue-100 text-blue-600"),title:"Admin"===e.name?"Admin role cannot be edited":"Edit role",children:(0,Te.jsx)(tn,{className:"h-3 w-3"})}),(0,Te.jsx)("button",{onClick:t=>{t.stopPropagation(),window.confirm(`Delete role "${e.name}"?`)&&(async e=>{const t=o.find((t=>t.id===e));if(t)try{const r=await sn(e);if(r.success){if(s(o.filter((t=>t.id!==e))),b===t.name){var n;const t=o.filter((t=>t.id!==e));v((null===(n=t[0])||void 0===n?void 0:n.name)||"")}ie("Role deleted successfully!")}else ne(r.message||"Failed to delete role")}catch(r){console.error("Error deleting role:",r),ne("Failed to delete role")}})(e.id)},disabled:"Admin"===e.name,className:"p-1 rounded hover:bg-opacity-20 "+("Admin"===e.name?"opacity-50 cursor-not-allowed text-gray-400":b===e.name?"hover:bg-white text-white":"hover:bg-red-100 text-red-600"),title:"Admin"===e.name?"Admin role cannot be deleted":"Delete role",children:(0,Te.jsx)(ut,{className:"h-3 w-3"})})]})]})})},e.id)))})]})}),(0,Te.jsxs)("div",{className:"lg:col-span-3",children:[(0,Te.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Module Access"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Select modules this role can access. When a module is enabled, the role has full access to all features in that module."}),(0,Te.jsx)("div",{className:"space-y-3",children:x.map((e=>(0,Te.jsxs)("label",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,Te.jsx)("input",{type:"checkbox",checked:g.includes(e),onChange:t=>{t.target.checked?y([...g,e]):y(g.filter((t=>t!==e)))},className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),(0,Te.jsxs)("span",{className:"ml-3 flex-1",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["dashboard"===e&&"View system dashboard and analytics","invoices"===e&&"Manage invoices, payments, and billing","customers"===e&&"Manage customer information and contacts","expenses"===e&&"Track and manage business expenses","purchaseOrders"===e&&"Create and manage purchase orders","stock"===e&&"Manage inventory and stock levels","financialProgress"===e&&"View financial reports and analytics","settings"===e&&"Configure system and user settings"]})]})]},e)))})]})}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,Te.jsx)("button",{onClick:()=>y([]),disabled:"Admin"===b,className:"px-6 py-3 border border-gray-300 rounded-lg transition-colors "+("Admin"===b?"opacity-50 cursor-not-allowed text-gray-400 bg-gray-50":"text-gray-700 bg-gray-100 hover:bg-gray-200"),title:"Admin"===b?"Cannot modify Admin role access":"Remove all module access",children:"Remove All Access"}),(0,Te.jsxs)("button",{onClick:async()=>{const e=o.find((e=>e.name===b));if(e)try{const t=await cn(e.id,g);t.success?ie('Module access updated successfully! Users with this role should click "Refresh Modules" in their profile to see the changes.'):ne({message:t.message||"Failed to update module access"})}catch(t){ne({message:t.message||"Error saving module access"})}else ne({message:"Please select a role first"})},disabled:"Admin"===b,className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-colors shadow-sm "+("Admin"===b?"opacity-50 cursor-not-allowed bg-gray-400 text-white":"bg-blue-600 text-white hover:bg-blue-700"),title:"Admin"===b?"Cannot modify Admin role access":"Save module access settings",children:[(0,Te.jsx)(Yt,{className:"h-5 w-5"}),"Save Module Access"]})]})]})]})]}),"viewUsers"===C&&(0,Te.jsxs)("div",{className:"p-8",children:[(0,Te.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Users"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-1",children:"View all users with their roles and assigned privileges"})]})}),$?(0,Te.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Zt,{className:"h-12 w-12 text-blue-500 animate-spin mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Loading users..."})]})}):0===U.length?(0,Te.jsxs)("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-lg p-12 text-center",children:[(0,Te.jsx)(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"There are no users in the system yet."})]}):(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg overflow-hidden",children:[(0,Te.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Name"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Email"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Phone"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Password"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Role"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"divide-y divide-gray-200",children:U.map((e=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-600",children:(e.firstName||"U")[0]})}),(0,Te.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:e.email})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:e.phone||"-"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:e.password||"-"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold "+("Admin"===e.role_name?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.role_name||"No Role"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("div",{className:"flex items-center gap-2",children:"admin@digious.com"===e.email?(0,Te.jsx)("span",{className:"px-3 py-1 text-xs font-semibold bg-yellow-100 text-yellow-700 rounded",children:"Protected"}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>(e=>{K(e),G({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",password:"",company:e.company||"",profilePicture:null,profilePicturePreview:e.profile_picture_url||null}),X(!0)})(e),className:"px-3 py-1 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 rounded transition-colors",title:"Edit user details",children:"Edit"}),(0,Te.jsx)("button",{onClick:()=>ee(e.id),className:"px-3 py-1 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded transition-colors",title:"Delete user",children:"Delete"})]})})})]},e.id)))})]})})]}),Y&&H&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit User: ",H.firstName," ",H.lastName]}),(0,Te.jsx)("button",{onClick:()=>{X(!1),K(null)},className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(ut,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("div",{className:"p-6 space-y-4",children:[P.userForm&&(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:P.userForm}),(0,Te.jsx)("div",{className:"flex justify-center mb-4",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Profile Picture"}),(0,Te.jsxs)("div",{className:"relative inline-block",children:[(0,Te.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-gray-200 bg-gray-100",children:(0,Te.jsx)("img",{src:V.profilePicturePreview||at,alt:"Profile preview",className:"w-full h-full object-cover"})}),(0,Te.jsxs)("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-colors shadow-lg",children:[(0,Te.jsx)(tn,{className:"h-3 w-3"}),(0,Te.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void ne("Profile picture must be less than 5MB");if(!t.type.startsWith("image/"))return void ne("Please select an image file");const n=URL.createObjectURL(t);G((e=>({...e,profilePicture:t,profilePicturePreview:n})))},className:"hidden"})]})]}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Max 5MB"})]})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"First Name"}),(0,Te.jsx)("input",{type:"text",value:V.firstName,onChange:e=>G({...V,firstName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Last Name"}),(0,Te.jsx)("input",{type:"text",value:V.lastName,onChange:e=>G({...V,lastName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Email"}),(0,Te.jsx)("input",{type:"email",value:V.email,onChange:e=>G({...V,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Phone"}),(0,Te.jsx)("input",{type:"text",value:V.phone,onChange:e=>G({...V,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Company"}),(0,Te.jsx)("input",{type:"text",value:V.company,onChange:e=>G({...V,company:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Password (Leave empty to keep current)"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:E.editUserPassword?"text":"password",value:V.password,onChange:e=>G({...V,password:e.target.value}),placeholder:"Enter new password or leave empty",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)("button",{type:"button",onClick:()=>O((e=>({...e,editUserPassword:!e.editUserPassword}))),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Toggle password visibility",children:E.editUserPassword?(0,Te.jsx)($e,{className:"h-5 w-5"}):(0,Te.jsx)(We,{className:"h-5 w-5"})})]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[(0,Te.jsx)("button",{onClick:()=>{X(!1),K(null)},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{if(V.firstName&&V.lastName&&V.email)try{J(!0);const e=new FormData;e.append("firstName",V.firstName),e.append("lastName",V.lastName),e.append("email",V.email),e.append("phone",V.phone||""),e.append("company",V.company||""),V.password&&e.append("password",V.password),V.profilePicture&&e.append("profilePicture",V.profilePicture);const t=await fetch(`${Ge.USERS.LIST}/${H.id}`,{method:"PUT",body:e}),n=await t.json();n.success?(await se(),X(!1),K(null),k("User updated successfully"),setTimeout((()=>k("")),3e3)):A((e=>({...e,userForm:n.message||"Failed to update user"})))}catch(e){console.error("Error updating user:",e),A((e=>({...e,userForm:"Error updating user"})))}finally{J(!1)}else A((e=>({...e,userForm:"First name, last name, and email are required"})))},disabled:Q,className:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",children:Q?"Saving...":"Save Changes"})]})]})}),Z&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-lg max-w-sm w-full mx-4",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete User"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to delete this user? This action cannot be undone."}),(0,Te.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,Te.jsx)("button",{onClick:()=>ee(null),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:()=>(async e=>{try{const t=await dn(e);t.success?(q((t=>t.filter((t=>t.id!==e)))),ee(null),k("User deleted successfully"),setTimeout((()=>k("")),3e3)):A((e=>({...e,general:t.message||"Failed to delete user"})))}catch(t){console.error("Error deleting user:",t),A((e=>({...e,general:"Error deleting user"})))}})(Z),className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Delete"})]})]})})})]})}),l&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:h?"Edit Role":"Add New Role"}),(0,Te.jsx)("button",{onClick:()=>{c(!1),f(null),d({name:"",description:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(ut,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[(0,Te.jsx)(Qt,{className:"h-4 w-4"}),"Role Name"]}),(0,Te.jsx)("input",{type:"text",value:u.name,onChange:e=>d({...u,name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g., Sales Manager"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Description"}),(0,Te.jsx)("input",{type:"text",value:u.description,onChange:e=>d({...u,description:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g., Access to sales and customer data"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[(0,Te.jsx)("button",{onClick:()=>{c(!1),f(null),d({name:"",description:""})},className:"px-5 py-2.5 text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 rounded-lg transition-colors text-sm font-medium",children:"Cancel"}),(0,Te.jsxs)("button",{onClick:h?async()=>{if(h&&u.name.trim()&&u.description.trim())try{const e=await on(h.id,{name:u.name.trim(),description:u.description.trim()});e.success?(s(o.map((e=>e.id===h.id?{...e,name:u.name.trim(),description:u.description.trim()}:e))),b===h.name&&v(u.name.trim()),d({name:"",description:""}),f(null),c(!1),ie("Role updated successfully!")):ne(e.message||"Failed to update role")}catch(e){console.error("Error updating role:",e),ne("Failed to update role")}}:async()=>{if(u.name.trim()&&u.description.trim())try{const e=await an({name:u.name.trim(),description:u.description.trim()});e.success?(s([...o,{id:e.data.id,name:e.data.name,description:e.data.description}]),d({name:"",description:""}),c(!1),ie("Role added successfully!")):ne(e.message||"Failed to add role")}catch(e){console.error("Error adding role:",e),ne("Failed to add role")}},disabled:!u.name.trim()||!u.description.trim(),className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,Te.jsx)(Yt,{className:"h-4 w-4"}),h?"Update Role":"Add Role"]})]})]})})]})},fn=()=>(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("div",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64 overflow-auto",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)("div",{children:(0,Te.jsx)(hn,{})}),(0,Te.jsx)(pt,{})]})]}),pn=qe("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),mn=qe("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),gn=qe("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),yn=qe("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),xn=e=>{let{title:t,amount:n,currency:a="PKR",change:i,changeType:o="neutral",icon:s,color:l="blue",subtitle:c}=e;const u={blue:{bg:"bg-blue-50",text:"text-blue-600",accent:"bg-blue-100"},green:{bg:"bg-green-50",text:"text-green-600",accent:"bg-green-100"},red:{bg:"bg-red-50",text:"text-red-600",accent:"bg-red-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",accent:"bg-purple-100"},yellow:{bg:"bg-yellow-50",text:"text-yellow-600",accent:"bg-yellow-100"}},d={up:{icon:pn,color:"text-green-500"},down:{icon:mn,color:"text-red-500"},neutral:{icon:gn,color:"text-gray-400"},warning:{icon:pn,color:"text-yellow-500"},good:{icon:mn,color:"text-green-500"}},h=d[o].icon;return(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-xs border border-gray-100 w-full h-full",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Te.jsx)("h3",{className:"text-xs font-medium text-gray-500",children:t}),s&&(0,Te.jsx)("div",{className:`p-2 rounded-lg ${u[l].bg} ${u[l].text}`,children:r.cloneElement(s,{className:"w-4 h-4"})})]}),(0,Te.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,Te.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[a&&""!==a&&`${a} `,(e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e)(n)]}),i&&(0,Te.jsxs)("span",{className:`text-xs flex items-center ${d[o].color}`,children:[(0,Te.jsx)(h,{className:"w-3 h-3 mr-0.5"}),i]})]}),(0,Te.jsx)("div",{className:"flex items-center",children:c?(0,Te.jsx)("span",{className:"text-xs text-gray-500",children:c}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(yn,{className:"w-3 h-3 text-gray-400 mr-1"}),(0,Te.jsx)("span",{className:"text-xs text-gray-500",children:"Monthly trend"})]})})]})},bn=qe("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),vn=qe("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),wn=qe("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),jn=qe("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Nn=e=>{var t,n,a,i;let{dashboardData:o}=e;const[s,l]=(0,r.useState)(null),c=[{icon:Jt,label:"Contact Persons",description:`Manage contact persons (${(null===o||void 0===o||null===(t=o.quickActions)||void 0===t?void 0:t.totalCustomers)||0})`,color:"bg-violet-100 text-violet-600",hoverColor:"hover:bg-violet-50",action:()=>window.location.href="/customers"},{icon:bn,label:"Purchase Orders",description:`Manage POs (${(null===o||void 0===o||null===(n=o.quickActions)||void 0===n?void 0:n.totalPurchaseOrders)||0})`,color:"bg-rose-100 text-rose-600",hoverColor:"hover:bg-rose-50",action:()=>window.location.href="/purchase-order"},{icon:vn,label:"Invoices",description:`Manage invoices (${(null===o||void 0===o||null===(a=o.quickActions)||void 0===a?void 0:a.totalInvoices)||0})`,color:"bg-amber-100 text-amber-600",hoverColor:"hover:bg-amber-50",action:()=>window.location.href="/invoices"},{icon:wn,label:"Expenses",description:`Track expenses (${(null===o||void 0===o||null===(i=o.quickActions)||void 0===i?void 0:i.totalExpenses)||0})`,color:"bg-emerald-100 text-emerald-600",hoverColor:"hover:bg-emerald-50",action:()=>window.location.href="/expense"},{icon:jn,label:"Reports",description:"View financial reports",color:"bg-blue-100 text-blue-600",hoverColor:"hover:bg-blue-50",action:()=>window.location.href="/reports"}].slice(0,4);return(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),(0,Te.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 gap-3",children:c.map(((e,t)=>{const n=e.icon;return(0,Te.jsxs)("button",{onClick:()=>{l(t),e.action()},onMouseEnter:()=>l(t),onMouseLeave:()=>l(null),className:`bg-white rounded-xl p-4 shadow-xs border border-gray-100 transition-all cursor-pointer text-left relative overflow-hidden group ${e.hoverColor}`,"aria-label":e.label,children:[(0,Te.jsx)("div",{className:`absolute inset-0 ${e.color.replace("bg-","bg-opacity-0 group-hover:bg-opacity-5")} transition-opacity`}),(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("div",{className:`inline-flex p-3 rounded-lg ${e.color} w-fit transition-transform group-hover:scale-105 mb-3`,children:(0,Te.jsx)(n,{className:"w-5 h-5"})}),(0,Te.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:e.label}),(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]}),s===t&&(0,Te.jsx)("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${e.color.replace("bg-","bg-")} animate-pulse`})]},t)}))})]})},Sn=qe("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_n=(qe("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),qe("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])),kn=(qe("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),qe("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])),Pn=e=>{var t,n,a,i,o,s,l,c;let{dashboardData:u}=e;const[d,h]=(0,r.useState)("overview"),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),y=e=>e||0===e?Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0.00",x=async()=>{try{g(!0);const[e,t,n]=await Promise.all([fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices?limit=1000`),fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/expenses?limit=1000`),fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders?limit=1000`)]),[r,a,i]=await Promise.all([e.ok?e.json():{data:[]},t.ok?t.json():{value:[]},n.ok?n.json():{value:[]}]);console.debug("Raw API responses:",{invoicesData:r,expensesData:a,poData:i});const o=r.data||[],s=a.value||a.data||[],l=i.value||[],c=o.filter((e=>"Paid"===e.status)),u=o.filter((e=>"Pending"===e.status||"Sent"===e.status||"Draft"===e.status)),d=o.filter((e=>"Overdue"===e.status)),h=s.filter((e=>"Paid"===e.status)),f=s.filter((e=>"Pending"===e.status)),m=l.filter((e=>"Pending"===e.status||"Approved"===e.status||"In Progress"===e.status));console.debug("Debug Financial Data:",{totalExpenses:s.length,paidExpenses:h.length,pendingExpenses:f.length,activePOs:m.length,expenses:s.map((e=>({id:e.id,status:e.status,amount:e.amount}))),purchaseOrders:l.map((e=>({id:e.id,status:e.status,amount:e.total_amount})))});const y=c.reduce(((e,t)=>e+(parseFloat(t.total_amount)||0)),0),x=u.reduce(((e,t)=>e+(parseFloat(t.total_amount)||0)),0);console.debug("Amount calculations:",{paidExpensesAmounts:h.map((e=>parseFloat(e.amount))),pendingExpensesAmounts:f.map((e=>parseFloat(e.amount)))});const b=d.reduce(((e,t)=>e+(parseFloat(t.total_amount)||0)),0),v=h.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),w=f.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),j=m.reduce(((e,t)=>e+(parseFloat(t.total_amount)||0)),0);console.debug("Final calculations:",{overdueAmount:b,totalExpenses:v,pendingExpenseAmount:w,totalCommitments:j,totalRevenue:y,pendingReceivables:x});const N=y+x,S=w+j;p({overview:{assets:N,liabilities:S,income:y,expenses:v,netWorth:N-S,receivables:x,commitments:j},breakdown:{income:[{label:"Paid Invoices",value:y,count:c.length},{label:"Pending Collection",value:x,count:u.length},{label:"Overdue Amount",value:b,count:d.length}],expenses:[{label:"Paid Expenses",value:v,count:h.length},{label:"Pending Payments",value:w,count:f.length}],assets:[{label:"Revenue Collected",value:y,percentage:N>0?y/N*100:0},{label:"Outstanding Receivables",value:x,percentage:N>0?x/N*100:0}],liabilities:[{label:"Expense Obligations",value:w,percentage:S>0?w/S*100:0},{label:"PO Commitments",value:j,percentage:S>0?j/S*100:0}]}})}catch(e){console.error("Error fetching financial data:",e)}finally{g(!1)}};(0,r.useEffect)((()=>{x()}),[]);return(0,Te.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100/50 hover:shadow-md transition-all w-full group relative",children:[(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"FINANCIAL OVERVIEW"}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Summary"}),(0,Te.jsx)("button",{onClick:x,className:"p-2 hover:bg-gray-100/50 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:(0,Te.jsx)(kn,{className:"w-5 h-5"})})]})]}),(0,Te.jsx)("div",{className:"w-full h-full",children:u&&u.paymentSummary?(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Current Balance"}),(0,Te.jsxs)("p",{className:"text-3xl font-bold mb-2",children:["Rs ",y(u.paymentSummary.currentBalance)]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"bg-white/20 text-xs px-2 py-1 rounded-full",children:(null===(t=u.paymentSummary.balanceChange)||void 0===t?void 0:t.percentage)||"+5.7%"}),(0,Te.jsx)(Sn,{className:"w-4 h-4 text-blue-200"})]})]}),(0,Te.jsx)(_n,{className:"w-12 h-12 text-blue-200"})]})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Pending Payments"}),(0,Te.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[(null===(n=u.paymentSummary.upcomingPayments)||void 0===n?void 0:n.count)||1," Pending"]})]})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("p",{className:"font-bold text-gray-900",children:["PKR ",y((null===(a=u.paymentSummary.upcomingPayments)||void 0===a?void 0:a.amount)||2874.75)]}),(0,Te.jsx)("p",{className:"text-xs text-green-600",children:"\u2191 Increased from last week"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Overdue Invoices"}),(0,Te.jsxs)("p",{className:"text-sm text-red-600 font-medium",children:[(null===(i=u.paymentSummary.overdueInvoices)||void 0===i?void 0:i.count)||1," Need Action"]})]})]}),(0,Te.jsx)("div",{className:"text-right",children:(0,Te.jsxs)("p",{className:"font-bold text-gray-900",children:["PKR ",y((null===(o=u.paymentSummary.overdueInvoices)||void 0===o?void 0:o.amount)||117e3)]})})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Monthly Collections"}),(0,Te.jsx)("p",{className:"text-sm text-green-600 font-medium",children:"+12.4%"})]})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("p",{className:"font-bold text-gray-900",children:["PKR ",y((null===(s=u.paymentSummary.monthlyCollections)||void 0===s?void 0:s.amount)||36860)]}),(0,Te.jsx)("p",{className:"text-xs text-green-600",children:"\u2191 Increased from last week"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Active Purchase Orders"}),(0,Te.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[(null===(l=u.paymentSummary.activePurchaseOrders)||void 0===l?void 0:l.count)||1," Active"]})]})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("p",{className:"font-bold text-gray-900",children:["PKR ",y((null===(c=u.paymentSummary.activePurchaseOrders)||void 0===c?void 0:c.amount)||119900)]}),(0,Te.jsx)("p",{className:"text-xs text-green-600",children:"\u2191 Increased from last week"})]})]})]}),(0,Te.jsx)("div",{className:"pt-4 border-t"})]}):(0,Te.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})})]})};function An(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=An(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const En=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=An(e))&&(r&&(r+=" "),r+=t);return r};var On=n(9889),Cn=n.n(On),Tn=n(620),Ln=n.n(Tn),Dn=n(5268),Fn=n.n(Dn),In=n(3097),Rn=n.n(In),Mn=n(9160),Bn=n.n(Mn),zn=function(e){return 0===e?0:e>0?1:-1},Un=function(e){return Ln()(e)&&e.indexOf("%")===e.length-1},qn=function(e){return Bn()(e)&&!Fn()(e)},$n=function(e){return qn(e)||Ln()(e)},Wn=0,Hn=function(e){var t=++Wn;return"".concat(e||"").concat(t)},Kn=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!qn(e)&&!Ln()(e))return r;if(Un(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return Fn()(n)&&(n=r),a&&n>t&&(n=t),n},Vn=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Gn=function(e,t){return qn(e)&&qn(t)?function(n){return e+n*(t-e)}:function(){return t}};function Yn(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):Rn()(e,t))===n})):null}var Xn=function(e,t){return qn(e)&&qn(t)?e-t:Ln()(e)&&Ln()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},Qn=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},Jn=n(9686),Zn=n.n(Jn),er=n(1629),tr=n.n(er),nr=n(6686),rr=n.n(nr),ar=n(9062);function ir(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function or(e){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(e)}var sr=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lr=["points","pathLength"],cr={svg:["viewBox","children"],polygon:lr,polyline:lr},ur=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dr=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!rr()(n))return null;var a={};return Object.keys(n).forEach((function(e){ur.includes(e)&&(a[e]=t||function(t){return n[e](n,t)})})),a},hr=function(e,t,n){if(!rr()(e)||"object"!==or(e))return null;var r=null;return Object.keys(e).forEach((function(a){var i=e[a];ur.includes(a)&&"function"===typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))})),r},fr=["children"],pr=["children"];function mr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}var yr={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xr=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},br=null,vr=null,wr=function e(t){if(t===br&&Array.isArray(vr))return vr;var n=[];return r.Children.forEach(t,(function(t){Zn()(t)||((0,ar.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),vr=n,br=t,n};function jr(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return xr(e)})):[xr(t)],wr(e).forEach((function(e){var t=Rn()(e,"type.displayName")||Rn()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function Nr(e,t){var n=jr(e,t);return n&&n[0]}var Sr=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!qn(n)||n<=0||!qn(r)||r<=0)},_r=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kr=function(e){return e&&e.type&&Ln()(e.type)&&_r.indexOf(e.type)>=0},Pr=function(e){return e&&"object"===gr(e)&&"clipDot"in e},Ar=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,r.isValidElement)(e)&&(a=e.props),!rr()(a))return null;var i={};return Object.keys(a).forEach((function(e){var r;(function(e,t,n,r){var a,i=null!==(a=null===cr||void 0===cr?void 0:cr[r])&&void 0!==a?a:[];return t.startsWith("data-")||!tr()(e)&&(r&&i.includes(t)||sr.includes(t))||n&&ur.includes(t)})(null===(r=a)||void 0===r?void 0:r[e],e,t,n)&&(i[e]=a[e])})),i},Er=function e(t,n){if(t===n)return!0;var a=r.Children.count(t);if(a!==r.Children.count(n))return!1;if(0===a)return!0;if(1===a)return Or(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var o=t[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!Or(o,s))return!1}return!0},Or=function(e,t){if(Zn()(e)&&Zn()(t))return!0;if(!Zn()(e)&&!Zn()(t)){var n=e.props||{},r=n.children,a=mr(n,fr),i=t.props||{},o=i.children,s=mr(i,pr);return r&&o?ir(a,s)&&Er(r,o):!r&&!o&&ir(a,s)}return!1},Cr=function(e,t){var n=[],r={};return wr(e).forEach((function(e,a){if(kr(e))n.push(e);else if(e){var i=xr(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!r[i])){var c=s(e,i,a);n.push(c),r[i]=!0}}})),n};function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Tr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tr(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mr=(0,r.forwardRef)((function(e,t){var n=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,x=e.className,b=e.onResize,v=e.style,w=void 0===v?{}:v,j=(0,r.useRef)(null),N=(0,r.useRef)();N.current=b,(0,r.useImperativeHandle)(t,(function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})}));var S=Ir((0,r.useState)({containerWidth:i.width,containerHeight:i.height}),2),_=S[0],k=S[1],P=(0,r.useCallback)((function(e,t){k((function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}}))}),[]);(0,r.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;P(r,a),null===(t=N.current)||void 0===t||t.call(N,r,a)};g>0&&(e=Cn()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,a=n.height;return P(r,a),t.observe(j.current),function(){t.disconnect()}}),[P,g]);var A=(0,r.useMemo)((function(){var e=_.containerWidth,t=_.containerHeight;if(e<0||t<0)return null;Qn(Un(s)||Un(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),Qn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=Un(s)?e:s,i=Un(c)?t:c;n&&n>0&&(a?i=a/n:i&&(a=i*n),f&&i>f&&(i=f)),Qn(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,s,c,d,h,n);var o=!Array.isArray(p)&&xr(p.type).endsWith("Chart");return r.Children.map(p,(function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,Dr({width:a,height:i},o?{style:Dr({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e}))}),[n,p,c,f,h,d,_,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:En("recharts-responsive-container",x),style:Dr(Dr({},w),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},A)})),Br=n(6604),zr=n.n(Br),Ur=n(7424),qr=n.n(Ur),$r="Invariant failed";function Wr(e,t){if(!e)throw new Error($r)}var Hr=["children","width","height","viewBox","className","style","title","desc"];function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}function Vr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gr(e){var t=e.children,n=e.width,a=e.height,i=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=Vr(e,Hr),d=i||{width:n,height:a,x:0,y:0},h=En("recharts-surface",o);return r.createElement("svg",Kr({},Ar(u,!0,"svg"),{className:h,width:n,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),t)}var Yr=["children","className"];function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(this,arguments)}function Qr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Jr=r.forwardRef((function(e,t){var n=e.children,a=e.className,i=Qr(e,Yr),o=En("recharts-layer",a);return r.createElement("g",Xr({className:o},Ar(i,!0),{ref:t}),n)}));function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ea.apply(this,arguments)}function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ia(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zr(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e){return Array.isArray(e)&&$n(e[0])&&$n(e[1])?e.join(" ~ "):e}var sa=function(e){var t=e.separator,n=void 0===t?" : ":t,a=e.contentStyle,i=void 0===a?{}:a,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,x=void 0!==y&&y,b=aa({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=aa({margin:0},c),w=!Zn()(m),j=w?m:"",N=En("recharts-default-tooltip",f),S=En("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(j=g(m,u));var _=x?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",ea({className:N,style:b},_),r.createElement("p",{className:S,style:v},r.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(h?qr()(u,h):u).map((function(e,t){if("none"===e.type)return null;var a=aa({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||oa,o=e.value,l=e.name,c=o,h=l;if(i&&null!=c&&null!=h){var f=i(o,l,e,t,u);if(Array.isArray(f)){var p=ta(f,2);c=p[0],h=p[1]}else c=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:a},$n(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,$n(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function ca(e,t,n){return t=function(e){var t=function(e,t){if("object"!=la(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==la(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ua="recharts-tooltip-wrapper",da={visibility:"hidden"};function ha(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return En(ua,ca(ca(ca(ca({},"".concat(ua,"-right"),qn(n)&&t&&qn(t.x)&&n>=t.x),"".concat(ua,"-left"),qn(n)&&t&&qn(t.x)&&n<t.x),"".concat(ua,"-bottom"),qn(r)&&t&&qn(t.y)&&r>=t.y),"".concat(ua,"-top"),qn(r)&&t&&qn(t.y)&&r<t.y))}function fa(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&qn(i[r]))return i[r];var u=n[r]-s-a,d=n[r]+a;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function pa(e){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(e)}function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){ja(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Na(r.key),r)}}function xa(e,t,n){return t=va(t),function(e,t){if(t&&("object"===pa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ba()?Reflect.construct(t,n||[],va(e).constructor):t.apply(e,n))}function ba(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ba=function(){return!!e})()}function va(e){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},va(e)}function wa(e,t){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wa(e,t)}function ja(e,t,n){return(t=Na(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Na(e){var t=function(e,t){if("object"!=pa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pa(t)?t:t+""}var Sa=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ja(e=xa(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ja(e,"handleKeyDown",(function(t){var n,r,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wa(e,t)}(t,e),n=t,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=fa({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=fa({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):da,cssClasses:ha({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),x=y.cssClasses,b=y.cssProperties,v=ga(ga({transition:u&&n?"transform ".concat(i,"ms ").concat(o):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:x,style:v,ref:function(t){e.wrapperNode=t}},s)}}])&&ya(n.prototype,a),i&&ya(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent),_a={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return _a[e]},set:function(e,t){if("string"===typeof e)_a[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){_a[t]=e[t]}))}}},ka=n(977),Pa=n.n(ka);function Aa(e,t,n){return!0===t?Pa()(e,n):tr()(t)?Pa()(e,t):e}function Ea(e){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(e)}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){Ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ma(r.key),r)}}function La(e,t,n){return t=Fa(t),function(e,t){if(t&&("object"===Ea(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Da()?Reflect.construct(t,n||[],Fa(e).constructor):t.apply(e,n))}function Da(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Da=function(){return!!e})()}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fa(e)}function Ia(e,t){return Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ia(e,t)}function Ra(e,t,n){return(t=Ma(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e){var t=function(e,t){if("object"!=Ea(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ea(t)?t:t+""}function Ba(e){return e.dataKey}var za=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),La(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ia(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,x=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=Aa(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Ba));var v=b.length>0;return r.createElement(Sa,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:u,active:n,coordinate:l,hasPayload:v,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:x},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(sa,t)}(s,Ca(Ca({},this.props),{},{payload:b})))}}])&&Ta(n.prototype,a),i&&Ta(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);Ra(za,"displayName","Tooltip"),Ra(za,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_a.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ua=n(643),qa=n.n(Ua);Math.abs,Math.atan2;const $a=Math.cos,Wa=(Math.max,Math.min,Math.sin),Ha=Math.sqrt,Ka=Math.PI,Va=2*Ka;const Ga={draw(e,t){const n=Ha(t/Ka);e.moveTo(n,0),e.arc(0,0,n,0,Va)}},Ya={draw(e,t){const n=Ha(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Xa=Ha(1/3),Qa=2*Xa,Ja={draw(e,t){const n=Ha(t/Qa),r=n*Xa;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Za={draw(e,t){const n=Ha(t),r=-n/2;e.rect(r,r,n,n)}},ei=Wa(Ka/10)/Wa(7*Ka/10),ti=Wa(Va/10)*ei,ni=-$a(Va/10)*ei,ri={draw(e,t){const n=Ha(.8908130915292852*t),r=ti*n,a=ni*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=Va*i/5,o=$a(t),s=Wa(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},ai=Ha(3),ii={draw(e,t){const n=-Ha(t/(3*ai));e.moveTo(0,2*n),e.lineTo(-ai*n,-n),e.lineTo(ai*n,-n),e.closePath()}},oi=-.5,si=Ha(3)/2,li=1/Ha(12),ci=3*(li/2+1),ui={draw(e,t){const n=Ha(t/ci),r=n/2,a=n*li,i=r,o=n*li+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(oi*r-si*a,si*r+oi*a),e.lineTo(oi*i-si*o,si*i+oi*o),e.lineTo(oi*s-si*l,si*s+oi*l),e.lineTo(oi*r+si*a,oi*a-si*r),e.lineTo(oi*i+si*o,oi*o-si*i),e.lineTo(oi*s+si*l,oi*l-si*s),e.closePath()}};function di(e){return function(){return e}}const hi=Math.PI,fi=2*hi,pi=1e-6,mi=fi-pi;function gi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class yi{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?gi:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gi;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>pi)if(Math.abs(u*s-l*c)>pi&&a){let h=n-i,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),x=a*Math.tan((hi-Math.acos((p+d-m)/(2*g*y)))/2),b=x/y,v=x/g;Math.abs(b-1)>pi&&this._append`L${e+b*c},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*h>c*f)},${this._x1=e+v*s},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,d=i?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>pi||Math.abs(this._y1-c)>pi)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%fi+fi),d>mi?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>pi&&this._append`A${n},${n},0,${+(d>=hi)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function xi(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new yi(t)}Ha(3),Ha(3);function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}var vi=["type","size","sizeType"];function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(this,arguments)}function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ki={symbolCircle:Ga,symbolCross:Ya,symbolDiamond:Ja,symbolSquare:Za,symbolStar:ri,symbolTriangle:ii,symbolWye:ui},Pi=Math.PI/180,Ai=function(e){var t=e.type,n=void 0===t?"circle":t,a=e.size,i=void 0===a?64:a,o=e.sizeType,s=void 0===o?"area":o,l=Ni(Ni({},_i(e,vi)),{},{type:n,size:i,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Ar(l,!0);return u===+u&&d===+d&&i===+i?r.createElement("path",wi({},h,{className:En("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(qa()(e));return ki[t]||Ga}(n),t=function(e,t){let n=null,r=xi(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:di(e||Ga),t="function"===typeof t?t:di(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:di(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:di(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Pi;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,s,n));return t()}()})):null};function Ei(e){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(this,arguments)}function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mi(r.key),r)}}function Li(e,t,n){return t=Fi(t),function(e,t){if(t&&("object"===Ei(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Di()?Reflect.construct(t,n||[],Fi(e).constructor):t.apply(e,n))}function Di(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Di=function(){return!!e})()}function Fi(e){return Fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fi(e)}function Ii(e,t){return Ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ii(e,t)}function Ri(e,t,n){return(t=Mi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e){var t=function(e,t){if("object"!=Ei(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ei(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ei(t)?t:t+""}Ai.registerSymbol=function(e,t){ki["symbol".concat(qa()(e))]=t};var Bi=32,zi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Li(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ii(e,t)}(t,e),n=t,a=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,a=Bi/6,i=Bi/3,o=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Bi,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(Bi,"M").concat(2*i,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(Bi,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(Ai,{fill:o,cx:n,cy:n,size:Bi,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,a=t.iconSize,i=t.layout,o=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:Bi,height:Bi},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var i=t.formatter||o,d=En(Ri(Ri({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=tr()(t.value)?null:t.value;Qn(!tr()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return r.createElement("li",Oi({className:d,style:c,key:"legend-item-".concat(n)},hr(e.props,t,n)),r.createElement(Gr,{width:a,height:a,viewBox:l,style:u},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},i?i(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,a=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?a:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&Ti(n.prototype,a),i&&Ti(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function Ui(e){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(e)}Ri(zi,"displayName","Legend"),Ri(zi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qi=["ref"];function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qi(r.key),r)}}function Ki(e,t,n){return t=Gi(t),function(e,t){if(t&&("object"===Ui(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vi()?Reflect.construct(t,n||[],Gi(e).constructor):t.apply(e,n))}function Vi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vi=function(){return!!e})()}function Gi(e){return Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gi(e)}function Yi(e,t){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yi(e,t)}function Xi(e,t,n){return(t=Qi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e){var t=function(e,t){if("object"!=Ui(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ui(t)?t:t+""}function Ji(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zi(e){return e.value}var eo=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Xi(e=Ki(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yi(e,t)}(t,e),n=t,i=[{key:"getWithHeight",value:function(e,t){var n=Wi(Wi({},this.defaultProps),e.props).layout;return"vertical"===n&&qn(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Wi(Wi({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.width,i=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=Wi(Wi({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=Ji(t,qi);return r.createElement(zi,n)}(n,Wi(Wi({},this.props),{},{payload:Aa(l,s,Zi)})))}}])&&Hi(n.prototype,a),i&&Hi(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to.apply(this,arguments)}Xi(eo,"displayName","Legend"),Xi(eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var no=function(e){var t=e.cx,n=e.cy,a=e.r,i=e.className,o=En("recharts-dot",i);return t===+t&&n===+n&&a===+a?r.createElement("circle",to({},Ar(e,!1),dr(e),{className:o,cx:t,cy:n,r:a})):null},ro=n(5173),ao=n.n(ro),io=Object.getOwnPropertyNames,oo=Object.getOwnPropertySymbols,so=Object.prototype.hasOwnProperty;function lo(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function co(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,i=a.get(t),o=a.get(n);if(i&&o)return i===n&&o===t;a.set(t,n),a.set(n,t);var s=e(t,n,r);return a.delete(t),a.delete(n),s}}function uo(e){return io(e).concat(oo(e))}var ho=Object.hasOwn||function(e,t){return so.call(e,t)};function fo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var po=Object.getOwnPropertyDescriptor,mo=Object.keys;function go(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function yo(e,t){return fo(e.getTime(),t.getTime())}function xo(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function bo(e,t){return e===t}function vo(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var h=a.value,f=i.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var wo=fo;function jo(e,t,n){var r=mo(e),a=r.length;if(mo(t).length!==a)return!1;for(;a-- >0;)if(!Eo(e,t,n,r[a]))return!1;return!0}function No(e,t,n){var r,a,i,o=uo(e),s=o.length;if(uo(t).length!==s)return!1;for(;s-- >0;){if(!Eo(e,t,n,r=o[s]))return!1;if(a=po(e,r),i=po(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function So(e,t){return fo(e.valueOf(),t.valueOf())}function _o(e,t){return e.source===t.source&&e.flags===t.flags}function ko(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&n.equals(a.value,i.value,a.value,i.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function Po(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Ao(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Eo(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||ho(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Oo=Array.isArray,Co="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,To=Object.assign,Lo=Object.prototype.toString.call.bind(Object.prototype.toString);var Do=Fo();Fo({strict:!0}),Fo({circular:!0}),Fo({circular:!0,strict:!0}),Fo({createInternalComparator:function(){return fo}}),Fo({strict:!0,createInternalComparator:function(){return fo}}),Fo({circular:!0,createInternalComparator:function(){return fo}}),Fo({circular:!0,createInternalComparator:function(){return fo},strict:!0});function Fo(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?No:go,areDatesEqual:yo,areErrorsEqual:xo,areFunctionsEqual:bo,areMapsEqual:r?lo(vo,No):vo,areNumbersEqual:wo,areObjectsEqual:r?No:jo,arePrimitiveWrappersEqual:So,areRegExpsEqual:_o,areSetsEqual:r?lo(ko,No):ko,areTypedArraysEqual:r?No:Po,areUrlsEqual:Ao};if(n&&(a=To({},a,n(a))),t){var i=co(a.areArraysEqual),o=co(a.areMapsEqual),s=co(a.areObjectsEqual),l=co(a.areSetsEqual);a=To({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?o(e,f,p):"function"===m&&a(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(Oo(e))return t(e,f,p);if(null!=Co&&Co(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return i(e,f,p);if(g===Set)return u(e,f,p);var y=Lo(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?i(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=a?a(c):(t=c,function(e,n,r,a,i,o,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:i,equals:u,strict:s})}function Io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function Mo(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zo(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=Mo(r),i=a[0],o=a.slice(1);return"number"===typeof i?void Io(n.bind(null,o),i):(n(i),void Io(n.bind(null,o)))}"object"===Ro(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Uo(e){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(e)}function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){Wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Uo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Uo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ho=function(e){return e},Ko=function(e,t){return Object.keys(t).reduce((function(n,r){return $o($o({},n),{},Wo({},r,e(r,t[r])))}),{})},Vo=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||Xo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e){return function(e){if(Array.isArray(e))return Qo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e,t){if(e){if("string"===typeof e)return Qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qo(e,t):void 0}}function Qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jo=1e-4,Zo=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},es=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},ts=function(e,t){return function(n){var r=Zo(e,t);return es(r,n)}},ns=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,i=1,o=1;break;case"ease":r=.25,a=.1,i=.25,o=1;break;case"ease-in":r=.42,a=0,i=1,o=1;break;case"ease-out":r=.42,a=0,i=.58,o=1;break;case"ease-in-out":r=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=Go(l,4);r=c[0],a=c[1],i=c[2],o=c[3]}}[r,i,a,o].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=ts(r,i),f=ts(a,o),p=(u=r,d=i,function(e){var t=Zo(u,d),n=[].concat(Yo(t.map((function(e,t){return e*t})).slice(1)),[0]);return es(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=h(n)-t,i=p(n);if(Math.abs(a-t)<Jo||i<Jo)return f(n);n=m(n-a/i)}return f(n)};return g.isStepper=!1,g},rs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ns(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,o=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*a)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<Jo&&Math.abs(i)<Jo?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return ns(r)}return"function"===typeof r?r:null};function as(e){return as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(e)}function is(e){return function(e){if(Array.isArray(e))return ds(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||us(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==as(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==as(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===as(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||us(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(e,t){if(e){if("string"===typeof e)return ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ds(e,t):void 0}}function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hs=function(e,t,n){return e+(t-e)*n},fs=function(e){return e.from!==e.to},ps=function e(t,n,r){var a=Ko((function(e,n){if(fs(n)){var r=cs(t(n.from,n.to,n.velocity),2),a=r[0],i=r[1];return ss(ss({},n),{},{from:a,velocity:i})}return n}),n);return r<1?Ko((function(e,t){return fs(t)?ss(ss({},t),{},{velocity:hs(t.velocity,a[e].velocity,r),from:hs(t.from,a[e].from,r)}):t}),n):e(t,a,r-1)};const ms=function(e,t,n,r,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return ss(ss({},n),{},ls({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return ss(ss({},n),{},ls({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;d=ps(n,d,i),a(ss(ss(ss({},e),t),Ko((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(fs).length&&(h=requestAnimationFrame(f))}:function(i){l||(l=i);var o=(i-l)/r,s=Ko((function(e,t){return hs.apply(void 0,is(t).concat([n(o)]))}),u);if(a(ss(ss(ss({},e),t),s)),o<1)h=requestAnimationFrame(f);else{var c=Ko((function(e,t){return hs.apply(void 0,is(t).concat([n(1)]))}),u);a(ss(ss(ss({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function gs(e){return gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(e)}var ys=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xs(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bs(e){return function(e){if(Array.isArray(e))return vs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){Ns(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ns(e,t,n){return(t=_s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_s(r.key),r)}}function _s(e){var t=function(e,t){if("object"!==gs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gs(t)?t:String(t)}function ks(e,t){return ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ks(e,t)}function Ps(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(QC){return!1}}();return function(){var n,r=Os(e);if(t){var a=Os(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return As(this,n)}}function As(e,t){if(t&&("object"===gs(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Es(e)}function Es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Os(e)}var Cs=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ks(e,t)}(o,e);var t,n,a,i=Ps(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=i.call(this,e,t)).props,a=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Es(n)),n.changeStyle=n.changeStyle.bind(Es(n)),!a||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),As(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},As(n);n.state={style:s?Ns({},s,l):l}}else n.state={style:{}};return n}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(Do(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?Ns({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(js(js({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?Ns({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=ms(n,r,rs(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(bs(n.reduce((function(e,r,a){if(0===a)return e;var i=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(bs(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var f=Vo(h,i,s),p=js(js(js({},d.style),l),{},{transition:f});return[].concat(bs(e),[p,i,u]).filter(Ho)}),[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=zo());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=r?Ns({},r,a):a,h=Vo(Object.keys(d),n,i);u.start([o,t,js(js({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,xs(e,ys)),o=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!a||0===o||n<=0)return t;var l=function(e){var t=e.props,n=t.style,a=void 0===n?{}:n,o=t.className;return(0,r.cloneElement)(e,js(js({},i),{},{style:js(js({},a),s),className:o}))};return 1===o?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return l(e)})))}}])&&Ss(t.prototype,n),a&&Ss(t,a),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent);Cs.displayName="Animate",Cs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Cs.propTypes={from:ao().oneOfType([ao().object,ao().string]),to:ao().oneOfType([ao().object,ao().string]),attributeName:ao().string,duration:ao().number,begin:ao().number,easing:ao().oneOfType([ao().string,ao().func]),steps:ao().arrayOf(ao().shape({duration:ao().number.isRequired,style:ao().object.isRequired,easing:ao().oneOfType([ao().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ao().func]),properties:ao().arrayOf("string"),onAnimationEnd:ao().func})),children:ao().oneOfType([ao().node,ao().func]),isActive:ao().bool,canBegin:ao().bool,onAnimationEnd:ao().func,shouldReAnimate:ao().bool,onAnimationStart:ao().func,onAnimationReStart:ao().func};const Ts=Cs;function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(this,arguments)}function Fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Is(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){Bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ls(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ls(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ls(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zs=function(e,t,n,r,a){var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},Us=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},qs={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$s=function(e){var t=Ms(Ms({},qs),e),n=(0,r.useRef)(),a=Fs((0,r.useState)(-1),2),i=a[0],o=a[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var x=En("recharts-rectangle",h);return y?r.createElement(Ts,{canBegin:i>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var a=e.width,o=e.height,s=e.x,l=e.y;return r.createElement(Ts,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},r.createElement("path",Ds({},Ar(t,!0),{className:x,d:zs(s,l,a,o,d),ref:n})))})):r.createElement("path",Ds({},Ar(t,!0),{className:x,d:zs(s,l,c,u,d)}))};function Ws(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Hs(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Ks extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xs;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Vs(this,e))}has(e){return super.has(Vs(this,e))}set(e,t){return super.set(Gs(this,e),t)}delete(e){return super.delete(Ys(this,e))}}Set;function Vs(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function Gs(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function Ys(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function Xs(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Qs=Symbol("implicit");function Js(){var e=new Ks,t=[],n=[],r=Qs;function a(a){let i=e.get(a);if(void 0===i){if(r!==Qs)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ks;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return Js(t,n).unknown(r)},Ws.apply(a,arguments),a}function Zs(){var e,t,n=Js().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map((function(t){return h+e*t}));return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Zs(r(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ws.apply(d(),arguments)}function el(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return el(t())},e}function tl(){return el(Zs.apply(null,arguments).paddingInner(1))}function nl(e){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(e)}function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ol={widthCache:{},cacheCount:0},sl={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ll="recharts_measurement_span";var cl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||_a.isSsr)return{width:0,height:0};var n=function(e){var t=al({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(ol.widthCache[r])return ol.widthCache[r];try{var a=document.getElementById(ll);a||((a=document.createElement("span")).setAttribute("id",ll),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=al(al({},sl),n);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return ol.widthCache[r]=s,++ol.cacheCount>2e3&&(ol.cacheCount=0,ol.widthCache={}),s}catch(QC){return{width:0,height:0}}};function ul(e){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(e)}function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pl(r.key),r)}}function pl(e){var t=function(e,t){if("object"!=ul(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ul(t)?t:t+""}var ml=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gl=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yl=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xl=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bl={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},vl=Object.keys(bl),wl="NaN";var jl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||yl.test(n)||(this.num=NaN,this.unit=""),vl.includes(n)&&(this.num=function(e,t){return e*bl[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=dl(null!==(n=xl.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&fl(t.prototype,n),r&&fl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Nl(e){if(e.includes(wl))return wl;for(var t=e;t.includes("*")||t.includes("/");){var n,r=dl(null!==(n=ml.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],o=r[3],s=jl.parse(null!==a&&void 0!==a?a:""),l=jl.parse(null!==o&&void 0!==o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return wl;t=t.replace(ml,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=dl(null!==(u=gl.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=jl.parse(null!==h&&void 0!==h?h:""),g=jl.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return wl;t=t.replace(gl,y.toString())}return t}var Sl=/\(([^()]*)\)/;function _l(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=dl(Sl.exec(t),2)[1];t=t.replace(Sl,Nl(n))}return t}(t),t=Nl(t)}function kl(e){var t=function(e){try{return _l(e)}catch(QC){return wl}}(e.slice(5,-1));return t===wl?"":t}var Pl=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Al=["dx","dy","angle","className","breakAll"];function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}function Ol(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ll=/[ \f\n\r\t\v\u2028\u2029]+/,Dl=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return Zn()(t)||(a=n?t.toString().split(""):t.toString().split(Ll)),{wordsWithComputedWidth:a.map((function(e){return{word:e,width:cl(e,r).width}})),spaceWidth:n?0:cl("\xa0",r).width}}catch(QC){return null}},Fl=function(e){return[{words:Zn()(e)?[]:e.toString().split(Ll)}]},Il=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||n)&&!_a.isSsr){var s=Dl({breakAll:i,children:r,style:a});return s?function(e,t,n,r,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=qn(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=Dl({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),o=a.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(a).width>Number(r);return[o,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var x=Math.floor((m+g)/2),b=Cl(p(x-1),2),v=b[0],w=b[1],j=Cl(p(x),1)[0];if(v||j||(m=x+1),v&&j&&(g=x-1),!v&&j){f=w;break}y++}return f||h}({breakAll:i,children:r,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,n):Fl(r)}return Fl(r)},Rl="#808080",Ml=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,i=void 0===a?0:a,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?Rl:g,x=Ol(e,Pl),b=(0,r.useMemo)((function(){return Il({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})}),[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),v=x.dx,w=x.dy,j=x.angle,N=x.className,S=x.breakAll,_=Ol(x,Al);if(!$n(n)||!$n(i))return null;var k,P=n+(qn(v)?v:0),A=i+(qn(w)?w:0);switch(m){case"start":k=kl("calc(".concat(c,")"));break;case"middle":k=kl("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:k=kl("calc(".concat(b.length-1," * -").concat(s,")"))}var E=[];if(d){var O=b[0].width,C=x.width;E.push("scale(".concat((qn(C)?C/O:1)/O,")"))}return j&&E.push("rotate(".concat(j,", ").concat(P,", ").concat(A,")")),E.length&&(_.transform=E.join(" ")),r.createElement("text",El({},Ar(_,!0),{x:P,y:A,className:En("recharts-text",N),textAnchor:f,fill:y.includes("url")?Rl:y}),b.map((function(e,t){var n=e.words.join(S?"":" ");return r.createElement("tspan",{x:P,dy:0===t?k:s,key:"".concat(n,"-").concat(t)},n)})))};const Bl=Math.sqrt(50),zl=Math.sqrt(10),Ul=Math.sqrt(2);function ql(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Bl?10:i>=zl?5:i>=Ul?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?ql(e,t,2*n):[s,l,c]}function $l(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?ql(t,e,n):ql(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Wl(e,t,n){return ql(e=+e,t=+t,n=+n)[2]}function Hl(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Wl(t,e,n):Wl(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Kl(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Vl(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gl(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Kl,n=(t,n)=>Kl(e(t),n),r=(t,n)=>e(t)-n):(t=e===Kl||e===Vl?e:Yl,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function Yl(){return 0}function Xl(e){return null===e?NaN:+e}const Ql=Gl(Kl),Jl=Ql.right,Zl=(Ql.left,Gl(Xl).center,Jl);function ec(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tc(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nc(){}var rc=.7,ac=1/rc,ic="\\s*([+-]?\\d+)\\s*",oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lc=/^#([0-9a-f]{3,8})$/,cc=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),uc=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),dc=new RegExp(`^rgba\\(${ic},${ic},${ic},${oc}\\)$`),hc=new RegExp(`^rgba\\(${sc},${sc},${sc},${oc}\\)$`),fc=new RegExp(`^hsl\\(${oc},${sc},${sc}\\)$`),pc=new RegExp(`^hsla\\(${oc},${sc},${sc},${oc}\\)$`),mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gc(){return this.rgb().formatHex()}function yc(){return this.rgb().formatRgb()}function xc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?bc(t):3===n?new jc(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?vc(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?vc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=cc.exec(e))?new jc(t[1],t[2],t[3],1):(t=uc.exec(e))?new jc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=dc.exec(e))?vc(t[1],t[2],t[3],t[4]):(t=hc.exec(e))?vc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=fc.exec(e))?Ac(t[1],t[2]/100,t[3]/100,1):(t=pc.exec(e))?Ac(t[1],t[2]/100,t[3]/100,t[4]):mc.hasOwnProperty(e)?bc(mc[e]):"transparent"===e?new jc(NaN,NaN,NaN,0):null}function bc(e){return new jc(e>>16&255,e>>8&255,255&e,1)}function vc(e,t,n,r){return r<=0&&(e=t=n=NaN),new jc(e,t,n,r)}function wc(e,t,n,r){return 1===arguments.length?function(e){return e instanceof nc||(e=xc(e)),e?new jc((e=e.rgb()).r,e.g,e.b,e.opacity):new jc}(e):new jc(e,t,n,null==r?1:r)}function jc(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Nc(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}`}function Sc(){const e=_c(this.opacity);return`${1===e?"rgb(":"rgba("}${kc(this.r)}, ${kc(this.g)}, ${kc(this.b)}${1===e?")":`, ${e})`}`}function _c(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pc(e){return((e=kc(e))<16?"0":"")+e.toString(16)}function Ac(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oc(e,t,n,r)}function Ec(e){if(e instanceof Oc)return new Oc(e.h,e.s,e.l,e.opacity);if(e instanceof nc||(e=xc(e)),!e)return new Oc;if(e instanceof Oc)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Oc(o,s,l,e.opacity)}function Oc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Cc(e){return(e=(e||0)%360)<0?e+360:e}function Tc(e){return Math.max(0,Math.min(1,e||0))}function Lc(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Dc(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}ec(nc,xc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gc,formatHex:gc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ec(this).formatHsl()},formatRgb:yc,toString:yc}),ec(jc,wc,tc(nc,{brighter(e){return e=null==e?ac:Math.pow(ac,e),new jc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?rc:Math.pow(rc,e),new jc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jc(kc(this.r),kc(this.g),kc(this.b),_c(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nc,formatHex:Nc,formatHex8:function(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}${Pc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Sc,toString:Sc})),ec(Oc,(function(e,t,n,r){return 1===arguments.length?Ec(e):new Oc(e,t,n,null==r?1:r)}),tc(nc,{brighter(e){return e=null==e?ac:Math.pow(ac,e),new Oc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?rc:Math.pow(rc,e),new Oc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new jc(Lc(e>=240?e-240:e+120,a,r),Lc(e,a,r),Lc(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Oc(Cc(this.h),Tc(this.s),Tc(this.l),_c(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_c(this.opacity);return`${1===e?"hsl(":"hsla("}${Cc(this.h)}, ${100*Tc(this.s)}%, ${100*Tc(this.l)}%${1===e?")":`, ${e})`}`}}));const Fc=e=>()=>e;function Ic(e,t){return function(n){return e+n*t}}function Rc(e){return 1===(e=+e)?Mc:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Fc(isNaN(t)?n:t)}}function Mc(e,t){var n=t-e;return n?Ic(e,n):Fc(isNaN(e)?t:e)}const Bc=function e(t){var n=Rc(t);function r(e,t){var r=n((e=wc(e)).r,(t=wc(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=Mc(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function zc(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=wc(t[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=e(i),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=s(e),r+""}}}zc((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return Dc((n-r/t)*t,o,a,i,s)}})),zc((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Dc((n-r/t)*t,a,i,o,s)}}));function Uc(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Yc(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function qc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $c(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Wc(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Yc(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Hc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kc=new RegExp(Hc.source,"g");function Vc(e,t){var n,r,a,i=Hc.lastIndex=Kc.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Hc.exec(e))&&(r=Kc.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:$c(n,r)})),i=Kc.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Gc(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Yc(e,t){var n,r=typeof t;return null==t||"boolean"===r?Fc(t):("number"===r?$c:"string"===r?(n=xc(t))?(t=n,Bc):Vc:t instanceof xc?Bc:t instanceof Date?qc:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Gc:Array.isArray(t)?Uc:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Wc:$c)(e,t)}function Xc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Qc(e){return+e}var Jc=[0,1];function Zc(e){return e}function eu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function tu(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=eu(a,r),i=n(o,i)):(r=eu(r,a),i=n(i,o)),function(e){return i(r(e))}}function nu(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=eu(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=Zl(e,t,1,r)-1;return i[n](a[n](t))}}function ru(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function au(){var e,t,n,r,a,i,o=Jc,s=Jc,l=Yc,c=Zc;function u(){var e=Math.min(o.length,s.length);return c!==Zc&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?nu:tu,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,o.map(e),$c)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Qc),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Xc,u()},d.clamp=function(e){return arguments.length?(c=!!e||Zc,u()):c!==Zc},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function iu(){return au()(Zc,Zc)}var ou,su=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lu(e){if(!(t=su.exec(e)))throw new Error("invalid format: "+e);var t;return new cu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function cu(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function uu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function du(e){return(e=uu(Math.abs(e)))?e[1]:NaN}function hu(e,t){var n=uu(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}lu.prototype=cu.prototype,cu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const fu={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hu(100*e,t),r:hu,s:function(e,t){var n=uu(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(ou=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+uu(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pu(e){return e}var mu,gu,yu,xu=Array.prototype.map,bu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function vu(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?pu:(t=xu.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?pu:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(xu.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=lu(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,x=e.type;"n"===x?(m=!0,x="g"):fu[x]||(void 0===g&&(g=12),y=!0,x="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===h?i:/[%p]/.test(x)?l:"",w=fu[x],j=/[defgprs%]/.test(x);function N(e){var a,i,l,h=b,N=v;if("c"===x)N=w(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===x?bu[8+ou/3]:"")+N+(S&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var _=h.length+e.length+N.length,k=_<p?new Array(p-_+1).join(t):"";switch(m&&f&&(e=r(k+e,k.length?p-N.length:1/0),k=""),n){case"<":e=h+e+N+k;break;case"=":e=h+k+e+N;break;case"^":e=k.slice(0,_=k.length>>1)+h+e+N+k.slice(_);break;default:e=k+h+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=lu(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(du(t)/3))),a=Math.pow(10,-r),i=bu[8+r/3];return function(e){return n(a*e)+i}}}}function wu(e,t,n,r){var a,i=Hl(e,t,n);switch((r=lu(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(du(t)/3)))-du(Math.abs(e)))}(i,o))||(r.precision=a),yu(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,du(t)-du(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-du(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return gu(r)}function ju(e){var t=e.domain;return e.ticks=function(e){var n=t();return $l(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return wu(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=Wl(l,c,n))===r)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Nu(){var e=iu();return e.copy=function(){return ru(e,Nu())},Ws.apply(e,arguments),ju(e)}function Su(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Qc),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Su(e).unknown(t)},e=arguments.length?Array.from(e,Qc):[0,1],ju(n)}function _u(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function ku(e){return Math.log(e)}function Pu(e){return Math.exp(e)}function Au(e){return-Math.log(-e)}function Eu(e){return-Math.exp(-e)}function Ou(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cu(e){return(t,n)=>-e(-t,n)}function Tu(e){const t=e(ku,Pu),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Ou:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=Cu(r),a=Cu(a),e(Au,Eu)):e(ku,Pu),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=$l(o,s,f))}else p=$l(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=lu(n)).precision||(n.trim=!0),n=gu(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(_u(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function Lu(){const e=Tu(au()).domain([1,10]);return e.copy=()=>ru(e,Lu()).base(e.base()),Ws.apply(e,arguments),e}function Du(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Fu(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Iu(e){var t=1,n=e(Du(t),Fu(t));return n.constant=function(n){return arguments.length?e(Du(t=+n),Fu(t)):t},ju(n)}function Ru(){var e=Iu(au());return e.copy=function(){return ru(e,Ru()).constant(e.constant())},Ws.apply(e,arguments)}function Mu(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Bu(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zu(e){return e<0?-e*e:e*e}function Uu(e){var t=e(Zc,Zc),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Zc,Zc):.5===n?e(Bu,zu):e(Mu(n),Mu(1/n)):n},ju(t)}function qu(){var e=Uu(au());return e.copy=function(){return ru(e,qu()).exponent(e.exponent())},Ws.apply(e,arguments),e}function $u(){return qu.apply(null,arguments).exponent(.5)}function Wu(e){return Math.sign(e)*e*e}function Hu(){var e,t=iu(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(Wu(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Qc)).map(Wu)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Hu(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Ws.apply(a,arguments),ju(a)}function Ku(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function Vu(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Gu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl;if(e===Kl)return Yu;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Yu(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Xu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Yu:Gu(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Xu(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(Qu(e,n,t),a(e[r],i)>0&&Qu(e,n,r);o<s;){for(Qu(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?Qu(e,n,s):(++s,Qu(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Qu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ju(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Vu(e);if(t>=1)return Ku(e);var r,a=(r-1)*t,i=Math.floor(a),o=Ku(Xu(e,i).subarray(0,i+1));return o+(Vu(e.subarray(i+1))-o)*(a-i)}}function Zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xl;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function ed(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=Zu(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[Zl(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Kl),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return ed().domain(t).range(n).unknown(e)},Ws.apply(i,arguments)}function td(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[Zl(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return td().domain([t,n]).range(i).unknown(e)},Ws.apply(ju(o),arguments)}function nd(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Zl(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return nd().domain(t).range(n).unknown(e)},Ws.apply(a,arguments)}mu=vu({thousands:",",grouping:[3],currency:["$",""]}),gu=mu.format,yu=mu.formatPrefix;const rd=1e3,ad=6e4,id=36e5,od=864e5,sd=6048e5,ld=2592e6,cd=31536e6,ud=new Date,dd=new Date;function hd(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>hd((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(a.count=(t,r)=>(ud.setTime(+t),dd.setTime(+r),e(ud),e(dd),Math.floor(n(ud,dd))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const fd=hd((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));fd.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?hd((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):fd:null);fd.range;const pd=hd((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*rd)}),((e,t)=>(t-e)/rd),(e=>e.getUTCSeconds())),md=(pd.range,hd((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rd)}),((e,t)=>{e.setTime(+e+t*ad)}),((e,t)=>(t-e)/ad),(e=>e.getMinutes()))),gd=(md.range,hd((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*ad)}),((e,t)=>(t-e)/ad),(e=>e.getUTCMinutes()))),yd=(gd.range,hd((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rd-e.getMinutes()*ad)}),((e,t)=>{e.setTime(+e+t*id)}),((e,t)=>(t-e)/id),(e=>e.getHours()))),xd=(yd.range,hd((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*id)}),((e,t)=>(t-e)/id),(e=>e.getUTCHours()))),bd=(xd.range,hd((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ad)/od),(e=>e.getDate()-1))),vd=(bd.range,hd((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/od),(e=>e.getUTCDate()-1))),wd=(vd.range,hd((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/od),(e=>Math.floor(e/od))));wd.range;function jd(e){return hd((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ad)/sd))}const Nd=jd(0),Sd=jd(1),_d=jd(2),kd=jd(3),Pd=jd(4),Ad=jd(5),Ed=jd(6);Nd.range,Sd.range,_d.range,kd.range,Pd.range,Ad.range,Ed.range;function Od(e){return hd((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/sd))}const Cd=Od(0),Td=Od(1),Ld=Od(2),Dd=Od(3),Fd=Od(4),Id=Od(5),Rd=Od(6),Md=(Cd.range,Td.range,Ld.range,Dd.range,Fd.range,Id.range,Rd.range,hd((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Bd=(Md.range,hd((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),zd=(Bd.range,hd((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));zd.every=e=>isFinite(e=Math.floor(e))&&e>0?hd((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;zd.range;const Ud=hd((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Ud.every=e=>isFinite(e=Math.floor(e))&&e>0?hd((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;Ud.range;function qd(e,t,n,r,a,i){const o=[[pd,1,rd],[pd,5,5e3],[pd,15,15e3],[pd,30,3e4],[i,1,ad],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,id],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,od],[r,2,1728e5],[n,1,sd],[t,1,ld],[t,3,7776e6],[e,1,cd]];function s(t,n,r){const a=Math.abs(n-t)/r,i=Gl((e=>{let[,,t]=e;return t})).right(o,a);if(i===o.length)return e.every(Hl(t/cd,n/cd,r));if(0===i)return fd.every(Math.max(Hl(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}const[$d,Wd]=qd(Ud,Bd,Cd,wd,xd,gd),[Hd,Kd]=qd(zd,Md,Nd,bd,yd,md);function Vd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Xd,Qd,Jd,Zd={"-":"",_:" ",0:"0"},eh=/^\s*\d+/,th=/^%/,nh=/[\\^$*+?|[\]().{}]/g;function rh(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function ah(e){return e.replace(nh,"\\$&")}function ih(e){return new RegExp("^(?:"+e.map(ah).join("|")+")","i")}function oh(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function sh(e,t,n){var r=eh.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function lh(e,t,n){var r=eh.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ch(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function uh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function dh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hh(e,t,n){var r=eh.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ph(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mh(e,t,n){var r=eh.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function gh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xh(e,t,n){var r=eh.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function wh(e,t,n){var r=eh.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jh(e,t,n){var r=eh.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Nh(e,t,n){var r=eh.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sh(e,t,n){var r=th.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _h(e,t,n){var r=eh.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kh(e,t,n){var r=eh.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ph(e,t){return rh(e.getDate(),t,2)}function Ah(e,t){return rh(e.getHours(),t,2)}function Eh(e,t){return rh(e.getHours()%12||12,t,2)}function Oh(e,t){return rh(1+bd.count(zd(e),e),t,3)}function Ch(e,t){return rh(e.getMilliseconds(),t,3)}function Th(e,t){return Ch(e,t)+"000"}function Lh(e,t){return rh(e.getMonth()+1,t,2)}function Dh(e,t){return rh(e.getMinutes(),t,2)}function Fh(e,t){return rh(e.getSeconds(),t,2)}function Ih(e){var t=e.getDay();return 0===t?7:t}function Rh(e,t){return rh(Nd.count(zd(e)-1,e),t,2)}function Mh(e){var t=e.getDay();return t>=4||0===t?Pd(e):Pd.ceil(e)}function Bh(e,t){return e=Mh(e),rh(Pd.count(zd(e),e)+(4===zd(e).getDay()),t,2)}function zh(e){return e.getDay()}function Uh(e,t){return rh(Sd.count(zd(e)-1,e),t,2)}function qh(e,t){return rh(e.getFullYear()%100,t,2)}function $h(e,t){return rh((e=Mh(e)).getFullYear()%100,t,2)}function Wh(e,t){return rh(e.getFullYear()%1e4,t,4)}function Hh(e,t){var n=e.getDay();return rh((e=n>=4||0===n?Pd(e):Pd.ceil(e)).getFullYear()%1e4,t,4)}function Kh(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rh(t/60|0,"0",2)+rh(t%60,"0",2)}function Vh(e,t){return rh(e.getUTCDate(),t,2)}function Gh(e,t){return rh(e.getUTCHours(),t,2)}function Yh(e,t){return rh(e.getUTCHours()%12||12,t,2)}function Xh(e,t){return rh(1+vd.count(Ud(e),e),t,3)}function Qh(e,t){return rh(e.getUTCMilliseconds(),t,3)}function Jh(e,t){return Qh(e,t)+"000"}function Zh(e,t){return rh(e.getUTCMonth()+1,t,2)}function ef(e,t){return rh(e.getUTCMinutes(),t,2)}function tf(e,t){return rh(e.getUTCSeconds(),t,2)}function nf(e){var t=e.getUTCDay();return 0===t?7:t}function rf(e,t){return rh(Cd.count(Ud(e)-1,e),t,2)}function af(e){var t=e.getUTCDay();return t>=4||0===t?Fd(e):Fd.ceil(e)}function of(e,t){return e=af(e),rh(Fd.count(Ud(e),e)+(4===Ud(e).getUTCDay()),t,2)}function sf(e){return e.getUTCDay()}function lf(e,t){return rh(Td.count(Ud(e)-1,e),t,2)}function cf(e,t){return rh(e.getUTCFullYear()%100,t,2)}function uf(e,t){return rh((e=af(e)).getUTCFullYear()%100,t,2)}function df(e,t){return rh(e.getUTCFullYear()%1e4,t,4)}function hf(e,t){var n=e.getUTCDay();return rh((e=n>=4||0===n?Fd(e):Fd.ceil(e)).getUTCFullYear()%1e4,t,4)}function ff(){return"+0000"}function pf(){return"%"}function mf(e){return+e}function gf(e){return Math.floor(+e/1e3)}function yf(e){return new Date(e)}function xf(e){return e instanceof Date?+e:+new Date(+e)}function bf(e,t,n,r,a,i,o,s,l,c){var u=iu(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),x=c("%b %d"),b=c("%B"),v=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?y:x:n(e)<e?b:v)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,xf)):h().map(yf)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(_u(n,e)):u},u.copy=function(){return ru(u,bf(e,t,n,r,a,i,o,s,l,c))},u}function vf(){return Ws.apply(bf(Hd,Kd,zd,Md,Nd,bd,yd,md,pd,Qd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wf(){return Ws.apply(bf($d,Wd,Ud,Bd,Cd,vd,xd,gd,pd,Jd).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jf(){var e,t,n,r,a,i=0,o=1,s=Zc,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Yc),c.rangeRound=u(Xc),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function Nf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Sf(){var e=ju(jf()(Zc));return e.copy=function(){return Nf(e,Sf())},Hs.apply(e,arguments)}function _f(){var e=Tu(jf()).domain([1,10]);return e.copy=function(){return Nf(e,_f()).base(e.base())},Hs.apply(e,arguments)}function kf(){var e=Iu(jf());return e.copy=function(){return Nf(e,kf()).constant(e.constant())},Hs.apply(e,arguments)}function Pf(){var e=Uu(jf());return e.copy=function(){return Nf(e,Pf()).exponent(e.exponent())},Hs.apply(e,arguments)}function Af(){return Pf.apply(null,arguments).exponent(.5)}function Ef(){var e=[],t=Zc;function n(n){if(null!=n&&!isNaN(n=+n))return t((Zl(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Kl),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>Ju(e,r/t)))},n.copy=function(){return Ef(t).domain(e)},Hs.apply(n,arguments)}function Of(){var e,t,n,r,a,i,o,s=0,l=.5,c=1,u=1,d=Zc,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=Yc);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Yc),f.rangeRound=p(Xc),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function Cf(){var e=ju(Of()(Zc));return e.copy=function(){return Nf(e,Cf())},Hs.apply(e,arguments)}function Tf(){var e=Tu(Of()).domain([.1,1,10]);return e.copy=function(){return Nf(e,Tf()).base(e.base())},Hs.apply(e,arguments)}function Lf(){var e=Iu(Of());return e.copy=function(){return Nf(e,Lf()).constant(e.constant())},Hs.apply(e,arguments)}function Df(){var e=Uu(Of());return e.copy=function(){return Nf(e,Df()).exponent(e.exponent())},Hs.apply(e,arguments)}function Ff(){return Df.apply(null,arguments).exponent(.5)}function If(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Xd=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ih(a),u=oh(a),d=ih(i),h=oh(i),f=ih(o),p=oh(o),m=ih(s),g=oh(s),y=ih(l),x=oh(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ph,e:Ph,f:Th,g:$h,G:Hh,H:Ah,I:Eh,j:Oh,L:Ch,m:Lh,M:Dh,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:mf,s:gf,S:Fh,u:Ih,U:Rh,V:Bh,w:zh,W:Uh,x:null,X:null,y:qh,Y:Wh,Z:Kh,"%":pf},v={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Vh,e:Vh,f:Jh,g:uf,G:hf,H:Gh,I:Yh,j:Xh,L:Qh,m:Zh,M:ef,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:mf,s:gf,S:tf,u:nf,U:rf,V:of,w:sf,W:lf,x:null,X:null,y:cf,Y:df,Z:ff,"%":pf},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:yh,e:yh,f:Nh,g:fh,G:hh,H:bh,I:bh,j:xh,L:jh,m:gh,M:vh,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:mh,Q:_h,s:kh,S:wh,u:lh,U:ch,V:uh,w:sh,W:dh,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:fh,Y:hh,Z:ph,"%":Sh};function j(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=Zd[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(n){var r,a,i=Yd(1900,void 0,1);if(S(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Gd(Yd(i.y,0,1))).getUTCDay(),r=a>4||0===a?Td.ceil(r):Td(r),r=vd.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=Vd(Yd(i.y,0,1))).getDay(),r=a>4||0===a?Sd.ceil(r):Sd(r),r=bd.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Gd(Yd(i.y,0,1)).getUTCDay():Vd(Yd(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Gd(i)):Vd(i)}}function S(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in Zd?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),v.x=j(n,v),v.X=j(r,v),v.c=j(t,v),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Qd=Xd.format,Xd.parse,Jd=Xd.utcFormat,Xd.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Rf(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Mf(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Bf(e,t){return e[t]}function zf(e){const t=[];return t.key=e,t}var Uf=n(539),qf=n.n(Uf),$f=n(6745),Wf=n.n($f),Hf=n(3538),Kf=n.n(Hf),Vf=n(9853),Gf=n.n(Vf),Yf=n(8210),Xf=n.n(Yf);function Qf(e){return function(e){if(Array.isArray(e))return Jf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zf=function(e){return e},ep={"@@functional/placeholder":!0},tp=function(e){return e===ep},np=function(e){return function t(){return 0===arguments.length||1===arguments.length&&tp(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},rp=function e(t,n){return 1===t?n:np((function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter((function(e){return e!==ep})).length;return o>=t?n.apply(void 0,a):e(t-o,np((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.map((function(e){return tp(e)?t.shift():e}));return n.apply(void 0,Qf(i).concat(t))})))}))},ap=function(e){return rp(e.length,e)},ip=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},op=ap((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),sp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Zf;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},lp=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cp=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((function(e,n){return e===t[n]}))?n:(t=a,n=e.apply(void 0,a))}};var up=ap((function(e,t,n){var r=+e;return r+n*(+t-r)})),dp=ap((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),hp=ap((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const fp={rangeStep:function(e,t,n){for(var r=new(Xf())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(Xf())(e).abs().log(10).toNumber())+1},interpolateNumber:up,uninterpolateNumber:dp,uninterpolateTruncation:hp};function pp(e){return function(e){if(Array.isArray(e))return yp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||gp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){if(e){if("string"===typeof e)return yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yp(e,t):void 0}}function yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e){var t=mp(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function bp(e,t,n){if(e.lte(0))return new(Xf())(0);var r=fp.getDigitCount(e.toNumber()),a=new(Xf())(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new(Xf())(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?s:new(Xf())(Math.ceil(s))}function vp(e,t,n){var r=1,a=new(Xf())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(Xf())(10).pow(fp.getDigitCount(e)-1),a=new(Xf())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(Xf())(Math.floor(e)))}else 0===e?a=new(Xf())(Math.floor((t-1)/2)):n||(a=new(Xf())(Math.floor(e)));var o=Math.floor((t-1)/2);return sp(op((function(e){return a.add(new(Xf())(e-o).mul(r)).toNumber()})),ip)(0,t)}function wp(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Xf())(0),tickMin:new(Xf())(0),tickMax:new(Xf())(0)};var i,o=bp(new(Xf())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(Xf())(0):(i=new(Xf())(e).add(t).div(2)).sub(new(Xf())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(Xf())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>n?wp(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:i.sub(new(Xf())(s).mul(o)),tickMax:i.add(new(Xf())(l).mul(o))})}var jp=cp((function(e){var t=mp(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=mp(xp([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(pp(ip(0,a-1).map((function(){return 1/0})))):[].concat(pp(ip(0,a-1).map((function(){return-1/0}))),[c]);return n>r?lp(u):u}if(l===c)return vp(l,a,i);var d=wp(l,c,o,i),h=d.step,f=d.tickMin,p=d.tickMax,m=fp.rangeStep(f,p.add(new(Xf())(.1).mul(h)),h);return n>r?lp(m):m})),Np=(cp((function(e){var t=mp(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=mp(xp([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return vp(l,a,i);var u=bp(new(Xf())(c).sub(l).div(o-1),i,0),d=sp(op((function(e){return new(Xf())(l).add(new(Xf())(e).mul(u)).toNumber()})),ip)(0,o).filter((function(e){return e>=l&&e<=c}));return n>r?lp(d):d})),cp((function(e,t){var n=mp(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=mp(xp([r,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,a];if(s===l)return[s];var c=Math.max(t,2),u=bp(new(Xf())(l).sub(s).div(c-1),i,0),d=[].concat(pp(fp.rangeStep(new(Xf())(s),new(Xf())(l).sub(new(Xf())(.99).mul(u)),u)),[l]);return r>a?lp(d):d}))),Sp=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _p(e){return _p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(e)}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(this,arguments)}function Pp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ep(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ip(r.key),r)}}function Cp(e,t,n){return t=Lp(t),function(e,t){if(t&&("object"===_p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tp()?Reflect.construct(t,n||[],Lp(e).constructor):t.apply(e,n))}function Tp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tp=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}function Dp(e,t){return Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dp(e,t)}function Fp(e,t,n){return(t=Ip(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ip(e){var t=function(e,t){if("object"!=_p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_p(t)?t:t+""}var Rp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cp(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dp(e,t)}(t,e),n=t,a=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,a=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Ep(e,Sp),d=Ar(u,!1);"x"===this.props.direction&&"number"!==l.type&&Wr(!1);var h=o.map((function(e){var o=s(e,i),u=o.x,h=o.y,f=o.value,p=o.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var x=Pp(p,2);m=x[0],g=x[1]}else m=g=p;if("vertical"===n){var b=l.scale,v=h+t,w=v+a,j=v-a,N=b(f-m),S=b(f+g);y.push({x1:S,y1:w,x2:S,y2:j}),y.push({x1:N,y1:v,x2:S,y2:v}),y.push({x1:N,y1:w,x2:N,y2:j})}else if("horizontal"===n){var _=c.scale,k=u+t,P=k-a,A=k+a,E=_(f-m),O=_(f+g);y.push({x1:P,y1:O,x2:A,y2:O}),y.push({x1:k,y1:E,x2:k,y2:O}),y.push({x1:P,y1:E,x2:A,y2:E})}return r.createElement(Jr,kp({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),y.map((function(e){return r.createElement("line",kp({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(Jr,{className:"recharts-errorBars"},h)}}],a&&Op(n.prototype,a),i&&Op(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function Mp(e){return Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(e)}function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach((function(t){Up(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Up(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Mp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fp(Rp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Fp(Rp,"displayName","ErrorBar");var qp=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=Nr(t,eo);if(!i)return null;var o,s=eo.defaultProps,l=void 0!==s?zp(zp({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map((function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?zp(zp({},n),t.props):{},a=r.dataKey,i=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:Qp(t),value:i||a,payload:r}})),zp(zp(zp({},l),eo.getWithHeight(i,r)),{},{payload:o,item:i})};function $p(e){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(e)}function Wp(e){return function(e){if(Array.isArray(e))return Hp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kp(Object(n),!0).forEach((function(t){Gp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$p(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yp(e,t,n){return Zn()(e)||Zn()(t)?n:$n(t)?Rn()(e,t,n):tr()(t)?t(e):n}function Xp(e,t,n,r){var a=Kf()(e,(function(e){return Yp(e,t)}));if("number"===n){var i=a.filter((function(e){return qn(e)||parseFloat(e)}));return i.length?[Wf()(i),qf()(i)]:[1/0,-1/0]}return(r?a.filter((function(e){return!Zn()(e)})):a).map((function(e){return $n(e)||e instanceof Date?e:""}))}var Qp=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Vp(Vp({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:o;break;default:n=o}return n},Jp=function(e,t,n,r,a){var i=jr(t.props.children,Rp).filter((function(e){return function(e,t,n){return!!Zn()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)}));if(i&&i.length){var o=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=Yp(t,n);if(Zn()(r))return e;var a=Array.isArray(r)?[Wf()(r),qf()(r)]:[r,r],i=o.reduce((function(e,n){var r=Yp(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(o,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},Zp=function(e,t,n,r,a){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&Jp(e,t,i,r)||Xp(e,i,n,a)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e}),[])},em=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},tm=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var a,i,o=e.map((function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate}));return a||o.push(t),i||o.push(n),o},nm=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*zn(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!Fn()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}}))},rm=new WeakMap,am=function(e,t){if("function"!==typeof t)return e;rm.has(e)||rm.set(e,new WeakMap);var n=rm.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},im=1e-4,om={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=Fn()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}If(e,t)}},none:If,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}If(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,If(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=Fn()(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},sm=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),a=om[n],i=function(){var e=di([]),t=Mf,n=If,r=Bf;function a(a){var i,o,s=Array.from(e.apply(this,arguments),zf),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,a)]).data=e;for(i=0,o=Rf(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:di(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:di(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Mf:"function"===typeof e?e:di(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?If:e,a):n},a}().keys(r).value((function(e,t){return+Yp(e,t,0)})).order(Mf).offset(a);return i(e)};function lm(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Zn()(a[t.dataKey])){var s=Yn(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=Yp(a,Zn()(o)?t.dataKey:o);return Zn()(l)?null:t.scale(l)}var cm=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=Yp(i,t.dataKey,t.domain[o]);return Zn()(s)?null:t.scale(s)-a/2+r},um=function(e,t,n){return Object.keys(e).reduce((function(r,a){var i=e[a].stackedData.reduce((function(e,r){var a=function(e){return e.reduce((function(e,t){return[Wf()(t.concat([e[0]]).filter(qn)),qf()(t.concat([e[1]]).filter(qn))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},dm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fm=function(e,t,n){if(tr()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(qn(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(dm.test(e[0])){var a=+dm.exec(e[0])[1];r[0]=t[0]-a}else tr()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(qn(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(hm.test(e[1])){var i=+hm.exec(e[1])[1];r[1]=t[1]+i}else tr()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},pm=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=qr()(t,(function(e){return e.coordinate})),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},mm=function(e,t,n){return e&&e.length?Gf()(e,Rn()(n,"type.defaultProps.domain"))?t:e:t},gm=function(e,t){var n=e.type.defaultProps?Vp(Vp({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return Vp(Vp({},Ar(e,!1)),{},{dataKey:r,unit:i,formatter:o,name:a||r,color:Qp(e),value:Yp(t,r),type:s,payload:t,chartType:l,hide:c})};function ym(e){return ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(e)}function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ym(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ym(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ym(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wm=["Webkit","Moz","O","ms"];function jm(e){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(e)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nm.apply(this,arguments)}function Sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sm(Object(n),!0).forEach((function(t){Cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tm(r.key),r)}}function Pm(e,t,n){return t=Em(t),function(e,t){if(t&&("object"===jm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Am()?Reflect.construct(t,n||[],Em(e).constructor):t.apply(e,n))}function Am(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Am=function(){return!!e})()}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Em(e)}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Om(e,t)}function Cm(e,t,n){return(t=Tm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tm(e){var t=function(e,t){if("object"!=jm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jm(t)?t:t+""}var Lm=function(e){return e.changedTouches&&!!e.changedTouches.length},Dm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cm(n=Pm(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),Cm(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),Cm(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:a})})),n.detachDragEndListener()})),Cm(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),Cm(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),Cm(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),Cm(n,"handleSlideDragStart",(function(e){var t=Lm(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}(t,e),n=t,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(a,l),d=t.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=Yp(n[e],a,e);return tr()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+s-l-a,o+s-l-r):h<0&&(h=Math.max(h,o-r,o-a));var f=this.getIndex({startX:r+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Lm(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[r]=o+m;var g=this.getIndex(p),y=g.startIndex,x=g.endIndex;this.setState(Cm(Cm({},r,o+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===r&&(a>i?y%h===0:x%h===0)||a<i&&x===e||"endX"===r&&(a>i?x%h===0:y%h===0)||a>i&&x===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,o=r.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(Cm({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,i=e.height,o=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:o,x:t,y:n,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,c=r.Children.only(s);return c?r.cloneElement(c,{x:t,y:n,width:a,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var a,i,o=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=_m(_m({},Ar(this.props,!1)),{},{x:g,y:l,width:c,height:u}),x=h||"Min value: ".concat(null===(a=f[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=f[m])||void 0===i?void 0:i.name);return r.createElement(Jr,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,a=n.y,i=n.height,o=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,a=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return r.createElement(Jr,{className:"recharts-brush-texts"},r.createElement(Ml,Nm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+i/2},d),this.getTextOfTick(t)),r.createElement(Ml,Nm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:a+i/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,a=e.children,i=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!qn(i)||!qn(o)||!qn(s)||!qn(l)||s<=0||l<=0)return null;var y=En("recharts-brush",n),x=1===r.Children.count(a),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=wm.reduce((function(e,r){return bm(bm({},e),{},vm({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(Jr,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,a=e.width,i=e.height,o=e.stroke,s=Math.floor(n+i/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:a,height:i,fill:o,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+a-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):tr()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return _m({prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=tl().domain(zr()(0,s)).range([a,a+i-o]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&km(n.prototype,a),i&&km(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function Fm(e){return Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(e)}function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach((function(t){Mm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Fm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Cm(Dm,"displayName","Brush"),Cm(Dm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Bm=Math.PI/180,zm=function(e){return 180*e/Math.PI},Um=function(e,t,n,r){return{x:e+Math.cos(-Bm*r)*n,y:t+Math.sin(-Bm*r)*n}},qm=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:zm(l),angleInRadian:l}},$m=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},Wm=function(e,t){var n=e.x,r=e.y,a=qm({x:n,y:r},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),d=u.startAngle,h=u.endAngle,f=o;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?Rm(Rm({},t),{},{radius:i,angle:$m(f,t)}):null};function Hm(e){return Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(e)}var Km=["offset"];function Vm(e){return function(e){if(Array.isArray(e))return Gm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ym(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(n),!0).forEach((function(t){Jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Hm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zm.apply(this,arguments)}var eg=function(e,t,n){var a,i,o=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,x=(f+p)/2,b=function(e,t){return zn(t-e)*Math.min(Math.abs(t-e),360)}(m,g),v=b>=0?1:-1;"insideStart"===o?(a=m+v*l,i=y):"insideEnd"===o?(a=g-v*l,i=!y):"end"===o&&(a=g+v*l,i=y),i=b<=0?i:!i;var w=Um(d,h,x,a),j=Um(d,h,x,a+359*(i?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(i?0:1,",\n    ").concat(j.x,",").concat(j.y),S=Zn()(e.id)?Hn("recharts-radial-line-"):e.id;return r.createElement("text",Zm({},n,{dominantBaseline:"central",className:En("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:S,d:N})),r.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function tg(e){var t,n=e.offset,a=Qm({offset:void 0===n?5:n},Ym(e,Km)),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!i||Zn()(s)&&Zn()(l)&&!(0,r.isValidElement)(c)&&!tr()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,a);if(tr()(c)){if(t=(0,r.createElement)(c,a),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Zn()(e.children)?t:e.children;return tr()(n)?n(r):r}(a);var f=function(e){return"cx"in e&&qn(e.cx)}(i),p=Ar(a,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return eg(a,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=Um(i,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=Um(i,o,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===a)return Qm(Qm({},{x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return Qm(Qm({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var x={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return Qm(Qm({},x),n?{width:Math.max(x.x-n.x,0),height:c}:{})}if("right"===a){var b={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return Qm(Qm({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var v=n?{width:l,height:c}:{};return"insideLeft"===a?Qm({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},v):"insideRight"===a?Qm({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideTop"===a?Qm({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},v):"insideBottom"===a?Qm({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},v):"insideTopLeft"===a?Qm({x:o+m,y:s+d,textAnchor:y,verticalAnchor:f},v):"insideTopRight"===a?Qm({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:f},v):"insideBottomLeft"===a?Qm({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:h},v):"insideBottomRight"===a?Qm({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},v):rr()(a)&&(qn(a.x)||Un(a.x))&&(qn(a.y)||Un(a.y))?Qm({x:o+Kn(a.x,l),y:s+Kn(a.y,c),textAnchor:"end",verticalAnchor:"end"},v):Qm({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(a);return r.createElement(Ml,Zm({className:En("recharts-label",d)},p,m,{breakAll:h}),t)}tg.displayName="Label";var ng=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(qn(p)&&qn(m)){if(qn(u)&&qn(d))return{x:u,y:d,width:p,height:m};if(qn(h)&&qn(f))return{x:h,y:f,width:p,height:m}}return qn(u)&&qn(d)?{x:u,y:d,width:0,height:0}:qn(t)&&qn(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};tg.parseViewBox=ng,tg.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=ng(e),o=jr(a,tg).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||i,key:"label-".concat(n)})}));if(!n)return o;var s=function(e,t){return e?!0===e?r.createElement(tg,{key:"label-implicit",viewBox:t}):$n(e)?r.createElement(tg,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===tg?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(tg,{key:"label-implicit",content:e,viewBox:t}):tr()(e)?r.createElement(tg,{key:"label-implicit",content:e,viewBox:t}):rr()(e)?r.createElement(tg,Zm({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[s].concat(Vm(o))};var rg=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},ag=n(1733),ig=n.n(ag),og=n(7002),sg=n.n(og),lg=function(e){return null};lg.displayName="Cell";var cg=n(4065),ug=n.n(cg);function dg(e){return dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(e)}var hg=["valueAccessor"],fg=["data","dataKey","clockWise","id","textBreakAll"];function pg(e){return function(e){if(Array.isArray(e))return mg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return mg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(this,arguments)}function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach((function(t){bg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vg(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wg=function(e){return Array.isArray(e.value)?ug()(e.value):e.value};function jg(e){var t=e.valueAccessor,n=void 0===t?wg:t,a=vg(e,hg),i=a.data,o=a.dataKey,s=a.clockWise,l=a.id,c=a.textBreakAll,u=vg(a,fg);return i&&i.length?r.createElement(Jr,{className:"recharts-label-list"},i.map((function(e,t){var a=Zn()(o)?n(e,t):Yp(e&&e.payload,o),i=Zn()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(tg,gg({},Ar(e,!0),u,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:tg.parseViewBox(Zn()(s)?e:xg(xg({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}jg.displayName="LabelList",jg.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=jr(e.children,jg).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return a;var i=function(e,t){return e?!0===e?r.createElement(jg,{key:"labelList-implicit",data:t}):r.isValidElement(e)||tr()(e)?r.createElement(jg,{key:"labelList-implicit",data:t,content:e}):rr()(e)?r.createElement(jg,gg({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[i].concat(pg(a))};var Ng=n(2322),Sg=n.n(Ng),_g=n(6361),kg=n.n(_g);function Pg(e){return Pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(this,arguments)}function Eg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Og(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Og(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Og(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(n),!0).forEach((function(t){Lg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Pg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dg=function(e,t,n,r,a){var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},Fg={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ig=function(e){var t=Tg(Tg({},Fg),e),n=(0,r.useRef)(),a=Eg((0,r.useState)(-1),2),i=a[0],o=a[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=En("recharts-trapezoid",h);return g?r.createElement(Ts,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var a=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return r.createElement(Ts,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},r.createElement("path",Ag({},Ar(t,!0),{className:y,d:Dg(l,c,a,o,s),ref:n})))})):r.createElement("g",null,r.createElement("path",Ag({},Ar(t,!0),{className:y,d:Dg(s,l,c,u,d)})))};function Rg(e){return Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mg.apply(this,arguments)}function Bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bg(Object(n),!0).forEach((function(t){Ug(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ug(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qg=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+r,u=Math.asin(s/c)/Bm,d=l?a:a+i*u,h=l?a-i*u:a;return{center:Um(t,n,c,d),circleTangency:Um(t,n,r,d),lineTangency:Um(t,n,c*Math.cos(u*Bm),h),theta:u}},$g=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return zn(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=Um(t,n,a,i),c=Um(t,n,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=Um(t,n,r,i),h=Um(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Wg={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Hg=function(e){var t=zg(zg({},Wg),e),n=t.cx,a=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(o<i||u===d)return null;var f,p=En("recharts-sector",h),m=o-i,g=Kn(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=zn(c-l),d=qg({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=qg({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,x=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-x;if(b<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):$g({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=qg({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),j=w.circleTangency,N=w.lineTangency,S=w.theta,_=qg({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),k=_.circleTangency,P=_.lineTangency,A=_.theta,E=s?Math.abs(l-c):Math.abs(l-c)-S-A;if(E<0&&0===i)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(P.x,",").concat(P.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v}({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):$g({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),r.createElement("path",Mg({},Ar(t,!0),{className:p,d:f,role:"img"}))},Kg=["option","shapeType","propTransformer","activeClassName","isActive"];function Vg(e){return Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(e)}function Gg(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(n),!0).forEach((function(t){Qg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Vg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jg(e,t){return Xg(Xg({},t),e)}function Zg(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement($s,n);case"trapezoid":return r.createElement(Ig,n);case"sector":return r.createElement(Hg,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(Ai,n);break;default:return null}}function ey(e){var t,n=e.option,a=e.shapeType,i=e.propTransformer,o=void 0===i?Jg:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=Gg(e,Kg);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,Xg(Xg({},u),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(tr()(n))t=n(u);else if(Sg()(n)&&!kg()(n)){var d=o(n,u);t=r.createElement(Zg,{shapeType:a,elementProps:d})}else{var h=u;t=r.createElement(Zg,{shapeType:a,elementProps:h})}return c?r.createElement(Jr,{className:l},t):t}function ty(e,t){return null!=t&&"trapezoids"in e.props}function ny(e,t){return null!=t&&"sectors"in e.props}function ry(e,t){return null!=t&&"points"in e.props}function ay(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function iy(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function oy(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function sy(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return ty(e,t)?n="trapezoids":ny(e,t)?n="sectors":ry(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return ty(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ny(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:ry(e,t)?t.payload:{}}(n,t),o=r.filter((function(e,r){var o=Gf()(i,e),s=n.props[a].filter((function(e){var r=function(e,t){var n;return ty(e,t)?n=ay:ny(e,t)?n=iy:ry(e,t)&&(n=oy),n}(n,t);return r(e,t)})),l=n.props[a].indexOf(s[s.length-1]);return o&&r===l}));return r.indexOf(o[o.length-1])}var ly=["x","y"];function cy(e){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(this,arguments)}function dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dy(Object(n),!0).forEach((function(t){fy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function py(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function my(e,t){var n=e.x,r=e.y,a=py(e,ly),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return hy(hy(hy(hy(hy({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function gy(e){return r.createElement(ey,uy({shapeType:"rectangle",propTransformer:my,activeClassName:"recharts-active-bar"},e))}var yy,xy=["value","background"];function by(e){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(e)}function vy(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(this,arguments)}function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jy(Object(n),!0).forEach((function(t){Ey(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oy(r.key),r)}}function _y(e,t,n){return t=Py(t),function(e,t){if(t&&("object"===by(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ky()?Reflect.construct(t,n||[],Py(e).constructor):t.apply(e,n))}function ky(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ky=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Py(e)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ay(e,t)}function Ey(e,t,n){return(t=Oy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oy(e){var t=function(e,t){if("object"!=by(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=by(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==by(t)?t:t+""}var Cy=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ey(e=_y(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),Ey(e,"id",Hn("recharts-bar-")),Ey(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),Ey(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}(t,e),n=t,a=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,a=n.shape,i=n.dataKey,o=n.activeIndex,s=n.activeBar,l=Ar(this.props,!1);return e&&e.map((function(e,n){var c=n===o,u=c?s:a,d=Ny(Ny(Ny({},l),e),{},{isActive:c,option:u,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(Jr,wy({className:"recharts-bar-rectangle"},hr(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),r.createElement(gy,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,a=t.layout,i=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return r.createElement(Ts,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,o=n.map((function(e,t){var n=u&&u[t];if(n){var r=Gn(n.x,e.x),o=Gn(n.y,e.y),s=Gn(n.width,e.width),l=Gn(n.height,e.height);return Ny(Ny({},e),{},{x:r(i),y:o(i),width:s(i),height:l(i)})}if("horizontal"===a){var c=Gn(0,e.height)(i);return Ny(Ny({},e),{},{y:e.y+e.height-c,height:c})}var d=Gn(0,e.width)(i);return Ny(Ny({},e),{},{width:d})}));return r.createElement(Jr,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Gf()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,a=t.dataKey,i=t.activeIndex,o=Ar(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,l=vy(t,xy);if(!s)return null;var c=Ny(Ny(Ny(Ny(Ny({},l),{},{fill:"#eee"},s),o),hr(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(gy,wy({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.data,i=n.xAxis,o=n.yAxis,s=n.layout,l=jr(n.children,Rp);if(!l)return null;var c="vertical"===s?a[0].height/2:a[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Yp(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(Jr,d,l.map((function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,a=e.className,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=En("recharts-bar",a),g=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,x=g||y,b=Zn()(f)?this.id:f;return r.createElement(Jr,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,r.createElement(Jr,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,b),(!d||p)&&jg.renderCallByParent(this.props,n))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&Sy(n.prototype,a),i&&Sy(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function Ty(e){return Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(e)}function Ly(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ry(r.key),r)}}function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(n),!0).forEach((function(t){Iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iy(e,t,n){return(t=Ry(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ry(e){var t=function(e,t){if("object"!=Ty(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ty(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ty(t)?t:t+""}yy=Cy,Ey(Cy,"displayName","Bar"),Ey(Cy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_a.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Ey(Cy,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?Ny(Ny({},m),n.props):n.props,y=g.dataKey,x=g.children,b=g.minPointSize,v="horizontal"===p?o:i,w=c?v.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:v}),N=jr(x,lg),S=d.map((function(e,t){var r,d,h,m,g,x;c?r=function(e,t){if(!t||2!==t.length||!qn(t[0])||!qn(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!qn(e[0])||e[0]<n)&&(a[0]=n),(!qn(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],w):(r=Yp(e,y),Array.isArray(r)||(r=[j,r]));var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a="number"===typeof n;return a?e(n,r):(a||Wr(!1),t)}}(b,yy.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var S,_=[o.scale(r[0]),o.scale(r[1])],k=_[0],P=_[1];d=cm({axis:i,ticks:s,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(S=null!==P&&void 0!==P?P:k)&&void 0!==S?S:void 0,m=f.size;var A=k-P;if(g=Number.isNaN(A)?0:A,x={x:d,y:o.y,width:m,height:o.height},Math.abs(v)>0&&Math.abs(g)<Math.abs(v)){var E=zn(g||v)*(Math.abs(v)-Math.abs(g));h-=E,g+=E}}else{var O=[i.scale(r[0]),i.scale(r[1])],C=O[0],T=O[1];if(d=C,h=cm({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=T-C,g=f.size,x={x:i.x,y:h,width:i.width,height:g},Math.abs(v)>0&&Math.abs(m)<Math.abs(v))m+=zn(m||v)*(Math.abs(v)-Math.abs(m))}return Ny(Ny(Ny({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:x},N&&N[t]&&N[t].props),{},{tooltipPayload:[gm(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})}));return Ny({data:S,layout:p},h)}));var My=function(t,n,r,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Nr(c,Cy);return u.reduce((function(o,s){var c,u,f,p,m,g=n[s],y=g.orientation,x=g.domain,b=g.padding,v=void 0===b?{}:b,w=g.mirror,j=g.reversed,N="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var S=x[1]-x[0],_=1/0,k=g.categoricalDomain.sort(Xn);if(k.forEach((function(e,t){t>0&&(_=Math.min((e||0)-(k[t-1]||0),_))})),Number.isFinite(_)){var P=_/S,A="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=P*A/2),"no-gap"===g.padding){var E=Kn(t.barCategoryGap,P*A),O=P*A/2;c=O-E-(O-E)/A*E}}}u="xAxis"===a?[r.left+(v.left||0)+(c||0),r.left+r.width-(v.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(c||0),r.top+r.height-(v.bottom||0)-(c||0)]:g.range,j&&(u=[u[1],u[0]]);var C=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===s?{scale:Zs(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:Nu(),realScaleType:"linear"}:"category"===i&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:tl(),realScaleType:"point"}:"category"===i?{scale:Zs(),realScaleType:"band"}:{scale:Nu(),realScaleType:"linear"};if(Ln()(a)){var l="scale".concat(qa()(a));return{scale:(e[l]||tl)(),realScaleType:e[l]?l:"point"}}return tr()(a)?{scale:a}:{scale:tl(),realScaleType:"point"}}(g,i,h),T=C.scale,L=C.realScaleType;T.domain(x).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-im,i=Math.max(r[0],r[1])+im,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}}(T);var D=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=jp(l,a,o);return e.domain([Wf()(c),qf()(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:Np(u,a,o)}}return null}(T,Fy(Fy({},g),{},{realScaleType:L}));"xAxis"===a?(m="top"===y&&!w||"bottom"===y&&w,f=r.left,p=d[N]-m*g.height):"yAxis"===a&&(m="left"===y&&!w||"right"===y&&w,f=d[N]-m*g.width,p=r.top);var F=Fy(Fy(Fy({},g),D),{},{realScaleType:L,x:f,y:p,scale:T,width:"xAxis"===a?r.width:g.width,height:"yAxis"===a?r.height:g.height});return F.bandSize=pm(F,D),g.hide||"xAxis"!==a?g.hide||(d[N]+=(m?-1:1)*F.width):d[N]+=(m?-1:1)*F.height,Fy(Fy({},o),{},Iy({},s,F))}),{})},By=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},zy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&Ly(t.prototype,n),r&&Ly(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Iy(zy,"EPS",1e-4);var Uy=function(e){var t=Object.keys(e).reduce((function(t,n){return Fy(Fy({},t),{},Iy({},n,zy.create(e[n])))}),{});return Fy(Fy({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return ig()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:a})}))},isInRange:function(e){return sg()(e,(function(e,n){return t[n].isInRange(e)}))}})};function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(this,arguments)}function $y(e){return $y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(e)}function Wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wy(Object(n),!0).forEach((function(t){Qy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jy(r.key),r)}}function Vy(e,t,n){return t=Yy(t),function(e,t){if(t&&("object"===$y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gy()?Reflect.construct(t,n||[],Yy(e).constructor):t.apply(e,n))}function Gy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gy=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yy(e)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xy(e,t)}function Qy(e,t,n){return(t=Jy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jy(e){var t=function(e,t){if("object"!=$y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$y(t)?t:t+""}var Zy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vy(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}(t,e),n=t,a=[{key:"render",value:function(){var e=this.props,n=e.x,a=e.y,i=e.r,o=e.alwaysShow,s=e.clipPathId,l=$n(n),c=$n(a);if(Qn(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=Uy({x:r.scale,y:a.scale}),o=i.apply({x:t,y:n},{bandAware:!0});return rg(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=Hy(Hy({clipPath:rg(this.props,"hidden")?"url(#".concat(s,")"):void 0},Ar(this.props,!0)),{},{cx:d,cy:h});return r.createElement(Jr,{className:En("recharts-reference-dot",m)},t.renderDot(p,g),tg.renderCallByParent(this.props,{x:d-i,y:h-i,width:2*i,height:2*i}))}}],a&&Ky(n.prototype,a),i&&Ky(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);Qy(Zy,"displayName","ReferenceDot"),Qy(Zy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Qy(Zy,"renderDot",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):tr()(e)?e(t):r.createElement(no,qy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var ex=n(4597),tx=n.n(ex),nx=n(8990),rx=n.n(nx),ax=n(5797),ix=n.n(ax)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var ox=(0,r.createContext)(void 0),sx=(0,r.createContext)(void 0),lx=(0,r.createContext)(void 0),cx=(0,r.createContext)({}),ux=(0,r.createContext)(void 0),dx=(0,r.createContext)(0),hx=(0,r.createContext)(0),fx=function(e){var t=e.state,n=t.xAxisMap,a=t.yAxisMap,i=t.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=ix(i);return r.createElement(ox.Provider,{value:n},r.createElement(sx.Provider,{value:a},r.createElement(cx.Provider,{value:i},r.createElement(lx.Provider,{value:u},r.createElement(ux.Provider,{value:o},r.createElement(dx.Provider,{value:c},r.createElement(hx.Provider,{value:l},s)))))))};var px=function(e){var t=(0,r.useContext)(ox);null==t&&Wr(!1);var n=t[e];return null==n&&Wr(!1),n},mx=function(e){var t=(0,r.useContext)(sx);null==t&&Wr(!1);var n=t[e];return null==n&&Wr(!1),n},gx=function(){return(0,r.useContext)(hx)},yx=function(){return(0,r.useContext)(dx)};function xx(e){return xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(e)}function bx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Px(r.key),r)}}function vx(e,t,n){return t=jx(t),function(e,t){if(t&&("object"===xx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wx()?Reflect.construct(t,n||[],jx(e).constructor):t.apply(e,n))}function wx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wx=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jx(e)}function Nx(e,t){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nx(e,t)}function Sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sx(Object(n),!0).forEach((function(t){kx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kx(e,t,n){return(t=Px(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Px(e){var t=function(e,t){if("object"!=xx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xx(t)?t:t+""}function Ax(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ex(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(this,arguments)}function Cx(e){var t=e.x,n=e.y,a=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,r.useContext)(ux),d=px(i),h=mx(o),f=(0,r.useContext)(lx);if(!u||!f)return null;Qn(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(n){var f=l.y,p=e.y.apply(f,{position:i});if(rg(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(rg(l,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:u+h},{x:y,y:u}];return"top"===o?x.reverse():x}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:i})}));return rg(l,"discard")&&tx()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Uy({x:d.scale,y:h.scale}),$n(t),$n(n),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=Ax(p,2),g=m[0],y=g.x,x=g.y,b=m[1],v=b.x,w=b.y,j=_x(_x({clipPath:rg(e,"hidden")?"url(#".concat(u,")"):void 0},Ar(e,!0)),{},{x1:y,y1:x,x2:v,y2:w});return r.createElement(Jr,{className:En("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):tr()(e)?e(t):r.createElement("line",Ox({},t,{className:"recharts-reference-line-line"}))}(s,j),tg.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return By({x:t,y:n},{x:r,y:a})}({x1:y,y1:x,x2:v,y2:w})))}var Tx=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vx(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nx(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement(Cx,this.props)}}])&&bx(n.prototype,a),i&&bx(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(this,arguments)}function Dx(e){return Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(e)}function Fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fx(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$x(r.key),r)}}function Mx(e,t,n){return t=zx(t),function(e,t){if(t&&("object"===Dx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bx()?Reflect.construct(t,n||[],zx(e).constructor):t.apply(e,n))}function Bx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bx=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zx(e)}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ux(e,t)}function qx(e,t,n){return(t=$x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $x(e){var t=function(e,t){if("object"!=Dx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dx(t)?t:t+""}kx(Tx,"displayName","ReferenceLine"),kx(Tx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Wx=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mx(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,n=e.x1,a=e.x2,i=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;Qn(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=$n(n),d=$n(a),h=$n(i),f=$n(o),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=Uy({x:c.scale,y:u.scale}),h={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!rg(a,"discard")||d.isInRange(h)&&d.isInRange(f)?By(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=rg(this.props,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(Jr,{className:En("recharts-reference-area",s)},t.renderRect(p,Ix(Ix({clipPath:g},Ar(this.props,!0)),m)),tg.renderCallByParent(this.props,m))}}])&&Rx(n.prototype,a),i&&Rx(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function Hx(e){return function(e){if(Array.isArray(e))return Kx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Kx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}qx(Wx,"displayName","ReferenceArea"),qx(Wx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),qx(Wx,"renderRect",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):tr()(e)?e(t):r.createElement($s,Lx({},t,{className:"recharts-reference-area-rect"}))}));var Vx=function(e,t,n,r,a){var i=jr(e,Tx),o=jr(e,Zy),s=[].concat(Hx(i),Hx(o)),l=jr(e,Wx),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&rg(t.props,"extendDomain")&&qn(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&rg(t.props,"extendDomain")&&qn(t.props[h])&&qn(t.props[f])){var r=t.props[h],a=t.props[f];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e}),d)}return a&&a.length&&(d=a.reduce((function(e,t){return qn(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},Gx=n(7283),Yx=new(n.n(Gx)()),Xx="recharts.syncMouseEvents";function Qx(e){return Qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(e)}function Jx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eb(r.key),r)}}function Zx(e,t,n){return(t=eb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eb(e){var t=function(e,t){if("object"!=Qx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qx(t)?t:t+""}var tb=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zx(this,"activeIndex",0),Zx(this,"coordinateList",[]),Zx(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&Jx(e.prototype,t),n&&Jx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function nb(){}function rb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ab(e){this._context=e}function ib(e){this._context=e}function ob(e){this._context=e}ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ib.prototype={areaStart:nb,areaEnd:nb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class sb{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function lb(e){this._context=e}function cb(e){this._context=e}function ub(e){return new cb(e)}function db(e){return e<0?-1:1}function hb(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(db(i)+db(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function fb(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pb(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function mb(e){this._context=e}function gb(e){this._context=new yb(e)}function yb(e){this._context=e}function xb(e){this._context=e}function bb(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function vb(e,t){this._context=e,this._t=t}function wb(e){return e[0]}function jb(e){return e[1]}function Nb(e,t){var n=di(!0),r=null,a=ub,i=null,o=xi(s);function s(s){var l,c,u,d=(s=Rf(s)).length,h=!1;for(null==r&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?wb:di(e),t="function"===typeof t?t:void 0===t?jb:di(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:di(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:di(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:di(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function Sb(e,t,n){var r=null,a=di(!0),i=null,o=ub,s=null,l=xi(c);function c(c){var u,d,h,f,p,m=(c=Rf(c)).length,g=!1,y=new Array(m),x=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],x[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),x[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):x[u]))}if(p)return s=null,p+""||null}function u(){return Nb().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?wb:di(+e),t="function"===typeof t?t:di(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?jb:di(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:di(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:di(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:di(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:di(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:di(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:di(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:di(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function _b(e){return _b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kb.apply(this,arguments)}function Pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ab(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pb(Object(n),!0).forEach((function(t){Eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_b(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}lb.prototype={areaStart:nb,areaEnd:nb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pb(this,this._t0,fb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pb(this,fb(this,n=hb(this,e,t)),n);break;default:pb(this,this._t0,n=hb(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(gb.prototype=Object.create(mb.prototype)).point=function(e,t){mb.prototype.point.call(this,t,e)},yb.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=bb(e),a=bb(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Ob={curveBasisClosed:function(e){return new ib(e)},curveBasisOpen:function(e){return new ob(e)},curveBasis:function(e){return new ab(e)},curveBumpX:function(e){return new sb(e,!0)},curveBumpY:function(e){return new sb(e,!1)},curveLinearClosed:function(e){return new lb(e)},curveLinear:ub,curveMonotoneX:function(e){return new mb(e)},curveMonotoneY:function(e){return new gb(e)},curveNatural:function(e){return new xb(e)},curveStep:function(e){return new vb(e,.5)},curveStepAfter:function(e){return new vb(e,1)},curveStepBefore:function(e){return new vb(e,0)}},Cb=function(e){return e.x===+e.x&&e.y===+e.y},Tb=function(e){return e.x},Lb=function(e){return e.y},Db=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(tr()(e))return e;var n="curve".concat(qa()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Ob[n]||ub:Ob["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?i.filter((function(e){return Cb(e)})):i;if(Array.isArray(o)){var h=c?o.filter((function(e){return Cb(e)})):o,f=d.map((function(e,t){return Ab(Ab({},e),{},{base:h[t]})}));return t="vertical"===s?Sb().y(Lb).x1(Tb).x0((function(e){return e.base.x})):Sb().x(Tb).y1(Lb).y0((function(e){return e.base.y})),t.defined(Cb).curve(u),t(f)}return(t="vertical"===s&&qn(o)?Sb().y(Lb).x1(Tb).x0(o):qn(o)?Sb().x(Tb).y1(Lb).y0(o):Nb().x(Tb).y(Lb)).defined(Cb).curve(u),t(d)},Fb=function(e){var t=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Db(e):a;return r.createElement("path",kb({},Ar(e,!1),dr(e),{className:En("recharts-curve",t),d:o,ref:i}))};function Ib(e){return Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(e)}var Rb=["x","y","top","left","width","height","className"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(this,arguments)}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ib(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ib(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ib(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ub(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var qb=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},$b=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,i=void 0===a?0:a,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach((function(t){zb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:i,top:s,left:c,width:d,height:f},Ub(e,Rb));return qn(n)&&qn(i)&&qn(d)&&qn(f)&&qn(s)&&qn(c)?r.createElement("path",Mb({},Ar(m,!0),{className:En("recharts-cross",p),d:qb(n,i,d,f,s,c)})):null};function Wb(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[Um(t,n,r,a),Um(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function Hb(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Wb(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Um(s,l,c,d),f=Um(s,l,u,d);r=h.x,a=h.y,i=f.x,o=f.y}return[{x:r,y:a},{x:i,y:o}]}function Kb(e){return Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(e)}function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(n),!0).forEach((function(t){Yb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Kb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xb(e){var t,n,a,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!m||!s||!l||"ScatterChart"!==p&&"axis"!==o)return null;var g=Fb;if("ScatterChart"===p)a=l,g=$b;else if("BarChart"===p)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=$s;else if("radial"===f){var y=Wb(l),x=y.cx,b=y.cy,v=y.radius;a={cx:x,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:v,outerRadius:v},g=Hg}else a={points:Hb(f,l,u)},g=Fb;var w=Gb(Gb(Gb(Gb({stroke:"#ccc",pointerEvents:"none"},u),a),Ar(m,!1)),{},{payload:c,payloadIndex:d,className:En("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,w):(0,r.createElement)(g,w)}var Qb=["item"],Jb=["children","className","width","height","style","compact","title","desc"];function Zb(e){return Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev.apply(this,arguments)}function tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||cv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pv(r.key),r)}}function av(e,t,n){return t=ov(t),function(e,t){if(t&&("object"===Zb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iv()?Reflect.construct(t,n||[],ov(e).constructor):t.apply(e,n))}function iv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(iv=function(){return!!e})()}function ov(e){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ov(e)}function sv(e,t){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sv(e,t)}function lv(e){return function(e){if(Array.isArray(e))return uv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e,t){if(e){if("string"===typeof e)return uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uv(e,t):void 0}}function uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dv(Object(n),!0).forEach((function(t){fv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fv(e,t,n){return(t=pv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pv(e){var t=function(e,t){if("object"!=Zb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zb(t)?t:t+""}var mv={xAxis:["bottom","top"],yAxis:["left","right"]},gv={width:"100%",height:"100%"},yv={x:0,y:0};function xv(e){return e}var bv=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(lv(e),lv(n)):e}),[]);return i.length>0?i:e&&e.length&&qn(r)&&qn(a)?e.slice(r,a+1):[]};function vv(e){return"number"===e?[0,"auto"]:void 0}var wv=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,o=bv(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce((function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=Yn(void 0===u?o:u,i.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(lv(a),[gm(s,c)]):a}),[])},jv=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(zn(u-c)!==zn(d-u)){var f=[];if(zn(d-u)===zn(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){i=r[l].index;break}}else{var y=Math.min(c,d),x=Math.max(c,d);if(e>(y+u)/2&&e<=(x+u)/2){i=r[l].index;break}}}else for(var b=0;b<o;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){i=n[b].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=wv(e,t,c,u),h=function(e,t,n,r){var a=t.find((function(e){return e&&e.index===n}));if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=r.radius;return hv(hv(hv({},r),Um(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=r.angle;return hv(hv(hv({},r),Um(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return yv}(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},Nv=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=em(c,a);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?hv(hv({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,x=p.allowDuplicatedCategory,b=p.scale,v=p.ticks,w=p.includeHidden,j=p[i];if(t[j])return t;var N,S,_,k=bv(e.data,{graphicalItems:r.filter((function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j})),dataStartIndex:s,dataEndIndex:l}),P=k.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&qn(r)&&qn(a))return!0}return!1})(p.domain,y,m)&&(N=fm(p.domain,null,y),!h||"number"!==m&&"auto"===b||(_=Xp(k,g,"category")));var A=vv(m);if(!N||0===N.length){var E,O=null!==(E=p.domain)&&void 0!==E?E:A;if(g){if(N=Xp(k,g,m),"category"===m&&h){var C=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);x&&C?(S=N,N=zr()(0,P)):x||(N=mm(O,N,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(lv(e),[t])}),[]))}else if("category"===m)N=x?N.filter((function(e){return""!==e&&!Zn()(e)})):mm(O,N,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Zn()(t)?e:[].concat(lv(e),[t])}),[]);else if("number"===m){var T=function(e,t,n,r,a){var i=t.map((function(t){return Jp(e,t,n,a,r)})).filter((function(e){return!Zn()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(k,r.filter((function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!a)})),g,a,c);T&&(N=T)}!h||"number"!==m&&"auto"===b||(_=Xp(k,g,"category"))}else N=h?zr()(0,P):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===d?[0,1]:um(o[j].stackGroups,s,l):Zp(k,r.filter((function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)})),m,c,!0);if("number"===m)N=Vx(u,N,j,a,v),O&&(N=fm(O,N,y));else if("category"===m&&O){var L=O;N.every((function(e){return L.indexOf(e)>=0}))&&(N=L)}}return hv(hv({},t),{},fv({},j,hv(hv({},p),{},{axisType:a,domain:N,categoricalDomain:_,duplicateDomain:S,originalDomain:null!==(f=p.domain)&&void 0!==f?f:A,isCategorical:h,layout:c})))}),{})},Sv=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=jr(c,a),h={};return d&&d.length?h=Nv(e,{axes:d,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=bv(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=em(c,a),p=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?hv(hv({},t.type.defaultProps),t.props):t.props)[i],y=vv("number");return e[g]?e:(p++,f?m=zr()(0,h):o&&o[g]&&o[g].hasStack?(m=um(o[g].stackGroups,s,l),m=Vx(u,m,g,a)):(m=fm(y,Zp(d,n.filter((function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a})),"number",c),r.defaultProps.allowDataOverflow),m=Vx(u,m,g,a)),hv(hv({},e),{},fv({},g,hv(hv({axisType:a},r.defaultProps),{},{hide:!0,orientation:Rn()(mv,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),h},_v=function(e){var t=e.children,n=e.defaultShowTooltip,r=Nr(t,Dm),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},kv=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Pv=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,o=void 0===i?{}:i,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Nr(c,Dm),h=Nr(c,eo),f=Object.keys(o).reduce((function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:hv(hv({},e),{},fv({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:hv(hv({},e),{},fv({},r,Rn()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=hv(hv({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||Dm.defaultProps.height),h&&t&&(m=function(e,t,n,r){var a=n.children,i=n.width,o=n.margin,s=i-(o.left||0)-(o.right||0),l=qp({children:a,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&qn(e[h]))return Vp(Vp({},e),{},Gp({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&qn(e[f]))return Vp(Vp({},e),{},Gp({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,x=l-m.top-m.bottom;return hv(hv({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(x,0)})},Av=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},Ev=function(e){var t=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=kv(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=xr(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),x=[];return n.forEach((function(n,p){var b=bv(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),v=void 0!==n.type.defaultProps?hv(hv({},n.type.defaultProps),n.props):n.props,w=v.dataKey,j=v.maxBarSize,N=v["".concat(m,"Id")],S=v["".concat(g,"Id")],_=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],a=v["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||Wr(!1);var i=r[a];return hv(hv({},e),{},fv(fv({},n.axisType,i),"".concat(n.axisType,"Ticks"),nm(i)))}),{}),k=_[g],P=_["".concat(g,"Ticks")],A=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Vp(Vp({},e.type.defaultProps),e.props):e.props).stackId;if($n(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[N].stackGroups),E=xr(n.type).indexOf("Bar")>=0,O=pm(k,P),C=[],T=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return xr(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,x=void 0!==y?Vp(Vp({},y),g[0].props):g[0].props,b=x.barSize,v=x[m];i[v]||(i[v]=[]);var w=Zn()(b)?t:b;i[v].push({item:g[0],stackList:g.slice(1),barSize:Zn()(w)?void 0:Kn(w,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:Av(_,g)});if(E){var L,D,F=Zn()(j)?f:j,I=null!==(L=null!==(D=pm(k,P,!0))&&void 0!==D?D:F)&&void 0!==L?L:0;C=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=Kn(t,r,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,h=r/s,f=i.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=i.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(Wp(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=Kn(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=i.reduce((function(e,t,n){var r=[].concat(Wp(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:I!==O?I:O,sizeList:T[S],maxBarSize:F}),I!==O&&(C=C.map((function(e){return hv(hv({},e),{},{position:hv(hv({},e.position),{},{offset:e.position.offset-I/2})})})))}var R,M,B=n&&n.type&&n.type.getComposedData;B&&x.push({props:hv(hv({},B(hv(hv({},_),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:O,barPosition:C,offset:a,stackedData:A,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},fv(fv(fv({key:n.key||"item-".concat(p)},m,_[m]),g,_[g]),"animationId",i)),childIndex:(R=n,M=e.children,wr(M).indexOf(R)),item:n})})),x},f=function(e,r){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Sr({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=kv(d),y=g.numericAxisName,x=g.cateAxisName,b=jr(c,n),v=function(e,t,n,r,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce((function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Vp(Vp({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[n],l=e[s]||{hasStack:!1,stackGroups:{}};if($n(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Hn("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Vp(Vp({},e),{},Gp({},s,l))}),{});return Object.keys(o).reduce((function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,i){var o=s.stackGroups[i];return Vp(Vp({},t),{},Gp({},i,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:sm(e,o.items,a)}))}),{})),Vp(Vp({},t),{},Gp({},i,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(x,"Id"),f,m),w=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return hv(hv({},e),{},fv({},n,Sv(a,hv(hv({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&v,dataStartIndex:i,dataEndIndex:o}))))}),{}),j=Pv(hv(hv({},w),{},{props:a,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach((function(e){w[e]=u(a,w[e],j,e.replace("Map",""),t)}));var N=function(e){var t=Vn(e),n=nm(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qr()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:pm(t,n)}}(w["".concat(x,"Map")]),S=h(a,hv(hv({},w),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:b,stackGroups:v,offset:j}));return hv(hv({formattedGraphicalItems:S,graphicalItems:b,offset:j,stackGroups:v},N),w)},p=function(e){function n(e){var a,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),fv(o=av(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fv(o,"accessibilityManager",new tb),fv(o,"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;o.setState(hv({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:a},hv(hv({},o.state),{},{legendBBox:e}))))}})),fv(o,"handleReceiveSyncEvent",(function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),fv(o,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState((function(){return hv({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),fv(o,"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var n=hv(hv({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;tr()(r)&&r(n,e)}})),fv(o,"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),n=t?hv(hv({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;tr()(r)&&r(n,e)})),fv(o,"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),fv(o,"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),fv(o,"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),fv(o,"handleMouseLeave",(function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;tr()(n)&&n(t,e)})),fv(o,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&yr[t]?yr[t]:null}(e),r=Rn()(o.props,"".concat(n));n&&tr()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),fv(o,"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var n=hv(hv({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;tr()(r)&&r(n,e)}})),fv(o,"handleMouseDown",(function(e){var t=o.props.onMouseDown;tr()(t)&&t(o.getMouseInfo(e),e)})),fv(o,"handleMouseUp",(function(e){var t=o.props.onMouseUp;tr()(t)&&t(o.getMouseInfo(e),e)})),fv(o,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),fv(o,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),fv(o,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),fv(o,"handleDoubleClick",(function(e){var t=o.props.onDoubleClick;tr()(t)&&t(o.getMouseInfo(e),e)})),fv(o,"handleContextMenu",(function(e){var t=o.props.onContextMenu;tr()(t)&&t(o.getMouseInfo(e),e)})),fv(o,"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&Yx.emit(Xx,o.props.syncId,e,o.eventEmitterSymbol)})),fv(o,"applySyncEvent",(function(e){var t=o.props,n=t.layout,r=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(hv({dataStartIndex:i,dataEndIndex:s},f({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=hv(hv({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),x=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,v=wv(o.state,o.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?x:p[u].coordinate}:yv;o.setState(hv(hv({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:v,activeTooltipIndex:u}))}else o.setState(e)})),fv(o,"renderCursor",(function(e){var n,a=o.state,i=a.isTooltipActive,s=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:i,p=o.props.layout,m=e.key||"_recharts-cursor";return r.createElement(Xb,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),fv(o,"renderPolarAxis",(function(e,t,n){var a=Rn()(e,"type.axisType"),i=Rn()(o.state,"".concat(a,"Map")),s=e.type.defaultProps,l=void 0!==s?hv(hv({},s),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return(0,r.cloneElement)(e,hv(hv({},c),{},{className:En(a,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:nm(c,!0)}))})),fv(o,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,a=t.polarAngles,i=t.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Vn(l),d=Vn(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(a)?a:nm(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:nm(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),fv(o,"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,a=t.width,i=t.height,s=o.props.margin||{},l=a-(s.left||0)-(s.right||0),u=qp({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=nv(u,Qb);return(0,r.cloneElement)(d,hv(hv({},h),{},{chartWidth:a,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),fv(o,"renderTooltip",(function(){var e,t=o.props,n=t.children,a=t.accessibilityLayer,i=Nr(n,za);if(!i)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(i,{viewBox:hv(hv({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})})),fv(o,"renderBrush",(function(e){var t=o.props,n=t.margin,a=t.data,i=o.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:am(o.handleBrushChange,e.props.onChange),data:a,x:qn(e.props.x)?e.props.x:s.left,y:qn(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:qn(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),fv(o,"renderReferenceElement",(function(e,t,n){if(!e)return null;var a=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})})),fv(o,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,a=e.basePoint,i=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?hv(hv({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=hv(hv({index:i,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:Qp(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Ar(u,!1)),dr(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(n.renderActiveDot(u,hv(hv({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s})),fv(o,"renderGraphicChild",(function(e,t,n){var a=o.filterFormatItem(e,t,n);if(!a)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=Nr(o.props.children,za),f=a.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==a.item.type.defaultProps?hv(hv({},a.item.type.defaultProps),a.item.props):a.item.props,x=y.activeDot,b=y.hide,v=y.activeBar,w=y.activeShape,j=Boolean(!b&&l&&h&&(x||v||w)),N={};"axis"!==i&&h&&"click"===h.props.trigger?N={onClick:am(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:am(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:am(o.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,r.cloneElement)(e,hv(hv({},a.props),N));if(j){if(!(u>=0)){var _,k=(null!==(_=o.getItemByXY(o.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:S}).graphicalItem,P=k.item,A=void 0===P?e:P,E=k.childIndex,O=hv(hv(hv({},a.props),N),{},{activeIndex:E});return[(0,r.cloneElement)(A,O),null,null]}var C,T;if(c.dataKey&&!c.allowDuplicatedCategory){var L="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());C=Yn(p,L,d),T=m&&g&&Yn(g,L,d)}else C=null===p||void 0===p?void 0:p[u],T=m&&g&&g[u];if(w||v){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,hv(hv(hv({},a.props),N),{},{activeIndex:D})),null,null]}if(!Zn()(C))return[S].concat(lv(o.renderActivePoints({item:a,activePoint:C,basePoint:T,childIndex:u,isRange:m})))}return m?[S,null,null]:[S,null]})),fv(o,"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,hv(hv({key:"recharts-customized-".concat(n)},o.props),o.state))})),fv(o,"renderMap",{CartesianGrid:{handler:xv,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:xv},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:xv},YAxis:{handler:xv},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Hn("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Cn()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sv(e,t)}(n,e),a=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=Nr(t,za);if(i){var o=i.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=wv(this.state,n,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=hv(hv({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Er([Nr(e.children,za)],[Nr(this.props.children,za)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Nr(this.props.children,za);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=jv(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=Vn(c).scale,p=Vn(u).scale,m=f&&f.invert?f.invert(i.chartX):null,g=p&&p.invert?p.invert(i.chartY):null;return hv(hv({},i),{},{xValue:m,yValue:g},h)}return h?hv(hv({},i),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Vn(l);return Wm({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Nr(e,za),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),hv(hv({},dr(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Yx.on(Xx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yx.removeListener(Xx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===xr(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,a=t.top,i=t.height,o=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:a,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=tv(t,2),r=n[0],a=n[1];return hv(hv({},e),{},fv({},r,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=tv(t,2),r=n[0],a=n[1];return hv(hv({},e),{},fv({},r,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var o=n[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?hv(hv({},l.type.defaultProps),l.props):l.props,u=xr(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return Us(e,t)}));if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return Wm(e,t)}));if(h)return{graphicalItem:o,payload:h}}else if(ty(o,r)||ny(o,r)||ry(o,r)){var f=sy({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:hv(hv({},o),{},{childIndex:p}),payload:ry(o,r)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Sr(this))return null;var t,n,a=this.props,i=a.children,o=a.className,s=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=nv(a,Jb),p=Ar(f,!1);if(u)return r.createElement(fx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(Gr,ev({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),Cr(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(fx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",ev({className:En("recharts-wrapper",o),style:hv({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),r.createElement(Gr,ev({},p,{width:s,height:l,title:d,desc:h,style:gv}),this.renderClipPath(),Cr(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&rv(a.prototype,o),l&&rv(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(r.Component);fv(p,"displayName",t),fv(p,"defaultProps",hv({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),fv(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=_v(e);return hv(hv(hv({},h),{},{updateId:0},f(hv(hv({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!ir(c,t.prevMargin)){var p=_v(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=hv(hv({},jv(t,r,s)),{},{updateId:t.updateId+1}),y=hv(hv(hv({},p),m),g);return hv(hv(hv({},y),f(hv({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Er(a,t.prevChildren)){var x,b,v,w,j=Nr(a,Dm),N=j&&null!==(x=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==x?x:u,S=j&&null!==(v=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==v?v:d,_=N!==u||S!==d,k=!Zn()(r)&&!_?t.updateId:t.updateId+1;return hv(hv({updateId:k},f(hv(hv({props:e},t),{},{updateId:k,dataStartIndex:N,dataEndIndex:S}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:S})}return null})),fv(p,"renderActiveDot",(function(e,t,n){var a;return a=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):tr()(e)?e(t):r.createElement(no,t),r.createElement(Jr,{className:"recharts-active-dot",key:n},a)}));var m=(0,r.forwardRef)((function(e,t){return r.createElement(p,ev({},e,{ref:t}))}));return m.displayName=p.displayName,m},Ov=["type","layout","connectNulls","ref"],Cv=["key"];function Tv(e){return Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(e)}function Lv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(this,arguments)}function Fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fv(Object(n),!0).forEach((function(t){Wv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rv(e){return function(e){if(Array.isArray(e))return Mv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hv(r.key),r)}}function zv(e,t,n){return t=qv(t),function(e,t){if(t&&("object"===Tv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Uv()?Reflect.construct(t,n||[],qv(e).constructor):t.apply(e,n))}function Uv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Uv=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qv(e)}function $v(e,t){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$v(e,t)}function Wv(e,t,n){return(t=Hv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hv(e){var t=function(e,t){if("object"!=Tv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tv(t)?t:t+""}var Kv=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Wv(e=zv(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Wv(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),Wv(e,"getStrokeDasharray",(function(n,r,a){var i=a.reduce((function(e,t){return e+t}));if(!i)return e.generateSimpleStrokeDasharray(r,n);for(var o=Math.floor(n/i),s=n%i,l=r-n,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(Rv(a.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(Rv(t.repeat(a,o)),Rv(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),Wv(e,"id",Hn("recharts-line-")),Wv(e,"pathRef",(function(t){e.mainCurve=t})),Wv(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Wv(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$v(e,t)}(t,e),n=t,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,i=n.xAxis,o=n.yAxis,s=n.layout,l=jr(n.children,Rp);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Yp(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(Jr,u,l.map((function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,l=i.dataKey,c=Ar(this.props,!1),u=Ar(o,!0),d=s.map((function(e,n){var r=Iv(Iv(Iv({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(o,r)})),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return r.createElement(Jr,Dv({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,a){var i=this.props,o=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,Lv(i,Ov)),u=Iv(Iv(Iv({},Ar(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},a),{},{type:o,layout:s,connectNulls:l});return r.createElement(Fb,Dv({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,a=this.props,i=a.points,o=a.strokeDasharray,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,p=a.height,m=this.state,g=m.prevPoints,y=m.totalLength;return r.createElement(Ts,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var a=r.t;if(g){var s=g.length/i.length,l=i.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],i=Gn(r.x,e.x),o=Gn(r.y,e.y);return Iv(Iv({},e),{},{x:i(a),y:o(a)})}if(h){var l=Gn(2*f,e.x),c=Gn(p/2,e.y);return Iv(Iv({},e),{},{x:l(a),y:c(a)})}return Iv(Iv({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var c,u=Gn(0,y)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&r&&r.length&&(!o&&s>0||!Gf()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,a=t.dot,i=t.points,o=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=En("recharts-line",o),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,v=x||b,w=Zn()(p)?this.id:p,j=null!==(e=Ar(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,S=void 0===N?3:N,_=j.strokeWidth,k=void 0===_?2:_,P=(Pr(a)?a:{}).clipDot,A=void 0===P||P,E=2*S+k;return r.createElement(Jr,{className:y},x||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(w)},r.createElement("rect",{x:x?u:u-d/2,y:b?c:c-h/2,width:x?d:2*d,height:b?h:2*h})),!A&&r.createElement("clipPath",{id:"clipPath-dots-".concat(w)},r.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:h+E}))):null,!g&&this.renderCurve(v,w),this.renderErrorBar(v,w),(g||a)&&this.renderDots(v,A,w),(!f||m)&&jg.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(Rv(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(Rv(r),Rv(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(tr()(e))n=e(t);else{var a=t.key,i=Lv(t,Cv),o=En("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(no,Dv({key:a},i,{className:o}))}return n}}],a&&Bv(n.prototype,a),i&&Bv(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function Vv(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function Gv(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function Yv(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function Xv(e){return Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(e)}function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(n),!0).forEach((function(t){Zv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Xv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ew(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(qn(l)||_a.isSsr)return function(e,t){return Vv(e,t+1)}(a,"number"===typeof l&&qn(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?cl(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=tr()(c)?c(e.value,r):e.value;return"width"===f?Gv(cl(a,{fontSize:t,letterSpacing:n}),p,d):cl(a,{fontSize:t,letterSpacing:n})[f]},g=a.length>=2?zn(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(i,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:Vv(r,u)};var i,o=c,h=function(){return void 0===i&&(i=n(t,o)),i},f=t.coordinate,p=0===c||Yv(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(g,y,m,a,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=Jv(Jv({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),Yv(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=Jv(Jv({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var r,i=o[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=Jv(Jv({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=Jv(Jv({},i),{},{tickCoord:i.coordinate});Yv(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=Jv(Jv({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(g,y,m,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var r,c=i[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=Jv(Jv({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=Jv(Jv({},c),{},{tickCoord:c.coordinate});Yv(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=Jv(Jv({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(g,y,m,a,o),h.filter((function(e){return e.isShow})))}Wv(Kv,"displayName","Line"),Wv(Kv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_a.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Wv(Kv,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map((function(e,t){var l=Yp(e,o);return"horizontal"===u?{x:lm({axis:n,ticks:a,bandSize:s,entry:e,index:t}),y:Zn()(l)?null:r.scale(l),value:l,payload:e}:{x:Zn()(l)?null:n.scale(l),y:lm({axis:r,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return Iv({points:d,layout:u},c)}));var tw=["viewBox"],nw=["viewBox"],rw=["ticks"];function aw(e){return aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(e)}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iw.apply(this,arguments)}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach((function(t){pw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lw(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mw(r.key),r)}}function uw(e,t,n){return t=hw(t),function(e,t){if(t&&("object"===aw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dw()?Reflect.construct(t,n||[],hw(e).constructor):t.apply(e,n))}function dw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dw=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hw(e)}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fw(e,t)}function pw(e,t,n){return(t=mw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mw(e){var t=function(e,t){if("object"!=aw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aw(t)?t:t+""}var gw=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=uw(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fw(e,t)}(t,e),n=t,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=lw(e,tw),a=this.props,i=a.viewBox,o=lw(a,nw);return!ir(n,i)||!ir(r,o)||!ir(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,x=qn(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(r=(a=c+ +!p*d)-g*y)-g*m,i=x;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!p*u)-g*y)-g*m,o=x;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +p*u)+g*y)+g*m,o=x;break;default:t=n=e.coordinate,o=(r=(a=c+ +p*d)+g*y)+g*m,i=x}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,i=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=sw(sw(sw({},Ar(this.props,!1)),Ar(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!s||"bottom"===o&&s);c=sw(sw({},c),{},{x1:t,y1:n+u*i,x2:t+a,y2:n+u*i})}else{var d=+("left"===o&&!s||"right"===o&&s);c=sw(sw({},c),{},{x1:t+d*a,y1:n,x2:t+d*a,y2:n+i})}return r.createElement("line",iw({},c,{className:En("recharts-cartesian-axis-line",Rn()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,a){var i=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=ew(sw(sw({},this.props),{},{ticks:e}),n,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Ar(this.props,!1),g=Ar(c,!1),y=sw(sw({},m),{},{fill:"none"},Ar(s,!1)),x=h.map((function(e,n){var a=i.getTickLineCoord(e),o=a.line,x=a.tick,b=sw(sw(sw(sw({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),x),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return r.createElement(Jr,iw({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},hr(i.props,e,n)),s&&r.createElement("line",iw({},y,o,{className:En("recharts-cartesian-axis-tick-line",Rn()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(tr()(u)?u(e.value,n):e.value).concat(d||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,a=t.width,i=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=lw(l,rw),d=c;return tr()(o)&&(d=c&&c.length>0?o(this.props):o(u)),a<=0||i<=0||!d||!d.length?null:r.createElement(Jr,{className:En("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),tg.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):tr()(e)?e(t):r.createElement(Ml,iw({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],a&&cw(n.prototype,a),i&&cw(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function yw(e){return yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(e)}function xw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sw(r.key),r)}}function bw(e,t,n){return t=ww(t),function(e,t){if(t&&("object"===yw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vw()?Reflect.construct(t,n||[],ww(e).constructor):t.apply(e,n))}function vw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vw=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ww(e)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jw(e,t)}function Nw(e,t,n){return(t=Sw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sw(e){var t=function(e,t){if("object"!=yw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yw(t)?t:t+""}function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_w.apply(this,arguments)}function kw(e){var t=e.xAxisId,n=gx(),a=yx(),i=px(t);return null==i?null:r.createElement(gw,_w({},i,{className:En("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return nm(e,!0)}}))}pw(gw,"displayName","CartesianAxis"),pw(gw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bw(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement(kw,this.props)}}])&&xw(n.prototype,a),i&&xw(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function Aw(e){return Aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(e)}function Ew(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fw(r.key),r)}}function Ow(e,t,n){return t=Tw(t),function(e,t){if(t&&("object"===Aw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cw()?Reflect.construct(t,n||[],Tw(e).constructor):t.apply(e,n))}function Cw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cw=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tw(e)}function Lw(e,t){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lw(e,t)}function Dw(e,t,n){return(t=Fw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fw(e){var t=function(e,t){if("object"!=Aw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Aw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aw(t)?t:t+""}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iw.apply(this,arguments)}Nw(Pw,"displayName","XAxis"),Nw(Pw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var Rw=function(e){var t=e.yAxisId,n=gx(),a=yx(),i=mx(t);return null==i?null:r.createElement(gw,Iw({},i,{className:En("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return nm(e,!0)}}))},Mw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ow(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement(Rw,this.props)}}])&&Ew(n.prototype,a),i&&Ew(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);Dw(Mw,"displayName","YAxis"),Dw(Mw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var Bw=Ev({chartName:"LineChart",GraphicalChild:Kv,axisComponents:[{axisType:"xAxis",AxisComp:Pw},{axisType:"yAxis",AxisComp:Mw}],formatAxisMap:My}),zw=["x1","y1","x2","y2","key"],Uw=["offset"];function qw(e){return qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(e)}function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$w(Object(n),!0).forEach((function(t){Hw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=qw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(this,arguments)}function Vw(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Gw=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.ry;return r.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Yw(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(tr()(e))n=e(t);else{var a=t.x1,i=t.y1,o=t.x2,s=t.y2,l=t.key,c=Vw(t,zw),u=Ar(c,!1),d=(u.offset,Vw(u,Uw));n=r.createElement("line",Kw({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}function Xw(e){var t=e.x,n=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map((function(r,a){var o=Ww(Ww({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(a),index:a});return Yw(i,o)}));return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Qw(e){var t=e.y,n=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map((function(r,a){var o=Ww(Ww({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(a),index:a});return Yw(i,o)}));return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Jw(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Zw(e){var t=e.vertical,n=void 0===t||t,a=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!a||!a.length)return null;var d=u.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var n=!d[t+1]?o+l-e:d[t+1]-e;if(n<=0)return null;var u=t%a.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ej=function(e,t){var n=e.xAxis,r=e.width,a=e.height,i=e.offset;return tm(ew(Ww(Ww(Ww({},gw.defaultProps),n),{},{ticks:nm(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},tj=function(e,t){var n=e.yAxis,r=e.width,a=e.height,i=e.offset;return tm(ew(Ww(Ww(Ww({},gw.defaultProps),n),{},{ticks:nm(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},nj={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rj(e){var t,n,a,i,o,s,l=gx(),c=yx(),u=(0,r.useContext)(cx),d=Ww(Ww({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:nj.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:nj.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:nj.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:nj.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:nj.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:nj.verticalFill,x:qn(e.x)?e.x:u.left,y:qn(e.y)?e.y:u.top,width:qn(e.width)?e.width:u.width,height:qn(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,b=function(){var e=(0,r.useContext)(ox);return Vn(e)}(),v=function(){var e=(0,r.useContext)(sx);return rx()(e,(function(e){return sg()(e.domain,Number.isFinite)}))||Vn(e)}();if(!qn(p)||p<=0||!qn(m)||m<=0||!qn(h)||h!==+h||!qn(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||ej,j=d.horizontalCoordinatesGenerator||tj,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&tr()(j)){var _=y&&y.length,k=j({yAxis:v?Ww(Ww({},v),{},{ticks:_?y:v.ticks}):void 0,width:l,height:c,offset:u},!!_||g);Qn(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qw(k),"]")),Array.isArray(k)&&(N=k)}if((!S||!S.length)&&tr()(w)){var P=x&&x.length,A=w({xAxis:b?Ww(Ww({},b),{},{ticks:P?x:b.ticks}):void 0,width:l,height:c,offset:u},!!P||g);Qn(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qw(A),"]")),Array.isArray(A)&&(S=A)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(Gw,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),r.createElement(Xw,Kw({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:v})),r.createElement(Qw,Kw({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:v})),r.createElement(Jw,Kw({},d,{horizontalPoints:N})),r.createElement(Zw,Kw({},d,{verticalPoints:S})))}rj.displayName="CartesianGrid";var aj,ij=Ev({chartName:"BarChart",GraphicalChild:Cy,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pw},{axisType:"yAxis",AxisComp:Mw}],formatAxisMap:My}),oj=["layout","type","stroke","connectNulls","isRange","ref"],sj=["key"];function lj(e){return lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lj(e)}function cj(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uj.apply(this,arguments)}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dj(Object(n),!0).forEach((function(t){xj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bj(r.key),r)}}function pj(e,t,n){return t=gj(t),function(e,t){if(t&&("object"===lj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mj()?Reflect.construct(t,n||[],gj(e).constructor):t.apply(e,n))}function mj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mj=function(){return!!e})()}function gj(e){return gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gj(e)}function yj(e,t){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yj(e,t)}function xj(e,t,n){return(t=bj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bj(e){var t=function(e,t){if("object"!=lj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lj(t)?t:t+""}var vj=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return xj(e=pj(this,t,[].concat(r)),"state",{isAnimationFinished:!0}),xj(e,"id",Hn("recharts-area-")),xj(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),tr()(t)&&t()})),xj(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),tr()(t)&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yj(e,t)}(t,e),n=t,a=[{key:"renderDots",value:function(e,n,a){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=Ar(this.props,!1),h=Ar(l,!0),f=c.map((function(e,n){var r=hj(hj(hj({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return t.renderDotItem(l,r)})),p={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return r.createElement(Jr,uj({className:"recharts-area-dots"},p),f)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,a=t.points,i=t.strokeWidth,o=a[0].x,s=a[a.length-1].x,l=e*Math.abs(o-s),c=qf()(a.map((function(e){return e.y||0})));return qn(n)&&"number"===typeof n?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(qf()(n.map((function(e){return e.y||0}))),c)),qn(c)?r.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,a=t.points,i=t.strokeWidth,o=a[0].y,s=a[a.length-1].y,l=e*Math.abs(o-s),c=qf()(a.map((function(e){return e.x||0})));return qn(n)&&"number"===typeof n?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(qf()(n.map((function(e){return e.x||0}))),c)),qn(c)?r.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,a){var i=this.props,o=i.layout,s=i.type,l=i.stroke,c=i.connectNulls,u=i.isRange,d=(i.ref,cj(i,oj));return r.createElement(Jr,{clipPath:n?"url(#clipPath-".concat(a,")"):null},r.createElement(Fb,uj({},Ar(d,!0),{points:e,connectNulls:c,type:s,baseLine:t,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&r.createElement(Fb,uj({},Ar(this.props,!1),{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&r.createElement(Fb,uj({},Ar(this.props,!1),{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,a=this.props,i=a.points,o=a.baseLine,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,f=h.prevPoints,p=h.prevBaseLine;return r.createElement(Ts,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(a){var s=a.t;if(f){var l,c=f.length/i.length,u=i.map((function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],a=Gn(r.x,e.x),i=Gn(r.y,e.y);return hj(hj({},e),{},{x:a(s),y:i(s)})}return e}));return l=qn(o)&&"number"===typeof o?Gn(p,o)(s):Zn()(o)||Fn()(o)?Gn(p,0)(s):o.map((function(e,t){var n=Math.floor(t*c);if(p[n]){var r=p[n],a=Gn(r.x,e.x),i=Gn(r.y,e.y);return hj(hj({},e),{},{x:a(s),y:i(s)})}return e})),n.renderAreaStatically(u,l,e,t)}return r.createElement(Jr,null,r.createElement("defs",null,r.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),r.createElement(Jr,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(i,o,e,t)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&r&&r.length&&(!s&&c>0||!Gf()(s,r)||!Gf()(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,a=t.dot,i=t.points,o=t.className,s=t.top,l=t.left,c=t.xAxis,u=t.yAxis,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=En("recharts-area",o),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,v=x||b,w=Zn()(p)?this.id:p,j=null!==(e=Ar(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,S=void 0===N?3:N,_=j.strokeWidth,k=void 0===_?2:_,P=(Pr(a)?a:{}).clipDot,A=void 0===P||P,E=2*S+k;return r.createElement(Jr,{className:y},x||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(w)},r.createElement("rect",{x:x?l:l-d/2,y:b?s:s-h/2,width:x?d:2*d,height:b?h:2*h})),!A&&r.createElement("clipPath",{id:"clipPath-dots-".concat(w)},r.createElement("rect",{x:l-E/2,y:s-E/2,width:d+E,height:h+E}))):null,g?null:this.renderArea(v,w),(a||g)&&this.renderDots(v,A,w),(!f||m)&&jg.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],a&&fj(n.prototype,a),i&&fj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);aj=vj,xj(vj,"displayName","Area"),xj(vj,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_a.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),xj(vj,"getBaseValue",(function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!==o&&void 0!==o?o:i;if(qn(s)&&"number"===typeof s)return s;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]})),xj(vj,"getComposedData",(function(e){var t,n=e.props,r=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,p=n.layout,m=u&&u.length,g=aj.getBaseValue(n,r,a,i),y="horizontal"===p,x=!1,b=h.map((function(e,t){var n;m?n=u[d+t]:(n=Yp(e,c),Array.isArray(n)?x=!0:n=[g,n]);var r=null==n[1]||m&&null==Yp(e,c);return y?{x:lm({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:lm({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}}));return t=m||x?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}})):y?i.scale(g):a.scale(g),hj({points:b,baseLine:t,layout:p,isRange:x},f)})),xj(vj,"renderDotItem",(function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(tr()(e))n=e(t);else{var a=En("recharts-area-dot","boolean"!==typeof e?e.className:""),i=t.key,o=cj(t,sj);n=r.createElement(no,uj({},o,{key:i,className:a}))}return n}));var wj=Ev({chartName:"AreaChart",GraphicalChild:vj,axisComponents:[{axisType:"xAxis",AxisComp:Pw},{axisType:"yAxis",AxisComp:Mw}],formatAxisMap:My});const jj=qe("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Nj=qe("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Sj=e=>{let{showControls:t=!0}=e;const[n,a]=(0,r.useState)("1y"),[i,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)((new Date).getFullYear().toString()),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)("line");(0,r.useEffect)((()=>{(async()=>{try{h(!0);const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/dashboard/monthly-expenses`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();if(!t.success)throw new Error("Failed to fetch expense data");{const e=y(t.data);u(e),p(null)}}catch(e){console.error("Error fetching chart data:",e),p("Failed to load chart data. Please try again later.")}finally{h(!1)}})()}),[]);const y=e=>{const t=(new Date).getFullYear().toString(),n={};n[t]=Array(12).fill(0).map(((e,n)=>({month:new Date(0,n).toLocaleString("default",{month:"short"}),year:t,amount:0,count:0,trend:"stable"}))),e.forEach((e=>{const r=new Date(e.month+"-01").getMonth();r>=0&&r<12&&(n[t][r].amount=parseFloat(e.amount)||0,n[t][r].count=1)}));const r=n[t];for(let a=1;a<r.length;a++)r[a].amount>r[a-1].amount?r[a].trend="up":r[a].amount<r[a-1].amount?r[a].trend="down":r[a].trend="stable";return n},x=(()=>{if(!c||!c[s])return[];const e=c[s],t=(new Date).getMonth();switch(n){case"3m":const n=(t-2+12)%12;return e.slice(n,n+3);case"6m":const r=(t-5+12)%12;return e.slice(r,r+6);case"1y":return e;default:return Object.values(c).flat()}})(),b=c?Object.keys(c).sort():[];if(d)return(0,Te.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-xs border border-gray-100 w-full transition-all hover:shadow-sm group relative",children:(0,Te.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Te.jsx)("div",{className:"text-gray-500",children:"Loading chart data..."})})});if(f)return(0,Te.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-xs border border-gray-100 w-full transition-all hover:shadow-sm group relative",children:(0,Te.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Te.jsxs)("div",{className:"text-red-500 text-center",children:[(0,Te.jsx)("div",{children:f}),(0,Te.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Retry"})]})})});if(!x||0===x.length)return(0,Te.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-xs border border-gray-100 w-full transition-all hover:shadow-sm group relative",children:(0,Te.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Te.jsx)("div",{className:"text-gray-500",children:"No expense data available"})})});const v=x[x.length-1],w=x.length>1?x[x.length-2]:null,j=w&&w.amount>0?((v.amount-w.amount)/w.amount*100).toFixed(1):0,N=!w||v.amount>=w.amount;return(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-xs border border-gray-100 w-full transition-all hover:shadow-sm group relative",children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Monthly Expenses"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Spending Overview"})]}),t&&(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{type:"line",icon:(0,Te.jsx)(Sn,{className:"w-3 h-3"}),label:"Line"},{type:"bar",icon:(0,Te.jsx)(jn,{className:"w-3 h-3"}),label:"Bar"},{type:"area",icon:(0,Te.jsx)(yn,{className:"w-3 h-3"}),label:"Area"}].map((e=>(0,Te.jsxs)("button",{onClick:()=>g(e.type),className:"flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors "+(m===e.type?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),title:`${e.label} Chart`,children:[e.icon,(0,Te.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.type)))}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsxs)("button",{onClick:()=>o(!i),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[(0,Te.jsx)(vt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{className:"text-xs hidden sm:inline-block capitalize",children:n}),(0,Te.jsx)(ot,{className:"w-3 h-3 transition-transform "+(i?"rotate-180":"")})]}),i&&(0,Te.jsx)("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-lg shadow-lg border border-gray-100 z-10 overflow-hidden",children:["3m","6m","1y","all"].map((e=>(0,Te.jsx)("button",{onClick:()=>(e=>{a(e),o(!1)})(e),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 transition-colors "+(n===e?"bg-blue-50 text-blue-600":"text-gray-700"),children:"3m"===e?"3 Months":"6m"===e?"6 Months":"1y"===e?"1 Year":"All Time"},e)))})]}),(0,Te.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:(0,Te.jsx)(jj,{className:"w-4 h-4"})}),(0,Te.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:(0,Te.jsx)(kn,{className:"w-4 h-4"})})]})]}),(0,Te.jsx)("div",{className:"h-64 mb-6 relative",children:(0,Te.jsxs)(Mr,{width:"100%",height:"100%",children:["line"===m&&(0,Te.jsxs)(Bw,{data:x,margin:{top:10,right:10,left:10,bottom:10},children:[(0,Te.jsx)("defs",{children:(0,Te.jsxs)("linearGradient",{id:"colorAmount",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Te.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.2}),(0,Te.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),(0,Te.jsx)(rj,{strokeDasharray:"3 3",vertical:!1,stroke:"#F3F4F6"}),(0,Te.jsx)(Pw,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"},padding:{left:10,right:10}}),(0,Te.jsx)(Mw,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"},tickFormatter:e=>`Rs${(e/1e3).toFixed(0)}k`}),(0,Te.jsx)(za,{contentStyle:{background:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",padding:"8px 12px"},formatter:e=>[`Rs${e.toLocaleString()}`,"Amount"],labelFormatter:e=>`Month: ${e}`}),(0,Te.jsx)(Kv,{type:"monotone",dataKey:"amount",stroke:"#3B82F6",strokeWidth:2,dot:{r:4,fill:"#3B82F6"},activeDot:{r:6,stroke:"#3B82F6",strokeWidth:2,fill:"#FFFFFF"}})]}),"bar"===m&&(0,Te.jsxs)(ij,{data:x,margin:{top:10,right:10,left:10,bottom:10},children:[(0,Te.jsx)(rj,{strokeDasharray:"3 3",vertical:!1,stroke:"#F3F4F6"}),(0,Te.jsx)(Pw,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"},padding:{left:10,right:10}}),(0,Te.jsx)(Mw,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"},tickFormatter:e=>`Rs${(e/1e3).toFixed(0)}k`}),(0,Te.jsx)(za,{contentStyle:{background:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",padding:"8px 12px"},formatter:e=>[`Rs${e.toLocaleString()}`,"Amount"],labelFormatter:e=>`Month: ${e}`}),(0,Te.jsx)(Cy,{dataKey:"amount",fill:"#3B82F6",radius:[4,4,0,0],opacity:.8})]}),"area"===m&&(0,Te.jsxs)(wj,{data:x,margin:{top:10,right:10,left:10,bottom:10},children:[(0,Te.jsx)("defs",{children:(0,Te.jsxs)("linearGradient",{id:"colorAmountArea",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Te.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),(0,Te.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]})}),(0,Te.jsx)(rj,{strokeDasharray:"3 3",vertical:!1,stroke:"#F3F4F6"}),(0,Te.jsx)(Pw,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"},padding:{left:10,right:10}}),(0,Te.jsx)(Mw,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"},tickFormatter:e=>`Rs${(e/1e3).toFixed(0)}k`}),(0,Te.jsx)(za,{contentStyle:{background:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",padding:"8px 12px"},formatter:e=>[`Rs${e.toLocaleString()}`,"Amount"],labelFormatter:e=>`Month: ${e}`}),(0,Te.jsx)(vj,{type:"monotone",dataKey:"amount",stroke:"#3B82F6",fill:"url(#colorAmountArea)",strokeWidth:2})]})]})}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[(0,Te.jsx)("div",{children:(0,Te.jsx)("div",{className:"flex items-baseline gap-2",children:w&&w.amount>0&&(0,Te.jsxs)("span",{className:"flex items-center text-sm font-medium px-2 py-1 rounded-full "+(N?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[N?"+":"",j,"%",(0,Te.jsx)(Nj,{className:"w-3 h-3 ml-1 "+(N?"text-green-600 rotate-0":"text-red-600 rotate-180")})]})})}),b.length>0&&(0,Te.jsx)("div",{className:"flex items-center gap-3",children:b.map((e=>(0,Te.jsxs)("button",{onClick:()=>l(e),className:"flex items-center gap-1.5 cursor-pointer group",children:[(0,Te.jsx)("div",{className:"w-3 h-3 rounded-full transition-colors "+(s===e?"bg-blue-500":"bg-gray-200")}),(0,Te.jsx)("span",{className:"text-xs text-gray-500 group-hover:text-gray-700",children:e})]},e)))})]})]})};const _j=class{static async getDashboardSummary(){try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/dashboard/summary`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching dashboard summary:",e),e}}static async getMonthlyExpenses(){try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/dashboard/monthly-expenses`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching monthly expenses:",e),e}}static async getTransactionHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;try{const n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/dashboard/transactions?page=${e}&limit=${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error fetching transaction history:",n),n}}},kj=qe("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Pj=qe("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Aj=qe("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ej=()=>{var e,t,n,a,i,o,s,l,c,u,d,h,f,p,m,g,y,x,b,v,w,j,N,S,_,k,P,A,E,O,C,T,L;const{user:D}=Fe(),[F,I]=(0,r.useState)(null),[R,M]=(0,r.useState)(!0),[B,z]=(0,r.useState)(null),U={dashboard:{icon:jn,title:"Dashboard",description:"Overview and analytics of your business metrics",path:"/dashboard"},invoices:{icon:vn,title:"Invoices",description:"Manage invoices, payments, and billing records",path:"/invoices"},customers:{icon:Jt,title:"Customers",description:"Customer information, contacts, and relationships",path:"/customers"},expenses:{icon:kj,title:"Expenses",description:"Track and manage business expenses",path:"/expense"},purchaseOrders:{icon:Pj,title:"Purchase Orders",description:"Create and manage purchase orders",path:"/purchase-order"},stock:{icon:bn,title:"Stock",description:"Inventory management and stock levels",path:"/stock"},financialProgress:{icon:Aj,title:"Financial Progress",description:"Financial reports and analytics",path:"/company-financial-progress"},settings:{icon:Aj,title:"Settings",description:"System and user settings",path:"/settings"}},q=Object.keys(U),$=(null===D||void 0===D?void 0:D.modules)&&D.modules.length===q.length&&q.every((e=>D.modules.includes(e)));(0,r.useEffect)((()=>{$?W():M(!1)}),[$]);const W=async()=>{try{M(!0);const e=await _j.getDashboardSummary();e.success?(I(e.data),z(null)):(I(H()),z(null))}catch(e){console.error("Error fetching dashboard data:",e),I(H()),z(null)}finally{M(!1)}},H=()=>({stats:{totalRevenue:{amount:36860,change:"+12.4%",changeType:"up",subtitle:"From 3 paid invoices"},totalInvoices:{amount:5,change:"5 this month",changeType:"up",subtitle:"60.0% completion rate"},pendingPayments:{amount:2874.75,change:"1 invoice",changeType:"warning",subtitle:"Pending customer payments"},activePurchaseOrders:{amount:119900,change:"1 active PO",changeType:"up",subtitle:"Total commitment value"}},paymentSummary:{currentBalance:33985.25,balanceChange:{percentage:"+5.7%",type:"positive"},upcomingPayments:{amount:2874.75,count:1,badge:"1 Pending"},overdueInvoices:{amount:117e3,count:1},monthlyCollections:{amount:36860,change:"+12.4%"},activePurchaseOrders:{amount:119900,count:1}},quickActions:{totalInvoices:5,totalPurchaseOrders:2,totalExpenses:0,totalCustomers:8},recentTransactions:[{id:3,name:"Muhammad Hunain",initial:"M",amount:1960,currency:"PKR",time:"13:10",transaction_type:"Paid Invoice",invoice_id:3}]});return(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)(rt,{}),(0,Te.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Te.jsx)(ft,{}),$?(0,Te.jsx)("main",{className:"flex-1 p-6 space-y-6",children:R?(0,Te.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Nn,{dashboardData:F}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[(0,Te.jsx)(xn,{title:"Total Revenue",amount:(null===F||void 0===F||null===(e=F.stats)||void 0===e||null===(t=e.totalRevenue)||void 0===t?void 0:t.amount)||0,change:(null===F||void 0===F||null===(n=F.stats)||void 0===n||null===(a=n.totalRevenue)||void 0===a?void 0:a.change)||"0%",changeType:(null===F||void 0===F||null===(i=F.stats)||void 0===i||null===(o=i.totalRevenue)||void 0===o?void 0:o.changeType)||"neutral",color:"green",currency:"PKR",subtitle:(null===F||void 0===F||null===(s=F.stats)||void 0===s||null===(l=s.totalRevenue)||void 0===l?void 0:l.subtitle)||"From paid invoices"}),(0,Te.jsx)(xn,{title:"Total Invoices",amount:(null===F||void 0===F||null===(c=F.stats)||void 0===c||null===(u=c.totalInvoices)||void 0===u?void 0:u.amount)||0,change:(null===F||void 0===F||null===(d=F.stats)||void 0===d||null===(h=d.totalInvoices)||void 0===h?void 0:h.change)||"0 this month",changeType:(null===F||void 0===F||null===(f=F.stats)||void 0===f||null===(p=f.totalInvoices)||void 0===p?void 0:p.changeType)||"neutral",color:"blue",currency:"",subtitle:(null===F||void 0===F||null===(m=F.stats)||void 0===m||null===(g=m.totalInvoices)||void 0===g?void 0:g.subtitle)||"Completion tracking"}),(0,Te.jsx)(xn,{title:"Pending Payments",amount:(null===F||void 0===F||null===(y=F.stats)||void 0===y||null===(x=y.pendingPayments)||void 0===x?void 0:x.amount)||0,change:(null===F||void 0===F||null===(b=F.stats)||void 0===b||null===(v=b.pendingPayments)||void 0===v?void 0:v.change)||"0 invoices",changeType:(null===F||void 0===F||null===(w=F.stats)||void 0===w||null===(j=w.pendingPayments)||void 0===j?void 0:j.changeType)||"neutral",color:"yellow",currency:"PKR",subtitle:(null===F||void 0===F||null===(N=F.stats)||void 0===N||null===(S=N.pendingPayments)||void 0===S?void 0:S.subtitle)||"Outstanding amounts"}),(0,Te.jsx)(xn,{title:"Active Purchase Orders",amount:(null===F||void 0===F||null===(_=F.stats)||void 0===_||null===(k=_.activePurchaseOrders)||void 0===k?void 0:k.amount)||0,change:(null===F||void 0===F||null===(P=F.stats)||void 0===P||null===(A=P.activePurchaseOrders)||void 0===A?void 0:A.change)||"0 active POs",changeType:(null===F||void 0===F||null===(E=F.stats)||void 0===E||null===(O=E.activePurchaseOrders)||void 0===O?void 0:O.changeType)||"neutral",color:"purple",currency:"PKR",subtitle:(null===F||void 0===F||null===(C=F.stats)||void 0===C||null===(T=C.activePurchaseOrders)||void 0===T?void 0:T.subtitle)||"Total commitment"})]}),(0,Te.jsx)("div",{className:"w-full",children:(0,Te.jsx)(Pn,{dashboardData:F})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[(0,Te.jsx)("div",{className:"lg:col-span-2",children:(0,Te.jsx)(Sj,{})}),(0,Te.jsx)(Ot,{})]})]})}):(0,Te.jsxs)("main",{className:"flex-1 p-6 sm:p-8",children:[(0,Te.jsxs)("div",{className:"mb-12",children:[(0,Te.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:["Welcome back, ",null===D||void 0===D?void 0:D.firstName,"! \ud83d\udc4b"]}),(0,Te.jsxs)("p",{className:"text-lg text-gray-600",children:["You have access to ",(null===D||void 0===D||null===(L=D.modules)||void 0===L?void 0:L.length)||0," modules. Here's what you can manage:"]})]}),null!==D&&void 0!==D&&D.modules&&D.modules.length>0?(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.modules.map((e=>{const t=U[e];if(!t)return null;const n=t.icon;return(0,Te.jsx)(Ee,{to:t.path,children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 p-8 group",children:[(0,Te.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Te.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:(0,Te.jsx)(n,{className:"h-6 w-6 text-blue-600"})})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.title}),(0,Te.jsx)("p",{className:"text-gray-600 text-sm",children:t.description}),(0,Te.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,Te.jsxs)("button",{className:"text-blue-600 font-medium text-sm hover:text-blue-700 transition-colors",children:["Go to ",t.title," \u2192"]})})]},e)},e)}))}):(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,Te.jsx)("div",{className:"inline-block mb-4",children:(0,Te.jsx)("div",{className:"p-4 bg-gray-100 rounded-full",children:(0,Te.jsx)(kj,{className:"h-8 w-8 text-gray-400"})})}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Modules Assigned"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"You don't have access to any modules yet. Contact your administrator to assign modules to your role."})]}),(null===D||void 0===D?void 0:D.modules)&&D.modules.length>0&&(0,Te.jsxs)("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-8",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About Your Access"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your Role"}),(0,Te.jsx)("p",{className:"text-gray-700",children:"You are logged in as a user with specific module permissions. Each module below represents different areas of the system you can access and manage."})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Accessible Modules"}),(0,Te.jsx)("div",{className:"flex flex-wrap gap-2",children:D.modules.map((e=>{var t;return(0,Te.jsx)("span",{className:"px-3 py-1 bg-white border border-blue-200 text-blue-700 rounded-full text-sm font-medium capitalize hover:bg-blue-50 transition-colors",children:(null===(t=U[e])||void 0===t?void 0:t.title)||e.replace(/([A-Z])/g," $1").trim()},e)}))})]})]})]}),(null===D||void 0===D?void 0:D.modules)&&D.modules.length>0&&(0,Te.jsx)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,Te.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,Te.jsx)("span",{className:"font-semibold text-blue-900",children:"\ud83d\udca1 Tip:"})," ","Use the sidebar menu on the left to navigate between modules. Each module provides specialized tools for managing that area of your business."]})})]}),(0,Te.jsx)(pt,{})]})]})},Oj=e=>{let{label:t,name:n,type:r="text",value:a,onChange:i,required:o=!1,readOnly:s=!1,className:l="",...c}=e;return(0,Te.jsxs)("div",{className:`flex flex-col ${l}`,children:[(0,Te.jsxs)("label",{className:"text-sm font-semibold text-gray-700 mb-2",children:[t,o&&(0,Te.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Te.jsx)("input",{type:r,name:n,value:a,onChange:i,required:o,readOnly:s,className:"rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition "+(s?"bg-gray-50":""),...c})]})},Cj=e=>{let{initialData:t,onSubmit:n,onCancel:a}=e;const[i,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)(null),[y,x]=(0,r.useState)([{id:1,description:"",quantity:"",unit:"",rate:"",net_weight:"",amount:0}]),[b,v]=(0,r.useState)({customerName:"",customerEmail:"",phone:"",a_p_Name:"",address:"",stRegNo:"",ntnNumber:"",currency:"PKR",salesTax:0,subtotal:0,taxAmount:0,totalAmount:0,billDate:(new Date).toISOString().split("T")[0],paymentDays:30,note:""});(0,r.useEffect)((()=>{(async()=>{try{l(!0);const e=await fetch(Ge.CUSTOMERS.LIST);if(e.ok){const t=await e.json();o(t),p(t)}else console.error("Failed to fetch customers");const t=await fetch(Ge.SETTINGS.COMPANY);if(t.ok){const e=await t.json();g(e)}}catch(e){console.error("Error fetching data:",e)}finally{l(!1)}})()}),[]),(0,r.useEffect)((()=>{if(0===c.length)p(i),h(!1);else{const e=i.filter((e=>e.customer.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())||e.company&&e.company.toLowerCase().includes(c.toLowerCase())));p(e),h(e.length>0&&c.length>0)}}),[c,i]),(0,r.useEffect)((()=>{if(t)if(v({customerName:t.customer_name||t.customerName||"",customerEmail:t.customer_email||t.customerEmail||"",phone:t.customer_phone||t.phone||"",a_p_Name:t.a_p_Name||"",address:t.customer_address||t.address||"",stRegNo:t.stRegNo||"",ntnNumber:t.ntnNumber||"",currency:t.currency||"PKR",salesTax:t.tax_rate||t.salesTax,subtotal:t.subtotal||0,taxAmount:t.tax_amount||t.taxAmount||0,totalAmount:t.total_amount||t.totalAmount||0,billDate:t.bill_date||t.billDate||(new Date).toISOString().split("T")[0],paymentDays:t.payment_days||t.paymentDays||30,note:t.note||t.notes||""}),u(t.customer_name||t.customerName||""),t.items&&Array.isArray(t.items)&&t.items.length>0){const e=t.items.map(((e,t)=>({id:t+1,description:e.description||e.item_name||"",quantity:e.quantity||"",unit:e.unit||e.uom||e.unit_name||"",rate:e.rate||e.unit_price||"",net_weight:void 0!==e.net_weight&&null!==e.net_weight?e.net_weight:"",amount:e.amount||e.total||0})));x(e)}else t.item_name&&x([{id:1,description:t.item_name,quantity:t.quantity||"",unit:t.unit||"",rate:t.rate||"",amount:t.total_amount||t.totalAmount||0}])}),[t]);const w=e=>{u(e.customer),v((t=>({...t,customerName:e.customer,customerEmail:e.email,phone:e.phone,a_p_Name:"",address:e.address,stRegNo:"",ntnNumber:""}))),h(!1)},j=e=>{const{name:t,value:n}=e.target;v((e=>({...e,[t]:n})))},N=(e,t,n)=>{const r=[...y];if(r[e]={...r[e],[t]:n},"quantity"===t||"rate"===t){const t=parseFloat(r[e].quantity)||0,n=parseFloat(r[e].rate)||0;r[e].amount=t*n}x(r)};return(0,r.useEffect)((()=>{const e=y.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),t=parseFloat(b.salesTax)||0,n=e*(t/100),r=e+n;v((t=>({...t,subtotal:e,taxAmount:n,totalAmount:r})))}),[y,b.salesTax]),(0,Te.jsxs)("div",{className:"max-w-5xl mx-auto bg-white p-8 sm:p-12 transition-all duration-300",children:[(0,Te.jsxs)("div",{className:"text-center mb-8",children:[(null===m||void 0===m?void 0:m.logo_path)&&(0,Te.jsx)("div",{className:"mb-4",children:(0,Te.jsx)("img",{src:m.logo_path,alt:"Company Logo",className:"mx-auto h-20 w-auto object-contain",onError:e=>{e.target.src="/assets/Logo/Logo.png"}})}),(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:(null===m||void 0===m?void 0:m.company_name)||"A Rauf Brother Textile"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Create New Invoice"})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=(b.customerName||c||"").toString().trim(),r=i.find((e=>e.customer&&e.customer.toLowerCase()===t.toLowerCase()));r&&w(r);const a=i.some((e=>e.customer&&e.customer.toLowerCase()===t.toLowerCase()));if(!a)return void alert("Contact Person not present. Kindly create new Contact Person first.");if(!b.customerName||!b.customerEmail)return void alert("Please fill in required contact person information (Name and Email are required).");const o=(b.customerName||"").toString().trim();if(!/^[A-Za-z]+(?:\s[A-Za-z]+)*$/.test(o))return void alert("Contact Person name can contain letters and spaces only");const s=y.filter((e=>e.description&&e.quantity&&e.rate));if(0===s.length)return void alert("Please add at least one item with description, quantity, and rate.");if(!b.billDate)return void alert("Bill Date is required.");if(null===b.paymentDays||void 0===b.paymentDays||""===b.paymentDays)return void alert("Payment Days is required");const l=Number(b.paymentDays);if(isNaN(l)||l<0||l>365)alert("Payment Days must be a number between 0 and 365");else try{console.debug("Submitting invoice with data:",{formData:b,invoiceItems:y});const e={customer_name:b.customerName,customer_email:b.customerEmail,p_number:b.phone,a_p_number:b.a_p_Name,address:b.address,st_reg_no:b.stRegNo,ntn_number:b.ntnNumber,currency:"PKR",subtotal:parseFloat(b.subtotal)||0,tax_rate:parseFloat(b.salesTax)||0,tax_amount:parseFloat(b.taxAmount)||0,total_amount:parseFloat(b.totalAmount)||0,bill_date:b.billDate,payment_days:Number(b.paymentDays),note:b.note,status:"Pending",items:s.map(((e,t)=>({item_no:t+1,description:e.description,quantity:parseFloat(e.quantity)||0,unit:e.unit||"",rate:parseFloat(e.rate)||0,net_weight:void 0!==e.net_weight&&""!==e.net_weight?parseFloat(e.net_weight):0,amount:parseFloat(e.amount)||0})))};if(console.debug("Sending invoice data to API:",e),n)return void await n(e);const t=await fetch(Ge.INVOICES.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(console.debug("API response:",r),t.ok)alert(`\u2705 Invoice created successfully! Invoice ID: ${r.id}`),console.debug("Invoice created:",r),v({customerName:"",customerEmail:"",phone:"",a_p_Name:"",address:"",stRegNo:"",ntnNumber:"",currency:"PKR",salesTax:0,subtotal:0,taxAmount:0,totalAmount:0,billDate:(new Date).toISOString().split("T")[0],paymentDays:30,note:""}),x([{id:1,description:"",quantity:"",unit:"",rate:"",net_weight:"",amount:0}]),u("");else{console.error("API Error:",r);let e=r.error||r.message||"Failed to create invoice";alert(`\u274c Error: ${e}`)}}catch(d){console.error("Network/Parse Error:",d),alert("\u274c Something went wrong while saving the invoice. Please check your internet connection and server status.")}},className:"space-y-12",children:[(0,Te.jsxs)("section",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 border-b pb-3",children:"Contact Person Details"}),(0,Te.jsx)("div",{className:"grid sm:grid-cols-1 gap-6",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Contact Person Name",(0,Te.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Te.jsx)("input",{type:"text",value:c,onChange:e=>{let t=e.target.value||"";t=t.toString().replace(/[^A-Za-z\s]/g,""),t=t.replace(/\s+/g," "),u(t),""===t&&v((e=>({...e,customerName:"",customerEmail:"",phone:"",a_p_Name:"",address:"",stRegNo:"",ntnNumber:""})))},onFocus:()=>{c.length>0&&h(f.length>0)},onBlur:()=>{setTimeout((()=>{h(!1)}),200)},className:"w-full rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition",placeholder:s?"Loading customers...":"Type customer name to search...",required:!0,disabled:s}),d&&(0,Te.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[f.map((e=>(0,Te.jsx)("div",{onClick:()=>w(e),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:e.customer.charAt(0).toUpperCase()})}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900 truncate",children:e.customer}),e.company&&(0,Te.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.company}),(0,Te.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.email}),e.phone&&(0,Te.jsx)("div",{className:"text-xs text-gray-400",children:e.phone})]})]})},e.customer_id))),0===f.length&&c.length>0&&(0,Te.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,Te.jsx)("div",{className:"text-sm",children:"No customers found"}),(0,Te.jsx)("div",{className:"text-xs text-gray-400",children:"Try a different search term"})]})]})]})}),b.customerName&&(0,Te.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Selected Contact Person Information"}),(0,Te.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-600",children:"Name:"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-800",children:b.customerName})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-600",children:"Email:"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-800",children:b.customerEmail})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-600",children:"Phone:"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-800",children:b.phone})]}),(0,Te.jsxs)("div",{className:"sm:col-span-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-600",children:"Address:"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-800",children:b.address})]})]})]})]}),(0,Te.jsxs)("section",{children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Te.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Invoice Items"}),(0,Te.jsx)("button",{type:"button",onClick:()=>{const e={id:Date.now(),description:"",quantity:"",unit:"",rate:"",net_weight:"",amount:0};x([...y,e])},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"+ Add Item"})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"w-full border border-gray-300 rounded-lg",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Description *"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Quantity *"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Net Weight (KG)"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Unit"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Rate *"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Amount"})]})}),(0,Te.jsx)("tbody",{children:y.map(((e,t)=>(0,Te.jsxs)("tr",{className:"border-b",children:[(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"text",value:e.description,onChange:e=>N(t,"description",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Item description",required:!0})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.quantity,onChange:e=>N(t,"quantity",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"0",min:"0",step:"0.01",required:!0})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.net_weight||"",onChange:e=>N(t,"net_weight",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"0.00",min:"0",step:"0.01"})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"text",value:e.unit||"",onChange:e=>N(t,"unit",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Unit (e.g., MTR)"})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.rate,onChange:e=>N(t,"rate",e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"0.00",min:"0",step:"0.01",required:!0})}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("input",{type:"text",value:e.amount?e.amount.toFixed(2):"0.00",readOnly:!0,className:"w-full bg-gray-50 border border-gray-300 rounded px-3 py-2 text-sm"})})]},e.id)))})]})}),(0,Te.jsx)("div",{className:"mt-6 border-t pt-4",children:(0,Te.jsxs)("div",{className:"grid sm:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"grid gap-3",children:[(0,Te.jsx)(Oj,{label:"Currency",type:"text",name:"currency",value:"PKR",readOnly:!0,className:"bg-gray-50 border-gray-200 font-medium"}),(0,Te.jsx)(Oj,{label:"Sales Tax (%)",type:"number",name:"salesTax",value:b.salesTax,onChange:j,step:"0.5",min:"0"})]}),(0,Te.jsxs)("div",{className:"grid gap-3",children:[(0,Te.jsx)(Oj,{label:"Subtotal (PKR)",type:"text",value:b.subtotal?b.subtotal.toFixed(2):"0.00",readOnly:!0,className:"bg-blue-50 border-blue-200 font-medium"}),(0,Te.jsx)(Oj,{label:"Tax Amount (PKR)",type:"text",value:b.taxAmount?b.taxAmount.toFixed(2):"0.00",readOnly:!0,className:"bg-blue-50 border-blue-200 font-medium"}),(0,Te.jsx)(Oj,{label:"Total Amount (PKR)",type:"text",value:b.totalAmount?b.totalAmount.toFixed(2):"0.00",readOnly:!0,className:"bg-green-50 border-green-200 font-bold text-lg"})]})]})})]}),(0,Te.jsxs)("section",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 border-b pb-3",children:"Invoice Info"}),(0,Te.jsxs)("div",{className:"grid sm:grid-cols-2 gap-6",children:[(0,Te.jsx)(Oj,{label:"Bill Date",type:"date",name:"billDate",value:b.billDate,onChange:j,required:!0}),(0,Te.jsx)(Oj,{label:"Payment Days (editable)",type:"number",name:"paymentDays",value:b.paymentDays,onChange:j,required:!0,min:"0",max:"365"})]}),(0,Te.jsxs)("div",{className:"mt-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Note"}),(0,Te.jsx)("textarea",{name:"note",rows:4,value:b.note,onChange:j,className:"w-full border border-gray-300 rounded-xl p-3 bg-white shadow-sm focus:ring-2 focus:ring-blue-200 outline-none transition",placeholder:"Enter a message for the customer..."})]})]}),(0,Te.jsxs)("div",{className:"text-center mt-10 flex flex-col sm:flex-row justify-center gap-4",children:[(0,Te.jsx)("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-10 py-3 rounded-xl shadow-lg transition duration-300",onClick:a||(()=>window.history.back()),children:a?"Cancel":"Back"}),(0,Te.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-10 py-3 rounded-xl shadow-lg transition duration-300",children:t?"Update Invoice":"Send Invoice"})]})]})]})},Tj=qe("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Lj=e=>{let{expensesData:t=[],onExpensesChange:n}=e;const[a,i]=(0,r.useState)([]),[o,s]=(0,r.useState)(1),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)({title:"",vendor:"",minAmount:"",maxAmount:"",dateFrom:"",dateTo:"",category:"",status:""}),[h,f]=(0,r.useState)({title:"",vendor:"",minAmount:"",maxAmount:"",dateFrom:"",dateTo:"",category:"",status:""}),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[x,b]=(0,r.useState)(null),[v,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[S,_]=(0,r.useState)(null),[k,P]=(0,r.useState)([]),[A,E]=(0,r.useState)(!0),O=(0,r.useRef)(null),C=(0,r.useRef)(null),T=St((()=>{v&&!j&&(w(!1),b(null))}),v&&!j),L=St((()=>{j&&N(!1)}),j);(0,r.useEffect)((()=>{const e=e=>{"Escape"!==e.key&&"Esc"!==e.key||(v&&(w(!1),b(null)),j&&N(!1))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[v,j]);const D=["All","Paid","Pending"],F=["Bank Transfer","Cash","Credit Card","Check","Online Payment"];(0,r.useEffect)((()=>{I()}),[]);const I=async()=>{try{E(!0);const e=await fetch(Ge.CATEGORIES.LIST());if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=(await e.json()).data.filter((e=>"Active"===e.status));P(t)}catch(e){console.error("Error fetching categories:",e),P([])}finally{E(!1)}};(0,r.useEffect)((()=>{const e=e=>{C.current&&C.current.contains(e.target)||O.current&&!O.current.contains(e.target)&&y(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,r.useEffect)((()=>{p&&f({...u})}),[p,u]);const R=t.filter((e=>{const t=(l||"").toString().toLowerCase(),n=(e.title||"").toString().toLowerCase(),r=(e.vendor||"").toString().toLowerCase(),a=(e.description||"").toString().toLowerCase();return n.includes(t)||r.includes(t)||a.includes(t)})).filter((e=>{const t=(e.title||"").toString().toLowerCase(),n=(e.vendor||"").toString().toLowerCase(),r=Number(e.amount)||0,a=u.minAmount?Number(u.minAmount):null,i=u.maxAmount?Number(u.maxAmount):null,o=e.date?new Date(e.date):null,s=u.dateFrom?new Date(u.dateFrom):null,l=u.dateTo?new Date(u.dateTo):null;return(!u.title||t.includes((u.title||"").toLowerCase()))&&(!u.vendor||n.includes((u.vendor||"").toLowerCase()))&&(null===a||r>=a)&&(null===i||r<=i)&&(!s||o&&o>=s)&&(!l||o&&o<=l)&&(!u.category||e.category===u.category)&&(!u.status||e.status===u.status)})),M=e=>{if(!e)return 99;const t=e.toString().toLowerCase();return"pending"===t?1:"paid"===t?2:3},B=e=>{const t=new Date(e);return isNaN(t.getTime())?0:t.getTime()},z=[...R].sort(((e,t)=>{const n=M(e.status),r=M(t.status);return n!==r?n-r:B(t.date)-B(e.date)})),U=Math.ceil(z.length/10),q=10*(o-1),$=z.slice(q,q+10);(0,r.useEffect)((()=>{s((e=>{const t=U||1;return e>t?t:e}))}),[U]);const W=[];if(U<=5)for(let r=1;r<=U;r++)W.push(r);else{const e=Math.floor(2.5);let t=Math.max(1,o-e),n=t+5-1;n>U&&(n=U,t=n-5+1),t>1&&(W.push(1),t>2&&W.push("..."));for(let r=t;r<=n;r++)W.push(r);n<U&&(n<U-1&&W.push("..."),W.push(U))}const H=e=>{e>=1&&e<=U&&(s(e),i([]))},K=e=>{switch(e){case"Paid":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},V=e=>{const{name:t,value:n}=e.target;f((e=>({...e,[t]:n})))},G=(e,t)=>{switch(e){case"edit":(e=>{b(e),w(!0),y(null)})(t);break;case"delete":(async e=>{if(window.confirm(`Are you sure you want to delete expense "${e.title}"?`))try{if(!(await fetch(Ge.EXPENSES.DELETE(e.id),{method:"DELETE"})).ok)throw new Error("Failed to delete expense");n&&await n()}catch(t){console.error("Error deleting expense:",t),alert("Failed to delete expense. Please try again.")}y(null)})(t)}},Y=()=>{const[e,t]=(0,r.useState)({name:"",type:"Expense",description:"",status:"Active"}),[n,a]=(0,r.useState)(!1),i=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",onClick:e=>e.stopPropagation(),children:(0,Te.jsxs)("div",{ref:L,className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Create New Category"}),(0,Te.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),e.name.trim()){a(!0);try{const n=await fetch(Ge.CATEGORIES.LIST(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json().catch((()=>({})));throw new Error(e.message||"Failed to create category")}const r=await n.json();console.debug("Category created successfully:",r),await I(),N(!1),t({name:"",type:"Expense",description:"",status:"Active"}),alert("Category created successfully!")}catch(r){console.error("Error creating category:",r),alert(`Failed to create category: ${r.message}`)}finally{a(!1)}}else alert("Please enter a category name")},children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category Name ",(0,Te.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Te.jsx)("input",{type:"text",name:"name",value:e.name,onChange:i,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Enter category name",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Te.jsx)("textarea",{name:"description",value:e.description,onChange:i,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Optional description"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",disabled:n,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50",disabled:n,children:n?"Creating...":"Create Category"})]})]})]})})},X=()=>{var e;const[t,a]=(0,r.useState)(x||{}),[i,o]=(0,r.useState)([{item_no:1,description:"",quantity:1,unit_price:0,amount:0}]),[s,l]=(0,r.useState)("");(0,r.useEffect)((()=>{if(x)a({...x}),l(x.category||""),x.items&&x.items.length>0?o(x.items):o([{item_no:1,description:x.title||"",quantity:1,unit_price:x.amount||0,amount:x.amount||0}]);else{const e=(new Date).toISOString().split("T")[0];a({title:"",date:e,vendor:"",amount:0,category:"",paymentMethod:"Cash",status:"Pending",description:""}),l(""),o([{item_no:1,description:"",quantity:1,unit_price:0,amount:0}])}}),[x]);const c=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))},u=(e,t,n)=>{const r=[...i];if(r[e]={...r[e],[t]:n},"quantity"===t||"unit_price"===t){const a="quantity"===t?parseFloat(n)||0:r[e].quantity,i="unit_price"===t?parseFloat(n)||0:r[e].unit_price;r[e].amount=a*i}o(r);const s=r.reduce(((e,t)=>e+(t.amount||0)),0);a((e=>({...e,amount:s})))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{ref:T,className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold mb-4",children:t.id?"Edit Expense":"Add New Expense"}),(0,Te.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!t.title||!t.date||!t.vendor||!s||!s.trim()||!t.paymentMethod)return void alert("Please fill in all required fields: Title, Date, Vendor, Category, and Payment Method");const r=i.filter((e=>e.description&&""!==e.description.trim()&&e.quantity>0&&e.unit_price>=0));if(0===r.length)return void alert("Please add at least one valid item with description, quantity, and unit price");const a=r.reduce(((e,t)=>e+(t.amount||0)),0),o={...t,category:s,amount:a,items:r.map(((e,t)=>({...e,item_no:t+1})))};console.debug("Submitting expense data:",o),(async e=>{try{let t;if(console.debug("Sending expense data:",e),t=e.id?await fetch(Ge.EXPENSES.UPDATE(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}):await fetch(Ge.EXPENSES.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),!t.ok){const e=await t.json().catch((()=>({})));throw console.error("Server error response:",e),new Error(e.message||`Server returned ${t.status}`)}const r=await t.json();console.debug("Expense saved successfully:",r),n&&await n();const a=!e.id;alert(a?"Expense created successfully!":"Expense updated successfully!"),w(!1),b(null)}catch(t){console.error("Error saving expense:",t),alert(`Failed to save expense: ${t.message}`)}})(o)},children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,Te.jsx)("input",{type:"text",name:"title",value:t.title||"",onChange:c,className:"w-full p-2 border rounded-md",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,Te.jsx)("input",{type:"date",name:"date",value:t.date||"",onChange:c,className:"w-full p-2 border rounded-md",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor"}),(0,Te.jsx)("input",{type:"text",name:"vendor",value:t.vendor||"",onChange:c,className:"w-full p-2 border rounded-md",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("select",{value:s,onChange:e=>{return t=e.target.value,l(t),void a((e=>({...e,category:t})));var t},className:"flex-1 p-2 border rounded-md",required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Select Category"}),A?(0,Te.jsx)("option",{value:"",children:"Loading categories..."}):k.map((e=>(0,Te.jsx)("option",{value:e.name,children:e.name},e.id)))]}),(0,Te.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),N(!0)},className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 whitespace-nowrap text-sm",title:"Create new category",children:"+ New"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,Te.jsx)("select",{name:"paymentMethod",value:t.paymentMethod||"Cash",onChange:c,className:"w-full p-2 border rounded-md",required:!0,children:F.map((e=>(0,Te.jsx)("option",{value:e,children:e},e)))})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Te.jsx)("select",{name:"status",value:t.status||"Pending",onChange:c,className:"w-full p-2 border rounded-md",required:!0,children:D.filter((e=>"All"!==e)).map((e=>(0,Te.jsx)("option",{value:e,children:e},e)))})]})]}),(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expense Items"}),(0,Te.jsx)("button",{type:"button",onClick:()=>{const e=i.length+1;o([...i,{item_no:e,description:"",quantity:1,unit_price:0,amount:0}])},className:"px-3 py-1 bg-blue-500 text-white text-sm rounded-md hover:bg-blue-600",children:"+ Add Item"})]}),(0,Te.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,Te.jsxs)("table",{className:"w-full",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-sm font-medium text-gray-700",children:"Description"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Qty"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Rate"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-right text-sm font-medium text-gray-700",children:"Amount"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-center text-sm font-medium text-gray-700"})]})}),(0,Te.jsx)("tbody",{className:"divide-y divide-gray-200",children:i.map(((e,t)=>{var n;return(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"px-3 py-2",children:(0,Te.jsx)("input",{type:"text",value:e.description,onChange:e=>u(t,"description",e.target.value),className:"w-full p-1 border rounded text-sm",placeholder:"Item description",required:!0})}),(0,Te.jsx)("td",{className:"px-3 py-2",children:(0,Te.jsx)("input",{type:"number",value:e.quantity,onChange:e=>u(t,"quantity",e.target.value),className:"w-full p-1 border rounded text-sm text-right",min:"0",step:"1",required:!0})}),(0,Te.jsx)("td",{className:"px-3 py-2",children:(0,Te.jsx)("input",{type:"number",value:e.unit_price,onChange:e=>u(t,"unit_price",e.target.value),className:"w-full p-1 border rounded text-sm text-right",min:"0",step:"0.01",required:!0})}),(0,Te.jsx)("td",{className:"px-3 py-2 text-right font-medium",children:(null===(n=e.amount)||void 0===n?void 0:n.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"}),(0,Te.jsx)("td",{className:"px-3 py-2 text-center",children:i.length>1&&(0,Te.jsx)("button",{type:"button",onClick:()=>(e=>{if(i.length>1){const t=i.filter(((t,n)=>n!==e)),n=t.map(((e,t)=>({...e,item_no:t+1})));o(n);const r=n.reduce(((e,t)=>e+(t.amount||0)),0);a((e=>({...e,amount:r})))}})(t),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})})]},t)}))}),(0,Te.jsx)("tfoot",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{colSpan:"3",className:"px-3 py-2 text-right font-semibold",children:"Total Amount:"}),(0,Te.jsxs)("td",{className:"px-3 py-2 text-right font-bold",children:["PKR ",(null===(e=t.amount)||void 0===e?void 0:e.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]}),(0,Te.jsx)("td",{})]})})]})})]}),(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Te.jsx)("textarea",{name:"description",value:t.description||"",onChange:c,className:"w-full p-2 border rounded-md",rows:"3",placeholder:"Additional notes or description"})]}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Save Expense"})]})]})]})})};return(0,Te.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-[30px] shadow-sm border border-gray-100 p-4 sm:p-5",children:[(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-5",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-lg sm:text-xl font-semibold",children:"Expenses"}),(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Track and manage all your business expenses"})]}),(0,Te.jsxs)("div",{className:"flex flex-col xs:flex-row gap-3 w-full sm:w-auto",children:[(0,Te.jsxs)("div",{className:"relative flex-grow",children:[(0,Te.jsx)(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search expenses...",className:"pl-10 pr-3 py-1.5 sm:py-2 border rounded-md text-xs sm:text-sm w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:e=>c(e.target.value)})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-[#1976D2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:bg-blue-600 transition-colors",onClick:()=>{const e={title:"",date:(new Date).toISOString().split("T")[0],vendor:"",amount:0,category:"",categoryType:"Expense",paymentMethod:"Cash",description:"",status:"Pending"};b(e),w(!0)},children:[(0,Te.jsx)(bt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Add Expense"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-white border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-gray-50",onClick:()=>m(!p),children:[(0,Te.jsx)(vt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Filter"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-white border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-gray-50",children:[(0,Te.jsx)(Rt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Export"})]})]})]})]}),p&&(0,Te.jsxs)("div",{ref:C,className:"bg-gray-50 p-4 rounded-lg mb-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expense Title"}),(0,Te.jsx)("input",{type:"text",name:"title",className:"w-full p-2 border rounded-md text-xs",value:h.title,onChange:V,onMouseDown:e=>e.stopPropagation(),placeholder:"Filter by title"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Vendor"}),(0,Te.jsx)("input",{type:"text",name:"vendor",className:"w-full p-2 border rounded-md text-xs",value:h.vendor,onChange:e=>{const t=e.target.value.replace(/[^A-Za-z\s]/g,"");f((e=>({...e,vendor:t})))},onMouseDown:e=>e.stopPropagation(),placeholder:"Filter by vendor"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Min Amount"}),(0,Te.jsx)("input",{type:"number",name:"minAmount",className:"w-full p-2 border rounded-md text-xs",value:h.minAmount,onChange:V,onMouseDown:e=>e.stopPropagation(),placeholder:"Minimum amount"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Max Amount"}),(0,Te.jsx)("input",{type:"number",name:"maxAmount",className:"w-full p-2 border rounded-md text-xs",value:h.maxAmount,onChange:V,onMouseDown:e=>e.stopPropagation(),placeholder:"Maximum amount"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),(0,Te.jsx)("input",{type:"date",name:"dateFrom",className:"w-full p-2 border rounded-md text-xs",value:h.dateFrom,onChange:V,onMouseDown:e=>e.stopPropagation()})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),(0,Te.jsx)("input",{type:"date",name:"dateTo",className:"w-full p-2 border rounded-md text-xs",value:h.dateTo,onChange:V,onMouseDown:e=>e.stopPropagation()})]}),(0,Te.jsxs)("div",{className:"md:col-span-5 flex justify-end gap-2",children:[(0,Te.jsx)("button",{onClick:()=>{d({...h}),s(1),m(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Apply Filters"}),(0,Te.jsx)("button",{onClick:()=>{const e={title:"",vendor:"",minAmount:"",maxAmount:"",dateFrom:"",dateTo:"",category:"",status:""};d(e),f(e),c("")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm",children:"Reset Filters"})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsx)("div",{className:"relative min-w-full min-h-[350px]",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"sticky top-0 bg-white z-10",children:(0,Te.jsxs)("tr",{className:"text-center text-xs sm:text-sm font-normal text-black",children:[(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:$.length>0&&a.length===$.length,onChange:()=>{a.length===$.length?i([]):i($.map((e=>e.id)))},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Expense"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Date"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap hidden sm:table-cell",children:"Vendor"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Amount"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap hidden md:table-cell",children:"Payment Method"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Status"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap hidden lg:table-cell",children:"Description"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap"})]})}),(0,Te.jsx)("tbody",{className:"text-center divide-y divide-gray-100",children:0===z.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"9",className:"py-4 text-center text-sm text-gray-500",children:"No expenses found matching your criteria"})}):$.map((e=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:a.includes(e.id),onChange:()=>{return t=e.id,void i((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:e.title}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap",children:new Date(e.date).toLocaleDateString()}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap hidden sm:table-cell",children:e.vendor}),(0,Te.jsxs)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:["PKR ",e.amount.toLocaleString()]}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap hidden md:table-cell",children:e.paymentMethod}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-center",children:(0,Te.jsx)("span",{className:`px-2 py-1 inline-flex items-center justify-center text-xs font-semibold rounded-full ${K(e.status)}`,children:e.status})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap hidden lg:table-cell",children:(0,Te.jsx)("div",{className:"max-w-xs truncate",children:e.description})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap relative",children:(0,Te.jsxs)("div",{className:"flex justify-center",children:[(0,Te.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:t=>((e,t)=>{t.stopPropagation(),y(g===e?null:e)})(e.id,t),children:(0,Te.jsx)(wt,{className:"h-5 w-5"})}),g===e.id&&(0,Te.jsx)("div",{ref:O,className:"absolute right-0 z-50 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200",children:(0,Te.jsxs)("div",{className:"py-1",children:[(0,Te.jsxs)("button",{onClick:()=>G("edit",e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Te.jsxs)("button",{onClick:()=>G("delete",e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]})})]},e.id)))}),(0,Te.jsx)("tfoot",{})]})})}),z.length>10&&(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 border-t border-gray-200 bg-white gap-3",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",q+1,"-",Math.min(q+10,z.length)," of ",z.length," expenses"]}),(0,Te.jsxs)("div",{className:"flex gap-1",children:[(0,Te.jsx)("button",{onClick:()=>H(o-1),disabled:1===o,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),W.map(((e,t)=>"..."===e?(0,Te.jsx)("div",{className:"px-3 py-1 text-sm rounded-md min-w-[36px] flex items-center justify-center",children:"..."},`dots-${t}`):(0,Te.jsx)("button",{onClick:()=>H(e),className:`px-3 py-1 text-sm rounded-md min-w-[36px] ${o===e?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"} border`,children:e},e))),(0,Te.jsx)("button",{onClick:()=>H(o+1),disabled:o===U,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),v&&(0,Te.jsx)(X,{}),j&&(0,Te.jsx)(Y,{})]})},Dj=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(1),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)({name:"",description:""}),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(null),[y,x]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!0),[w,j]=(0,r.useState)(null),[N,S]=(0,r.useState)(null),_=(0,r.useRef)(null),k=St((()=>{y&&(x(!1),g(null))}),y),P=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;S({title:e,description:t}),setTimeout((()=>S(null)),n)};(0,r.useEffect)((()=>{A()}),[]);const A=async()=>{try{v(!0);const e=await fetch(Ge.CATEGORIES.LIST());if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=(await e.json()).data.filter((e=>"All"!==e.name)).map((e=>({id:e.id,name:e.name,description:e.description||"",type:e.type,status:e.status,color:"#3B82F6",icon:"FolderOpen",createdDate:e.created_date?new Date(e.created_date).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],expenseCount:e.expense_count||0})));t(n),j(null)}catch(e){console.error("Error fetching categories:",e),j("Failed to fetch categories. Please try again later.")}finally{v(!1)}};(0,r.useEffect)((()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&p(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const E=e.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase()))).filter((e=>(!c.name||e.name.toLowerCase().includes(c.name.toLowerCase()))&&(!c.description||e.description.toLowerCase().includes(c.description.toLowerCase())))),O=Math.ceil(E.length/10),C=10*(i-1),T=E.slice(C,C+10),L=e=>{e>=1&&e<=O&&(o(e),a([]))},D=e=>{const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))},F=(e,t)=>{switch(e){case"edit":(e=>{g(e),x(!0),p(null)})(t);break;case"delete":(async e=>{if(e.expenseCount>0)return alert(`Cannot delete category "${e.name}" because it has ${e.expenseCount} associated expenses. Please move or delete those expenses first.`),void p(null);if(window.confirm(`Are you sure you want to delete category "${e.name}"?`))try{const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/categories/${e.id}`,{method:"DELETE"});if(!t.ok){const e=await t.text();throw new Error(`Failed to delete category: ${e}`)}P("Category Deleted",`Category "${e.name}" has been deleted successfully`),await A()}catch(t){console.error("Error deleting category:",t),P("Error","Failed to delete category. Please try again.")}p(null)})(t)}},I=()=>{const[e,t]=(0,r.useState)(m||{});(0,r.useEffect)((()=>{t(m||{})}),[]);const n=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{ref:k,className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e.id?"Edit Category":"Create New Category"}),(0,Te.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async e=>{try{if(e.id){const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/categories/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description||"",type:e.type||"Expense",status:e.status||"Active"})});if(!t.ok){const e=await t.text();throw new Error(`Failed to update category: ${e}`)}P("Category Updated",`Category "${e.name}" has been updated successfully`)}else{const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/categories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description||"",type:"Expense",status:"Active"})});if(!t.ok){const e=await t.text();throw new Error(`Failed to create category: ${e}`)}P("Category Created",`Category "${e.name}" has been created successfully`)}await A(),x(!1),g(null)}catch(t){console.error("Error saving category:",t),P("Error","Failed to save category. Please try again.")}})(e)},children:[(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),(0,Te.jsx)("input",{type:"text",name:"name",value:e.name||"",onChange:n,className:"w-full p-2 border rounded-md",required:!0,placeholder:"Enter category name"})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Te.jsx)("textarea",{name:"description",value:e.description||"",onChange:n,className:"w-full p-2 border rounded-md",rows:"3",placeholder:"Enter category description (optional)"})]}),(0,Te.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"}),(0,Te.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:[e.id?"Update":"Create"," Category"]})]})]})]})})};return b?(0,Te.jsx)("div",{className:"bg-white rounded-xl sm:rounded-[30px] shadow-sm border border-gray-100 p-4 sm:p-5 flex justify-center items-center h-64",children:(0,Te.jsx)("div",{className:"text-gray-500",children:"Loading categories..."})}):w?(0,Te.jsx)("div",{className:"bg-white rounded-xl sm:rounded-[30px] shadow-sm border border-gray-100 p-4 sm:p-5 flex justify-center items-center h-64",children:(0,Te.jsxs)("div",{className:"text-red-500 text-center",children:[(0,Te.jsx)("div",{children:w}),(0,Te.jsx)("button",{onClick:A,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Retry"})]})}):(0,Te.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-[30px] shadow-sm border border-gray-100 p-4 sm:p-5",children:[N&&(0,Te.jsxs)("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:[(0,Te.jsx)("div",{className:"font-bold",children:N.title}),(0,Te.jsx)("div",{children:N.description})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-5",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-lg sm:text-xl font-semibold",children:"Categories"}),(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Create and manage expense categories"})]}),(0,Te.jsxs)("div",{className:"flex flex-col xs:flex-row gap-3 w-full sm:w-auto",children:[(0,Te.jsxs)("div",{className:"relative flex-grow",children:[(0,Te.jsx)(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search categories...",className:"pl-10 pr-3 py-1.5 sm:py-2 border rounded-md text-xs sm:text-sm w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:e=>l(e.target.value)})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-[#1976D2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:bg-blue-600 transition-colors",onClick:()=>{g({name:"",description:"",type:"Expense",status:"Active"}),x(!0)},children:[(0,Te.jsx)(bt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Create Category"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-white border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-gray-50",onClick:()=>h(!d),children:[(0,Te.jsx)(vt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Filter"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-white border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-gray-50",children:[(0,Te.jsx)(Rt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Export"})]})]})]})]}),d&&(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Category Name"}),(0,Te.jsx)("input",{type:"text",name:"name",className:"w-full p-2 border rounded-md text-xs",value:c.name,onChange:D,placeholder:"Filter by name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),(0,Te.jsx)("input",{type:"text",name:"description",className:"w-full p-2 border rounded-md text-xs",value:c.description,onChange:D,placeholder:"Filter by description"})]}),(0,Te.jsx)("div",{className:"md:col-span-2 flex justify-end gap-2",children:(0,Te.jsx)("button",{onClick:()=>{u({name:"",description:""}),l(""),P("Filters Reset","All filters have been cleared")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm",children:"Reset Filters"})})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsx)("div",{className:"relative min-w-full min-h-[350px]",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"sticky top-0 bg-white z-10",children:(0,Te.jsxs)("tr",{className:"text-center text-xs sm:text-sm font-normal text-black",children:[(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:T.length>0&&n.length===T.length,onChange:()=>{n.length===T.length?a([]):a(T.map((e=>e.id)))},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap text-left",children:"Category"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Description"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap hidden md:table-cell",children:"Created Date"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Action"})]})}),(0,Te.jsx)("tbody",{className:"text-center divide-y divide-gray-100",children:0===E.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"5",className:"py-4 text-center text-sm text-gray-500",children:"No categories found matching your criteria"})}):T.map((e=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:n.includes(e.id),onChange:()=>{return t=e.id,void a((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap text-left",children:(0,Te.jsx)("div",{className:"flex items-center gap-2",children:e.name})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap max-w-xs",children:(0,Te.jsx)("div",{className:"truncate",children:e.description})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap hidden md:table-cell",children:new Date(e.createdDate).toLocaleDateString()}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap relative",children:(0,Te.jsxs)("div",{className:"flex justify-center",children:[(0,Te.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:t=>((e,t)=>{t.stopPropagation(),p(f===e?null:e)})(e.id,t),children:(0,Te.jsx)(wt,{className:"h-5 w-5"})}),f===e.id&&(0,Te.jsx)("div",{ref:_,className:"absolute right-0 z-50 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200",children:(0,Te.jsxs)("div",{className:"py-1",children:[(0,Te.jsxs)("button",{onClick:()=>F("edit",e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Te.jsxs)("button",{onClick:()=>F("delete",e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]})})]},e.id)))})]})})}),E.length>10&&(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 border-t border-gray-200 bg-white gap-3",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",C+1,"-",Math.min(C+10,E.length)," of ",E.length," categories"]}),(0,Te.jsxs)("div",{className:"flex gap-1",children:[(0,Te.jsx)("button",{onClick:()=>L(i-1),disabled:1===i,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,O)},((e,t)=>{let n;return n=O<=5||i<=3?t+1:i>=O-2?O-4+t:i-2+t,(0,Te.jsx)("button",{onClick:()=>L(n),className:`px-3 py-1 text-sm rounded-md ${i===n?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"} border`,children:n},n)})),(0,Te.jsx)("button",{onClick:()=>L(i+1),disabled:i===O,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),y&&(0,Te.jsx)(I,{})]})},Fj=()=>{const[e,t]=(0,r.useState)("expenses"),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0);(0,r.useEffect)((()=>{s()}),[]);const s=async()=>{try{o(!0);const e=await fetch(Ge.EXPENSES.LIST);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();a(t)}catch(e){console.error("Error fetching expenses:",e),a([])}finally{o(!1)}},l=n.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),c=n.filter((e=>"Paid"===e.status)),u=n.filter((e=>"Pending"===e.status)),d=c.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),h=u.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0);return(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("main",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)("div",{className:"mb-6",children:(0,Te.jsxs)("div",{className:"flex bg-white rounded-lg p-1 w-fit shadow-sm border border-gray-200",children:[(0,Te.jsx)("button",{onClick:()=>t("expenses"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 "+("expenses"===e?"bg-blue-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:"Expenses"}),(0,Te.jsx)("button",{onClick:()=>t("categories"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 "+("categories"===e?"bg-blue-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:"Categories"})]})}),"expenses"===e&&!i&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,Te.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-blue-600 font-medium mb-1",children:"Total Expenditure"}),(0,Te.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-blue-900",children:["PKR ",l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Te.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:[n.length," expenses"]})]}),(0,Te.jsx)("div",{className:"bg-blue-500 rounded-full p-3",children:(0,Te.jsx)(wn,{className:"w-6 h-6 text-white"})})]})}),(0,Te.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-green-600 font-medium mb-1",children:"Paid Expenses"}),(0,Te.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-green-900",children:["PKR ",d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Te.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[c.length," paid"]})]}),(0,Te.jsx)("div",{className:"bg-green-500 rounded-full p-3",children:(0,Te.jsx)(Yt,{className:"w-6 h-6 text-white"})})]})}),(0,Te.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-yellow-600 font-medium mb-1",children:"Pending Expenses"}),(0,Te.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-yellow-900",children:["PKR ",h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Te.jsxs)("p",{className:"text-xs text-yellow-600 mt-1",children:[u.length," pending"]})]}),(0,Te.jsx)("div",{className:"bg-yellow-500 rounded-full p-3",children:(0,Te.jsx)(Tj,{className:"w-6 h-6 text-white"})})]})})]}),"expenses"===e?(0,Te.jsx)(Lj,{expensesData:n,onExpensesChange:s}):(0,Te.jsx)(Dj,{}),(0,Te.jsx)(pt,{})]})]})},Ij=qe("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Rj=qe("square-check-big",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Mj=qe("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var Bj=n(6743);const zj=()=>{const[e,t]=(0,r.useState)([]),n=e=>{let{checked:t,onCheckedChange:n}=e;return(0,Te.jsx)("button",{type:"button",onClick:n,className:"focus:outline-none",children:t?(0,Te.jsx)(Rj,{size:18}):(0,Te.jsx)(Mj,{size:18})})};return(0,Te.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-[30px] shadow-sm border border-gray-100 p-4 sm:p-5",children:[(0,Te.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-5",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-lg sm:text-xl font-semibold",children:"Order Details"}),(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"View and manage all order details in one place"})]})}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsx)("div",{className:"relative min-w-full min-h-[350px]",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"sticky top-0 bg-white z-10",children:(0,Te.jsxs)("tr",{className:"text-center text-xs sm:text-sm font-normal text-black",children:[(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:(0,Te.jsx)(n,{checked:e.length===Bj.default.length,onCheckedChange:()=>{t(e.length===Bj.default.length?[]:Bj.default.map((e=>e.id)))}})}),(0,Te.jsxs)("th",{className:"pb-3 px-2 whitespace-nowrap flex items-center gap-2 justify-center",children:[(0,Te.jsx)(vn,{size:16}),"Order Id"]}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Date"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Particulars"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Rate"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Quantity"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"MTR"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Credit"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Debit"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Balance"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Bills/CHQ"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Days"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Due Date"})]})}),(0,Te.jsx)("tbody",{className:"text-center divide-y divide-gray-100",children:Bj.default.filter((e=>e.orderId)).map((r=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Te.jsx)(n,{checked:e.includes(r.id),onCheckedChange:()=>{return e=r.id,void t((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e}})}),(0,Te.jsxs)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap flex items-center gap-1 justify-center",children:[(0,Te.jsx)(Ij,{size:14,className:"text-green-500"}),r.orderId]}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap",children:r.date}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.particulars||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:void 0!==r.rate&&null!==r.rate?Number(r.rate).toFixed(2):"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.quantity||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.mtr||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.credit||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap",children:r.debit||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.balance||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.billsCHQ||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.days||"-"}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap",children:r.dueDate||"-"})]},r.id)))})]})})})]})},Uj=()=>{var e;const t=Z(),n=te();return(null===(e=t.state)||void 0===e?void 0:e.report)?(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("div",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64 overflow-auto",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)("section",{className:"grid grid-cols-1 lg:grid-cols-1 gap-5",children:(0,Te.jsx)("div",{className:"lg:col-span-3",children:(0,Te.jsx)(zj,{})})})]})]}):(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:"No report data found."}),(0,Te.jsx)("button",{onClick:()=>n(-1),className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Go Back"})]})},qj=qe("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),$j=qe("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),Wj=e=>{if(0===e)return"Zero";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],a=e=>0===e?"":e<10?t[e]:e<20?r[e-10]:e<100?n[Math.floor(e/10)]+(e%10!==0?" "+t[e%10]:""):t[Math.floor(e/100)]+" Hundred"+(e%100!==0?" "+a(e%100):""),i=e=>0===e?"":e<1e3?a(e):e<1e5?a(Math.floor(e/1e3))+" Thousand"+(e%1e3!==0?" "+a(e%1e3):""):e<1e7?a(Math.floor(e/1e5))+" Lakh"+(e%1e5!==0?" "+i(e%1e5):""):a(Math.floor(e/1e7))+" Crore"+(e%1e7!==0?" "+i(e%1e7):""),[o,s]=e.toString().split(".");let l=i(parseInt(o));return s&&parseInt(s)>0&&(l+=" and "+a(parseInt(s.padEnd(2,"0").slice(0,2)))+" Paisa"),l},Hj=()=>{const{id:e,type:t}=ne(),n=te(),[a,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),h=(0,r.useRef)(),f="po"===t,p=async t=>{const n=t.target.value;try{const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:n,payment_date:"Paid"===n?(new Date).toISOString().split("T")[0]:null})});if(!t.ok)throw new Error(`Failed to update status: ${t.statusText}`);await t.json();i((e=>({...e,status:n}))),alert(`Invoice status updated to ${n}`)}catch(l){console.error("Error updating status:",l),alert(`Failed to update status: ${l.message}`),t.target.value=a.status}};return(0,r.useEffect)((()=>{e&&(async()=>{try{let t;if(s(!0),t=f?await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices/${e}`):await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/invoices/${e}`),!t.ok)throw new Error("Failed to fetch invoice");const n=await t.json();if(f){const e={...n,bill_date:n.invoice_date,payment_deadline:n.due_date,payment_days:n.payment_days||30,customer_email:n.customer_email||"N/A",address:n.customer_address,p_number:n.customer_phone,note:n.notes,items:n.items?n.items.map((e=>({id:e.id,item_no:e.item_no,description:e.description,quantity:e.invoiced_quantity||e.quantity,net_weight:e.net_weight||0,rate:e.unit_price,amount:e.amount,specifications:e.specifications,po_quantity:e.po_quantity,remaining_quantity:e.remaining_quantity}))):[],invoice_type:"po_invoice",quantity:n.invoiced_quantity||n.quantity,net_weight:n.net_weight||0,subtotal:n.subtotal,tax_rate:n.tax_rate,salesTax:n.tax_amount,terms_of_payment:"As per agreement",delivery_date:null,is_sent:"Draft"!==n.status};i(e)}else i(n)}catch(t){console.error("Error fetching invoice:",t),c(t.message)}finally{s(!1)}})()}),[e,f]),o?(0,Te.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),(0,Te.jsx)("p",{className:"text-gray-500",children:"Loading invoice..."})]})}):l?(0,Te.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-red-500 mb-4",children:"Error loading invoice"}),(0,Te.jsx)("p",{className:"text-gray-500 mb-4",children:l}),(0,Te.jsx)("button",{onClick:()=>n("/invoices"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Back to Invoices"})]})}):a?(0,Te.jsxs)("div",{className:"flex h-screen bg-background",style:{backgroundColor:"#F4F5F6"},children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-full w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("div",{className:"flex-1 flex flex-col md:ml-64 relative",children:[(0,Te.jsx)(ft,{}),(0,Te.jsxs)("div",{className:"flex-1 p-6",children:[(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 bg-white rounded-lg shadow-sm p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>n("/invoices"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Te.jsx)(qj,{className:"w-5 h-5"}),(0,Te.jsx)("span",{children:"Back to Invoices"})]}),(0,Te.jsxs)("div",{className:"border-l border-gray-300 pl-4",children:[(0,Te.jsx)("h1",{className:"text-[24px] font-bold text-[#333843]",children:f?`PO Invoice #${a.invoice_number}`:`Invoice #${a.invoice_number}`}),(0,Te.jsxs)("p",{className:"text-[16px] text-[#667085]",children:["Invoice Date :"," ",a.bill_date?new Date(a.bill_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase():"N/A"]}),f&&a.po_number&&(0,Te.jsxs)("p",{className:"text-[14px] text-[#1976D2]",children:["From PO: ",a.po_number]})]})]}),(0,Te.jsx)("div",{className:"flex items-center gap-3",children:(0,Te.jsxs)("button",{onClick:()=>{try{const e=window.open("","_blank","width=800,height=600");if(!e)return void alert("Pop-up blocked. Please allow pop-ups for this site to generate PDF.");const t=`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset="utf-8">\n          <title>Invoice ${a.invoice_number}</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n              box-sizing: border-box;\n            }\n            \n            body {\n              font-family: Arial, sans-serif;\n              background: white;\n              color: #333;\n              line-height: 1.5;\n              padding: 0;\n              margin: 0;\n            }\n            \n            .invoice-container {\n              max-width: 900px;\n              margin: 0 auto;\n              background: white;\n              border: 1px solid #666;\n              position: relative;\n            }\n            \n            /* FIXED: Watermark styling */\n            .print-watermark {\n              position: fixed;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%) rotate(-14deg);\n              width: 65%;\n              max-width: 820px;\n              height: auto;\n              opacity: 0.06;\n              pointer-events: none;\n              z-index: 0;\n              display: block;\n            }\n            \n            .content {\n              position: relative;\n              z-index: 1;\n            }\n            \n            .title-section {\n              text-align: center;\n              padding: 10px;\n              border-bottom: 1px solid #999;\n            }\n            \n            .title-section h1 {\n              font-size: 18px;\n              font-weight: bold;\n              letter-spacing: 1px;\n            }\n            \n            .invoice-info {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              padding: 15px;\n              border-bottom: 2px solid #999;\n              font-size: 13px;\n            }\n            \n            .invoice-info-left div {\n              margin-bottom: 8px;\n            }\n            \n            .invoice-info-right {\n              text-align: right;\n            }\n            \n            .label {\n              font-weight: bold;\n              display: inline-block;\n              width: 110px;\n            }\n            \n            .buyer-section {\n              padding: 15px;\n              border-bottom: 2px solid #999;\n            }\n            \n            .buyer-section h3 {\n              font-size: 15px;\n              font-weight: bold;\n              margin-bottom: 10px;\n            }\n            \n            .buyer-grid {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 8px;\n              font-size: 12px;\n            }\n            \n            .invoice-table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 11px;\n            }\n            \n            .invoice-table th {\n              background: #e0e0e0;\n              padding: 10px 6px;\n              font-weight: bold;\n              text-align: center;\n              border: 1px solid #999;\n            }\n            \n            .invoice-table td {\n              padding: 10px 6px;\n              border: 1px solid #999;\n            }\n            \n            .invoice-table .text-left {\n              text-align: left;\n            }\n            \n            .invoice-table .text-center {\n              text-align: center;\n            }\n            \n            .invoice-table .text-right {\n              text-align: right;\n            }\n            \n            .net-row {\n              background: #f5f5f5;\n              font-weight: bold;\n            }\n            \n            .amount-words {\n              padding: 15px;\n              border-top: 1px solid #999;\n              font-size: 12px;\n            }\n            \n            .signatures {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              padding: 15px;\n              border-top: 2px solid #999;\n              text-align: center;\n            }\n            \n            .signature-box {\n              padding: 10px;\n            }\n            \n            .signature-line {\n              border-top: 1px solid #333;\n              margin-top: 50px;\n              padding-top: 8px;\n              font-weight: bold;\n              font-size: 12px;\n            }\n            \n            .footer {\n              background: #D4AF37;\n              text-align: center;\n              padding: 15px 12px;\n              font-size: 11px;\n              line-height: 1.6;\n            }\n            \n            @media print {\n              body { \n                margin: 0; \n                padding: 0; \n              }\n              .invoice-container { \n                border: none; \n                box-shadow: none;\n              }\n              /* FIXED: Hide any extra content */\n              .no-print, .print-date-time {\n                display: none !important;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="invoice-container">\n            \x3c!-- Watermark image --\x3e\n            <img class="print-watermark" src="${tt}" alt="Watermark" />\n            \n            <div class="content">\n              \x3c!-- Company Header --\x3e\n              <div style="text-align: center; padding: 15px; border-bottom: 1px solid #999;">\n                <img src="${tt}" alt="A Rauf Textile" style="height: 130px; width: auto; max-width: 400px; margin: 0 auto 10px;">\n                <div style="font-size: 11px; color: #333;">\n                  <p style="margin: 2px 0; font-size: 10px;">Deals in all kind of Greige & Dyed Fabric</p>\n                  <p style="margin: 2px 0; font-size: 10px;">ROOM NO. 205 2ND FLOOR SALEHA CHAMBER, PLOT No. B-9/C-1 SITE KARACHI</p>\n                  <p style="margin: 3px 0; font-size: 10px;"><strong>STRN #</strong> 3277876141188</p>\n                  <p style="margin: 2px 0; font-size: 10px;"><strong>NTN #</strong> 7555850-8</p>\n                  <p style="margin: 2px 0; font-size: 10px;"><strong>Phone Number</strong> 021-36404043</p>\n                </div>\n              </div>\n              \n              <div class="title-section">\n                <h1>PAYMENT INVOICE</h1>\n              </div>\n            \n              <div class="invoice-info">\n                <div class="invoice-info-left">\n                  <div><span class="label">Invoice No :</span> ${a.invoice_number}</div>\n                </div>\n                <div class="invoice-info-right">\n                  <div><span class="label">Invoice Date:</span> ${a.bill_date?new Date(a.bill_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}</div>\n                  <div style="border: 2px solid #333; display: inline-block; padding: 6px 16px; margin-top: 8px; font-size: 10px;">\n                    <div style="font-weight: bold;">ORIGINAL \u2713</div>\n                    <div style="border-top: 1px solid #666; margin-top: 4px; padding-top: 4px;">DUPLICATE</div>\n                  </div>\n                </div>\n              </div>\n            \n              \x3c!-- BUYER'S PARTICULARS SECTION - Simplified to only customer details --\x3e\n              <div class="buyer-section">\n                <h3 style="text-decoration: underline;">Buyer's Particulars :</h3>\n                <div class="buyer-grid">\n                  <div><span class="label">Company Name :</span> <strong>${a.customer_name||"MH"}</strong></div>\n                  <div><span class="label">Address :</span> ${a.address||"Floor Shan Residency SB-44 Block-K North Nazimabad karachi"}</div>\n                  <div><span class="label">Sales Tax Reg No :</span> ${a.st_reg_no||"32-77-8761-411-88"}</div>\n                  <div><span class="label">Phone Number :</span> ${a.p_number||"0333-1234567"}</div>\n                  <div><span class="label">National Tax No :</span> ${a.ntn_number||"7555850-8"}</div>\n                  <div><span class="label">Terms of Sale:</span> ${a.terms_of_payment||(null!=a.payment_days?"Payment due within "+a.payment_days+" days":"Within 15 days")}</div>\n                </div>\n              </div>\n      \n              <table class="invoice-table">\n                <thead>\n                  <tr>\n                    <th>S.No</th>\n                    <th>Description of Goods</th>\n                    <th>Quantity</th>\n                    <th>Net Weight (KG)</th>\n                    <th>Price</th>\n                    <th>Value Ex-Sales Tax</th>\n                    <th>Sales Tax %</th>\n                    <th>Sales Tax Amount</th>\n                    <th>Value Inc Sales tax</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  ${a.items&&a.items.length>0?a.items.map(((e,t)=>{const n=parseFloat(e.amount||0),r=parseFloat(a.tax_rate||0),i=n*(r/100),o=n-i;return`\n                      <tr>\n                        <td class="text-center"><strong>${t+1}</strong></td>\n                        <td class="text-left">${e.description||"N/A"}${e.specifications?"<br><small>"+e.specifications+"</small>":""}</td>\n                        <td class="text-center">${parseFloat(e.quantity||0).toLocaleString()}</td>\n                        <td class="text-center">${parseFloat(e.net_weight||0).toLocaleString("en-US",{minimumFractionDigits:2})} KG</td>\n                        <td class="text-right">${parseFloat(e.rate||0).toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                        <td class="text-right">${o.toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                        <td class="text-center">${r.toFixed(2)}%</td>\n                        <td class="text-right">${i.toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                        <td class="text-right"><strong>${n.toLocaleString("en-US",{minimumFractionDigits:2})}</strong></td>\n                      </tr>\n                    `})).join(""):`\n                      <tr>\n                        <td class="text-center"><strong>1</strong></td>\n                        <td class="text-left">${a.item_name||"N/A"}</td>\n                        <td class="text-center">${parseFloat(a.quantity||0).toLocaleString()}</td>\n                        <td class="text-center">${parseFloat(a.net_weight||0).toLocaleString("en-US",{minimumFractionDigits:2})} KG</td>\n                        <td class="text-right">${parseFloat(a.rate||0).toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                        <td class="text-right">${(parseFloat(a.total_amount||0)-parseFloat(a.total_amount||0)*((a.tax_rate||0)/100)).toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                        <td class="text-center">${(a.tax_rate||0).toFixed(2)}%</td>\n                        <td class="text-right">${(parseFloat(a.total_amount||0)*((a.tax_rate||0)/100)).toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                        <td class="text-right"><strong>${parseFloat(a.total_amount||0).toLocaleString("en-US",{minimumFractionDigits:2})}</strong></td>\n                      </tr>\n                    `}\n                  <tr class="net-row">\n                    <td></td>\n                    <td class="text-left">NET AMOUNT RECEIVABLE</td>\n                    <td class="text-center">${a.items?a.items.reduce(((e,t)=>e+parseFloat(t.quantity||0)),0).toLocaleString():parseFloat(a.quantity||0).toLocaleString()}</td>\n                    <td class="text-center"><strong>${a.items?a.items.reduce(((e,t)=>e+parseFloat(t.net_weight||0)),0).toLocaleString("en-US",{minimumFractionDigits:2}):parseFloat(a.net_weight||0).toLocaleString("en-US",{minimumFractionDigits:2})} KG</strong></td>\n                    <td></td>\n                    <td class="text-right"><strong>${(()=>{const e=a.items&&a.items.length>0?a.items.reduce(((e,t)=>e+parseFloat(t.amount||0)),0):parseFloat(a.total_amount||0);return(e-e*(parseFloat(a.tax_rate||0)/100)).toLocaleString("en-US",{minimumFractionDigits:2})})()}</strong></td>\n                    <td></td>\n                    <td class="text-right"><strong>${((a.items&&a.items.length>0?a.items.reduce(((e,t)=>e+parseFloat(t.amount||0)),0):parseFloat(a.total_amount||0))*(parseFloat(a.tax_rate||0)/100)).toLocaleString("en-US",{minimumFractionDigits:2})}</strong></td>\n                    <td class="text-right"><strong>${(a.items&&a.items.length>0?a.items.reduce(((e,t)=>e+parseFloat(t.amount||0)),0):parseFloat(a.total_amount||0)).toLocaleString("en-US",{minimumFractionDigits:2})}</strong></td>\n                  </tr>\n                </tbody>\n              </table>\n            \n              <div class="amount-words">\n                <strong>Amount in words:</strong> <em style="text-transform: uppercase;">PKR ${Wj(a.total_amount||0)} ONLY </em>\n              </div>\n            \n              <div class="signatures">\n                <div class="signature-box">\n                  <div class="signature-line">Prepared By</div>\n                </div>\n                <div class="signature-box">\n                  <div class="signature-line">Authorized By</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </body>\n        </html>\n      `;e.document.write(t),e.document.close(),e.onload=()=>{setTimeout((()=>{e.print(),setTimeout((()=>{e.close()}),1e3)}),500)}}catch(l){console.error("Error generating PDF:",l),alert("Failed to generate PDF. Please try again.")}},className:"flex flex-row justify-center items-center px-5 py-2 gap-[10px] bg-[#1976D2] rounded-lg hover:bg-[#1565C0] transition-colors",children:[(0,Te.jsx)($j,{className:"w-5 h-5 text-white"}),(0,Te.jsx)("span",{className:"font-semibold text-[18px] text-white",children:"Print PDF"})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"xl:col-span-3",children:(0,Te.jsxs)("div",{ref:h,className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,Te.jsxs)("div",{className:"relative px-8 py-6 border-b border-gray-400",children:[(0,Te.jsxs)("div",{className:"relative z-10 text-center mb-4",children:[(0,Te.jsx)("div",{className:"flex justify-center mb-3",children:(0,Te.jsx)("img",{src:tt,alt:"A Rauf Textile",className:"h-32 w-auto object-contain",style:{maxWidth:"280px"}})}),(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,Te.jsx)("p",{className:"text-xs",children:"Deals in all kind of Greige & Dyed Fabric"}),(0,Te.jsx)("p",{className:"text-xs mt-1",children:"ROOM NO. 205 2ND FLOOR SALEHA CHAMBER, PLOT No. B-9/C-1 SITE KARACHI"}),(0,Te.jsxs)("p",{className:"text-xs mt-1",children:[(0,Te.jsx)("strong",{children:"STRN #"})," 3277876141188"]}),(0,Te.jsxs)("p",{className:"text-xs",children:[(0,Te.jsx)("strong",{children:"NTN #"})," 7555850-8"," "]}),(0,Te.jsxs)("p",{className:"text-xs",children:[(0,Te.jsx)("strong",{children:"Phone Number"})," 021-36404043"]})]})]}),(0,Te.jsx)("div",{className:"relative z-10 text-center mb-4 border-t border-gray-300 pt-4",children:(0,Te.jsx)("h1",{className:"text-xl font-bold text-gray-800 uppercase tracking-wide",children:"PAYMENT INVOICE"})}),(0,Te.jsx)("div",{className:"relative z-10 border-t border-gray-400 pt-4",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[(0,Te.jsx)("div",{className:"space-y-1 text-sm",children:(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-32",children:"Invoice No :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.invoice_number})]})}),(0,Te.jsx)("div",{className:"text-right space-y-1",children:(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsxs)("span",{className:"font-semibold text-gray-700",children:["Invoice Date:"," "]}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.bill_date?new Date(a.bill_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"})]})})]})}),(0,Te.jsxs)("div",{className:"relative z-10 border border-gray-400 p-4 mb-4",children:[(0,Te.jsx)("h3",{className:"font-bold text-gray-800 mb-3 underline text-sm",children:"Buyer's Particulars :"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-x-12 gap-y-3 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-48",children:"Company Name :"}),(0,Te.jsx)("span",{className:"text-gray-800 font-bold",children:a.company_name||"MH"})]}),(0,Te.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-48",children:"Sales Tax Reg No :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.st_reg_no||"32-77-8761-411-88"})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-48",children:"National Tax No :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.ntn_number||"7555850-8"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-[25%]",children:"Address :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.address||"Floor Shan Residency SB-44 Block-K North Nazimabad karachi"})]}),(0,Te.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-[25%]",children:"Phone Number :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.p_number||"0300-1234567"})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-[25%]",children:"Terms of Sale :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.terms_of_payment||(null!=a.payment_days?"Payment due within "+a.payment_days+" days":"Within 15 days")})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"px-8 py-6",children:[(0,Te.jsx)("div",{className:"mb-6",children:(0,Te.jsx)("div",{className:"overflow-x-auto border-2 border-gray-400",children:(0,Te.jsxs)("table",{className:"w-full border-collapse",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gray-200 border-b-2 border-gray-400",children:[(0,Te.jsx)("th",{className:"py-3 px-2 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"S.No"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Description of Goods"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Quantity"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Net Weight (KG)"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Price"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Value Ex-Sales Tax"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Sales Tax %"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Sales Tax Amount"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800",children:"Value Inc Sales tax"})]})}),(0,Te.jsxs)("tbody",{children:[a.items&&a.items.length>0?a.items.map(((e,t)=>{const n=parseFloat(e.amount||0),r=parseFloat(a.tax_rate||0),i=n*(r/100),o=n+i;return(0,Te.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,Te.jsx)("td",{className:"py-4 px-2 text-sm text-gray-800 text-center border-r border-gray-300 font-semibold",children:t+1}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm text-gray-800 border-r border-gray-300",children:[(0,Te.jsx)("div",{className:"font-medium",children:e.description||"N/A"}),e.specifications&&(0,Te.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.specifications})]}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:parseFloat(e.quantity||0).toLocaleString()}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:[parseFloat(e.net_weight||0).toLocaleString("en-US",{minimumFractionDigits:2})," ","KG"]}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-right border-r border-gray-300",children:parseFloat(e.rate||0).toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-right border-r border-gray-300",children:n.toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:[r.toFixed(2),"%"]}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-right border-r border-gray-300",children:i.toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm font-semibold text-gray-900 text-right",children:o.toLocaleString("en-US",{minimumFractionDigits:2})})]},e.id||t)})):(()=>{const e=parseFloat(a.total_amount||0),t=parseFloat(a.tax_rate||0),n=e/(1+t/100),r=e-n;return(0,Te.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,Te.jsx)("td",{className:"py-4 px-2 text-sm text-gray-800 text-center border-r border-gray-300 font-semibold",children:"1"}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 border-r border-gray-300",children:(0,Te.jsx)("div",{className:"font-medium",children:a.item_name||"N/A"})}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:parseFloat(a.quantity||0).toLocaleString()}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:[parseFloat(a.net_weight||0).toLocaleString("en-US",{minimumFractionDigits:2})," ","KG"]}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-right border-r border-gray-300",children:parseFloat(a.rate||0).toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-right border-r border-gray-300",children:n.toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:[t.toFixed(2),"%"]}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-right border-r border-gray-300",children:r.toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm font-semibold text-gray-900 text-right",children:e.toLocaleString("en-US",{minimumFractionDigits:2})})]})})(),(()=>{const e=a.items&&a.items.length>0?a.items.reduce(((e,t)=>e+parseFloat(t.amount||0)),0):parseFloat(a.subtotal||0),t=e*(parseFloat(a.tax_rate||0)/100),n=e+t;return(0,Te.jsxs)("tr",{className:"bg-gray-100 border-t-2 border-gray-400",children:[(0,Te.jsx)("td",{className:"py-3 px-2 border-r border-gray-300"}),(0,Te.jsx)("td",{className:"py-3 px-3 text-sm font-bold text-gray-800 border-r border-gray-300",children:"NET AMOUNT RECEIVABLE"}),(0,Te.jsx)("td",{className:"py-3 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:a.items?a.items.reduce(((e,t)=>e+parseFloat(t.quantity||0)),0).toLocaleString():parseFloat(a.quantity||0).toLocaleString()}),(0,Te.jsxs)("td",{className:"py-3 px-3 text-sm font-bold text-gray-900 text-center border-r border-gray-300",children:[a.items?a.items.reduce(((e,t)=>e+parseFloat(t.net_weight||0)),0).toLocaleString("en-US",{minimumFractionDigits:2}):parseFloat(a.net_weight||0).toLocaleString("en-US",{minimumFractionDigits:2})," ","KG"]}),(0,Te.jsx)("td",{className:"py-3 px-3 border-r border-gray-300"}),(0,Te.jsx)("td",{className:"py-3 px-3 text-sm font-bold text-gray-900 text-right border-r border-gray-300",children:e.toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsx)("td",{className:"py-3 px-3 border-r border-gray-300"}),(0,Te.jsx)("td",{className:"py-3 px-3 text-sm font-bold text-gray-900 text-right border-r border-gray-300",children:t.toLocaleString("en-US",{minimumFractionDigits:2})}),(0,Te.jsx)("td",{className:"py-3 px-3 text-sm font-bold text-gray-900 text-right",children:n.toLocaleString("en-US",{minimumFractionDigits:2})})]})})()]})]})})}),(0,Te.jsx)("div",{className:"mb-6 border border-gray-300 p-4",children:(0,Te.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-800",children:"Amount in words:"}),(0,Te.jsxs)("span",{className:"text-gray-700 italic uppercase",children:["PKR ",Wj(a.total_amount||0)," ONLY"]})]})}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-8 border-t-2 border-gray-300 pt-6",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"h-16 mb-2"}),(0,Te.jsx)("div",{className:"border-t border-gray-400 pt-2",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Prepared By"})})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"h-16 mb-2"}),(0,Te.jsx)("div",{className:"border-t border-gray-400 pt-2",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Authorized By"})})]})]})]}),(0,Te.jsx)("div",{className:"relative z-10 bg-[#E8D5A8] text-center py-3 rounded-b-lg border-t-2 border-gray-400",children:(0,Te.jsx)("p",{className:"text-xs text-gray-700 mt-1",children:"Deals in all kind of Greige & Dyed Fabric"})})]})}),(0,Te.jsxs)("div",{className:"xl:col-span-1",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mb-6",children:[(0,Te.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Te.jsx)("h3",{className:"font-semibold text-gray-900",children:"Invoice Status"})}),(0,Te.jsxs)("div",{className:"p-4",children:[(0,Te.jsx)("div",{className:"inline-flex items-center px-3 py-2 rounded-lg font-medium "+("Paid"===a.status?"bg-green-100 text-green-800":"Sent"===a.status?"bg-yellow-100 text-yellow-800":"Not Sent"===a.status?"bg-orange-100 text-orange-800":"Overdue"===a.status?"bg-red-100 text-red-800":"Pending"===a.status?"bg-yellow-100 text-yellow-800":(a.status,"bg-gray-100 text-gray-800")),children:a.status||"Not Sent"}),f&&(0,Te.jsxs)("div",{className:"mt-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Status"}),(0,Te.jsxs)("select",{value:a.status||"Not Sent",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,Te.jsx)("option",{value:"Not Sent",children:"Not Sent"}),(0,Te.jsx)("option",{value:"Draft",children:"Draft"}),(0,Te.jsx)("option",{value:"Sent",children:"Sent"}),(0,Te.jsx)("option",{value:"Paid",children:"Paid"}),(0,Te.jsx)("option",{value:"Overdue",children:"Overdue"})]})]}),f&&("Not Sent"===a.status||"Draft"===a.status)&&(0,Te.jsx)("div",{className:"mt-4",children:(0,Te.jsxs)("button",{onClick:()=>p({target:{value:"Sent"}}),className:"w-full flex items-center justify-center gap-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[(0,Te.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,Te.jsx)("span",{children:"Send Invoice"})]})}),f&&(0,Te.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,Te.jsxs)("button",{onClick:async()=>{const t=`Are you sure you want to delete PO invoice ${a.invoice_number}?\n\nThis will:\n- Remove the invoice from the system permanently\n- Restore ${a.currency||"PKR"} ${parseFloat(a.total_amount||0).toLocaleString()} to PO ${a.po_number}\n- Add deletion record to PO history for tracking\n\nThis action cannot be undone.`;if(window.confirm(t))try{const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete invoice: ${t.statusText}`);const r=await t.json();alert(`PO Invoice deleted successfully!\n\n${r.poUpdate.message}\n\nRedirecting to invoices list...`),n("/invoices")}catch(l){console.error("Error deleting PO invoice:",l),alert(`Failed to delete PO invoice: ${l.message}`)}},className:"w-full flex items-center justify-center gap-2 py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[(0,Te.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Te.jsx)("span",{children:"Delete PO Invoice"})]})}),(0,Te.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Te.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Total Amount Due"}),(0,Te.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[a.currency||"PKR"," ",parseFloat(a.total_amount||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-100 shadow-sm rounded-lg p-6",children:[(0,Te.jsx)("h3",{className:"font-semibold text-[#333843] mb-4 text-center",children:f?"Draft"===a.status?"PO Invoice Draft":`PO Invoice ${a.status}`:a.is_sent?"Invoice sent!":"Invoice not yet sent!"}),!f&&(0,Te.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#1976D2] text-white rounded-lg hover:bg-[#1565C0] transition-colors",children:[(0,Te.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Te.jsx)("path",{d:"M18.3334 9.99935L1.66675 9.99935M18.3334 9.99935L11.6667 16.666M18.3334 9.99935L11.6667 3.33268",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Te.jsx)("span",{className:"font-semibold",children:"Send Invoice"})]}),f&&(0,Te.jsxs)("button",{onClick:()=>n(`/purchase-order/${a.po_number}`),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[#1976D2] text-white rounded-lg hover:bg-[#1565C0] transition-colors",children:[(0,Te.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Te.jsx)("path",{d:"M18.3334 9.99935L1.66675 9.99935M18.3334 9.99935L11.6667 16.666M18.3334 9.99935L11.6667 3.33268",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Te.jsx)("span",{className:"font-semibold",children:"View Purchase Order"})]})]}),u&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 mt-6 p-6",children:[(0,Te.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payment History"}),(0,Te.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,Te.jsx)("p",{className:"text-sm",children:"No payment history available"})})]})]})]})]})]})]}):(0,Te.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-gray-500 mb-4",children:"Invoice not found"}),(0,Te.jsx)("button",{onClick:()=>n("/invoices"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Back to Invoices"})]})})},Kj=qe("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Vj=qe("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Gj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=`PI${(new Date).getFullYear().toString().slice(-2)}-`;let n=0;e.forEach((e=>{const r=e.invoice_number||e.bill_id;if(r&&r.startsWith(t)){const e=r.substring(t.length),a=parseInt(e);!isNaN(a)&&a>n&&(n=a)}}));const r=(n+1).toString().padStart(3,"0"),a=`${t}${r}`;let i=1,o=a;for(;e.some((e=>e.invoice_number===o||e.bill_id===o));)o=`${a}-${i}`,i++;return o},Yj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)return Gj(t);const n=e[0],r=n.invoice_number||n.bill_id;if(!r)return Gj(t);let a=r;const i=r.split("-");i.length>2&&(a=i.slice(0,2).join("-"));let o=0;e.forEach((e=>{const t=e.invoice_number||e.bill_id;if(t&&t.startsWith(a)){const e=t.split("-");if(e.length>2){const t=parseInt(e[2]);!isNaN(t)&&t>o&&(o=t)}else 2===e.length&&(o=Math.max(o,0))}}));const s=o+1;let l=1,c=`${a}-${s}`;for(;t.some((e=>e.invoice_number===c||e.bill_id===c));)c=`${a}-${s+l}`,l++;return c},Xj=e=>{let{onViewDetails:t,openEditPOId:n=null}=e;const[a,i]=(0,r.useState)([]),[o,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(1),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)("All"),[x,b]=(0,r.useState)({supplier:"",minAmount:"",maxAmount:"",dateFrom:"",dateTo:""}),[v,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[k,P]=(0,r.useState)(!1),[A,E]=(0,r.useState)(null),[O,C]=(0,r.useState)({}),[T,L]=(0,r.useState)(!1),[D,F]=(0,r.useState)(null),[I,R]=(0,r.useState)([]),[M,B]=(0,r.useState)(!1),[z,U]=(0,r.useState)([]),q=(0,r.useRef)(null),$=(0,r.useRef)(null),W=St((()=>{k&&(P(!1),_(null))}),k),H=St((()=>{T&&(L(!1),F(null))}),T),K=async()=>{try{s(!0),console.debug("Fetching purchase orders from API...");const e=await fetch(Ge.PURCHASE_ORDERS.LIST);if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();console.debug("API Response:",t);const n=t.map((e=>({id:e.po_number||e.id,date:e.po_date,supplier:e.supplier_name,totalAmount:parseFloat(e.total_amount)||0,currency:e.currency||"PKR",status:e.status,items:e.items_count||0,originalData:e})));i(n),c(null),console.debug("Transformed data:",n),await V()}catch(l){console.error("Error fetching purchase orders:",l),c(`Failed to load purchase orders: ${l.message}`),Y("Error",`Failed to load purchase orders: ${l.message}`,"error")}finally{s(!1)}},V=async()=>{try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-summaries`);if(e.ok){const t=await e.json(),n={};t.forEach((e=>{n[e.po_number]=e})),C(n)}}catch(l){console.error("Error fetching PO summaries:",l)}};(0,r.useEffect)((()=>{K()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customertable`);if(e.ok){const t=await e.json();U(t)}}catch(l){console.error("Error fetching customers:",l)}})()}),[]),(0,r.useEffect)((()=>{if(!n)return;if(0===a.length)return;const e=a.find((e=>{var t;const r=(e.id||"").toString(),a=((null===(t=e.originalData)||void 0===t?void 0:t.po_number)||"").toString();return r===n.toString()||a===n.toString()}));e?se(e):(async()=>{try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${n}`);if(!e.ok)return;const t=await e.json(),r={id:t.po_number||t.id,date:t.po_date,supplier:t.supplier_name,totalAmount:parseFloat(t.total_amount)||0,currency:t.currency||"PKR",status:t.status,items:t.items_count||0,originalData:t};se(r)}catch(e){console.error("Failed to auto-open PO edit for",n,e)}})()}),[n,a]);const G=(()=>{const e=a.filter((e=>{var t;return e.id.toLowerCase().includes(p.toLowerCase())||e.supplier.toLowerCase().includes(p.toLowerCase())||((null===(t=e.originalData)||void 0===t?void 0:t.po_number)||"").toLowerCase().includes(p.toLowerCase())})).filter((e=>(!x.supplier||e.supplier.toLowerCase().includes(x.supplier.toLowerCase()))&&(!x.minAmount||e.totalAmount>=parseFloat(x.minAmount))&&(!x.maxAmount||e.totalAmount<=parseFloat(x.maxAmount))&&(!x.dateFrom||new Date(e.date)>=new Date(x.dateFrom))&&(!x.dateTo||new Date(e.date)<=new Date(x.dateTo)))),t=new Set;e.forEach((e=>{if("Completed"===e.status)return void t.add(e.id);const n=O[e.id];if(n&&n.po_total_amount){n.total_invoiced_amount/n.po_total_amount*100>=100&&t.add(e.id)}}));const n=e.filter((e=>!t.has(e.id)&&"Draft"===e.status)).length,r=e.filter((e=>!t.has(e.id)&&"Pending"===e.status)).length,i=e.filter((e=>!t.has(e.id)&&"Approved"===e.status)).length,o=e.filter((e=>t.has(e.id))).length;return{All:n+r+i+o,Draft:n,Pending:r,Approved:i,Completed:o}})(),Y=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;E({title:e,description:t,type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success"}),setTimeout((()=>E(null)),n)},X=e=>{switch(e){case"Draft":default:return"bg-gray-100 text-gray-800";case"Pending":return"bg-orange-100 text-orange-800";case"Approved":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800"}},Q=e=>{const t=O[e];if(!t)return{status:"Not Invoiced",color:"gray",percentage:0};const n=t.po_total_amount>0?t.total_invoiced_amount/t.po_total_amount*100:0;return n>=100?{status:"Fully Invoiced",color:"green",percentage:100}:n>0?{status:"Partially Invoiced",color:"blue",percentage:Math.round(n)}:{status:"Not Invoiced",color:"gray",percentage:0}},J=e=>{const t="string"===typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},Z=a.filter((e=>{var t;return e.id.toLowerCase().includes(p.toLowerCase())||e.supplier.toLowerCase().includes(p.toLowerCase())||((null===(t=e.originalData)||void 0===t?void 0:t.po_number)||"").toLowerCase().includes(p.toLowerCase())})).filter((e=>{if("All"===g)return!0;if("Completed"===g){const t=O[e.id],n=(t&&t.po_total_amount>0?t.total_invoiced_amount/t.po_total_amount*100:0)>=100;return"Completed"===e.status||n}return e.status===g})).filter((e=>{const t=e.date?new Date(new Date(e.date).setHours(0,0,0,0)):null,n=x.dateFrom?new Date(new Date(x.dateFrom).setHours(0,0,0,0)):null,r=x.dateTo?new Date(new Date(x.dateTo).setHours(23,59,59,999)):null;return(!x.supplier||e.supplier.toLowerCase().includes(x.supplier.toLowerCase()))&&(!x.minAmount||e.totalAmount>=parseFloat(x.minAmount))&&(!x.maxAmount||e.totalAmount<=parseFloat(x.maxAmount))&&(!n||t&&t>=n)&&(!r||t&&t<=r)})),ee=Z.slice().sort(((e,t)=>{const n=O[e.id],r=O[t.id],a=(e,t)=>{const n="Completed"===e.status,r=t&&t.po_total_amount?Number(t.po_total_amount):0,a=t&&t.total_invoiced_amount?Number(t.total_invoiced_amount):0;if(n||r>0&&a>=r)return 2;return(r>0?a/r*100:0)>0?1:0},i=a(e,n),o=a(t,r);if(i!==o)return i-o;if(2===i){const e=n&&n.last_invoice_date?new Date(n.last_invoice_date).getTime():0;return(r&&r.last_invoice_date?new Date(r.last_invoice_date).getTime():0)-e}const s=e.date?new Date(e.date).getTime():0;return(t.date?new Date(t.date).getTime():0)-s})),te=Math.ceil(ee.length/10),ne=10*(h-1),re=ee.slice(ne,ne+10);(0,r.useEffect)((()=>{0!==te?h>te&&f(te):1!==h&&f(1)}),[te]);const ae=[];if(te<=10)for(let r=1;r<=te;r++)ae.push(r);else{const e=Math.floor(5);let t=Math.max(1,h-e),n=t+10-1;n>te&&(n=te,t=n-10+1),t>1&&(ae.push(1),t>2&&ae.push("..."));for(let r=t;r<=n;r++)ae.push(r);n<te&&(n<te-1&&ae.push("..."),ae.push(te))}const ie=e=>{e>=1&&e<=te&&(f(e),d([]))},oe=e=>{const{name:t,value:n}=e.target;b((e=>({...e,[t]:n})))},se=async e=>{try{var t;console.debug("handleEdit: Editing PO:",e);const n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${(null===(t=e.originalData)||void 0===t?void 0:t.id)||e.id}`);if(!n.ok)throw new Error("Failed to fetch PO details");const r=await n.json();console.debug("handleEdit: Complete PO data from server:",r);const a={...r,id:e.id,totalAmount:e.totalAmount};console.debug("handleEdit: Setting editingPO to:",a),_(a),P(!0)}catch(l){console.error("Error fetching PO details for editing:",l),Y("Error","Failed to load PO details for editing","error")}N(null)},le=async e=>{if(window.confirm(`\u26a0\ufe0f PERMANENT DELETE \u26a0\ufe0f\n\nThis will completely remove PO ${e.id} from the database.\nThis action CANNOT be undone!\n\nAre you absolutely sure?`))try{var t;const n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${(null===(t=e.originalData)||void 0===t?void 0:t.id)||e.id}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to permanently delete PO: ${n.statusText}`);Y("PO Permanently Deleted",`Purchase Order ${e.id} has been permanently removed`,"error"),K()}catch(l){console.error("Error permanently deleting PO:",l),Y("Error",`Failed to permanently delete PO: ${l.message}`,"error")}N(null)},ce=()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Date,n=`PO${t.getFullYear().toString().slice(-2)}-${t.getMonth()+1}-`;let r=0;e.forEach((e=>{const t=e.id||e.po_number;if(t&&t.startsWith(n)){const e=t.substring(n.length),a=parseInt(e);!isNaN(a)&&a>r&&(r=a)}}));const a=(r+1).toString().padStart(3,"0"),i=`${n}${a}`;let o=1,s=i;for(;e.some((e=>e.id===s||e.po_number===s));)s=`${i}-${o}`,o++;return s}(a);(0,r.useEffect)((()=>{const e=e=>{$.current&&$.current.contains(e.target)||q.current&&!q.current.contains(e.target)&&N(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const ue=()=>{const e=D?Q(D.id):null,t=D?O[D.id]:null;return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{ref:H,className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Te.jsxs)("h2",{className:"text-xl font-semibold",children:["Invoice History - ",null===D||void 0===D?void 0:D.id]}),(0,Te.jsx)("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(ut,{className:"w-6 h-6"})})]}),(0,Te.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,Te.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"PO Total"}),(0,Te.jsx)("div",{className:"font-semibold text-lg",children:D&&J(D.totalAmount)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Total Invoiced"}),(0,Te.jsx)("div",{className:"font-semibold text-lg text-blue-600",children:J(t?t.total_invoiced_amount:0)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Remaining"}),(0,Te.jsx)("div",{className:"font-semibold text-lg text-green-600",children:J(t?t.remaining_amount:(null===D||void 0===D?void 0:D.totalAmount)||0)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Status"}),(0,Te.jsx)("div",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-semibold rounded-full "+("green"===(null===e||void 0===e?void 0:e.color)?"bg-green-100 text-green-800":"blue"===(null===e||void 0===e?void 0:e.color)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:(null===e||void 0===e?void 0:e.status)||"Not Invoiced"})]})]})}),(0,Te.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice Number"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Person Name"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:M?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,Te.jsx)("span",{children:"Loading invoice history..."})]})})}):0===I.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No invoices created for this Purchase Order yet"})}):I.map((e=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.invoice_number}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.invoice_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(e.total_amount)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,Te.jsx)("span",{className:"px-2 py-1 inline-flex items-center justify-center text-xs leading-5 font-semibold rounded-full "+("Paid"===e.status?"bg-green-100 text-green-800":"Sent"===e.status?"bg-blue-100 text-blue-800":"Overdue"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.customer_name})]},e.id)))})]})}),(0,Te.jsx)("div",{className:"flex justify-end mt-6",children:(0,Te.jsx)("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Close"})})]})})},de=()=>{const[e,t]=(0,r.useState)(S||{}),[n,a]=(0,r.useState)([{item_no:1,description:"",quantity:1,unit:"pcs",unit_price:0,amount:0,specifications:""}]),[o,s]=(0,r.useState)(0),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1);(0,r.useEffect)((()=>{let e=!1;const n=e=>Array.isArray(e)&&0!==e.length?e.map(((e,t)=>({item_no:e.item_no||e.id||t+1,description:e.description||e.desc||e.description_text||"",quantity:parseFloat(null!=e.quantity?e.quantity:e.qty||1)||0,unit:e.unit||"pcs",net_weight:parseFloat(null!=e.net_weight?e.net_weight:0)||0,unit_price:parseFloat(null!=e.unit_price?e.unit_price:e.unitPrice||e.rate||0)||0,amount:parseFloat(null!=e.amount?e.amount:e.total||(e.quantity||1)*(e.unit_price||e.unitPrice||e.rate||0))||0,specifications:e.specifications||e.specs||""}))):null;return(async()=>{if(S){console.debug("EditPOModal: Setting up for editing PO:",S);const r=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;try{const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${n}-${r}-${String(t.getDate()).padStart(2,"0")}`}catch(QC){return""}},i={...S,po_date:r(S.po_date||S.date),supplier_name:S.supplier_name||S.supplier||"",supplier_email:S.supplier_email||"",supplier_phone:S.supplier_phone||"",supplier_address:S.supplier_address||"",subtotal:parseFloat(S.subtotal)||0,tax_rate:parseFloat(S.tax_rate)||0,tax_amount:parseFloat(S.tax_amount)||0,total_amount:parseFloat(S.total_amount)||parseFloat(S.totalAmount)||0};t(i),s(parseFloat(S.tax_rate)||0),u(S.supplier_name||S.supplier||""),console.debug("EditPOModal: editingPO.items:",S.items);const o=n(S.items);if(console.debug("EditPOModal: Normalized items from editingPO:",o),o&&o.length>0)return console.debug("EditPOModal: Using items from editingPO"),void a(o);console.debug("EditPOModal: No items in editingPO, fetching from server...");const l=await(async e=>{try{const t=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${e}`;console.debug("EditPOModal: Fetching PO details from:",t);const r=await fetch(t);if(!r.ok)return console.warn("EditPOModal: Failed to fetch PO details, status:",r.status),null;const a=await r.json();return console.debug("EditPOModal: Received PO data:",a),console.debug("EditPOModal: PO items array:",a.items),n(a.items||[])}catch(t){return console.error("Failed to fetch PO items for edit modal:",t),null}})(S.id||S.databaseId||S.po_number);e||(console.debug("EditPOModal: Fetched items from server:",l),l&&l.length>0?(console.debug("EditPOModal: Setting fetched items"),a(l)):(console.debug("EditPOModal: No items found, using default empty item"),a([{item_no:1,description:"",quantity:1,unit:"pcs",net_weight:0,unit_price:0,amount:0}])))}else{const e=(new Date).toISOString().split("T")[0],n=ce();t({id:n,po_number:n,po_date:e,supplier_name:"",supplier_email:"",supplier_phone:"",supplier_address:"",subtotal:0,tax_rate:0,tax_amount:0,total_amount:0,currency:"PKR",status:"Draft",payment_days:30,notes:""}),s(0),u(""),a([{item_no:1,description:"",quantity:1,unit:"pcs",unit_price:0,amount:0}])}})(),()=>{e=!0}}),[S]);const f=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))},p=z.filter((e=>e.customer.toLowerCase().includes(c.toLowerCase())||e.company&&e.company.toLowerCase().includes(c.toLowerCase())||e.email&&e.email.toLowerCase().includes(c.toLowerCase()))),m=(e,r,i)=>{const s=[...n];if(s[e]={...s[e],[r]:i},"quantity"===r||"unit_price"===r){const t="quantity"===r?parseFloat(i)||0:s[e].quantity,n="unit_price"===r?parseFloat(i)||0:s[e].unit_price;s[e].amount=t*n}a(s);const l=s.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),c=l*(parseFloat(o)/100),u=l+c;t((e=>({...e,subtotal:parseFloat(l.toFixed(2)),tax_amount:parseFloat(c.toFixed(2)),total_amount:parseFloat(u.toFixed(2)),items:s.length})))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{ref:W,className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold mb-4",children:S?"Edit Purchase Order":"Create New Purchase Order"}),(0,Te.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!e.po_number||!e.supplier_name)return void alert("Please fill in all required fields: PO Number and Supplier Name");const r=n.filter((e=>e.description&&""!==e.description.trim()&&e.quantity>0&&e.unit_price>=0));if(0===r.length)return void alert("Please add at least one valid item with description & specifications, quantity, and unit price");const a={...e,items:r.map(((e,t)=>({...e,item_no:t+1})))};console.debug("Submitting PO data:",a),(async e=>{console.debug("Saving PO:",e);try{const n=S&&S.id,r=n?`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${S.id}`:`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders`,a=n?"PUT":"POST",o={po_number:e.po_number||e.id,po_date:e.po_date||e.date,supplier_name:e.supplier_name||e.supplier,supplier_email:e.supplier_email||"",supplier_phone:e.supplier_phone||"",supplier_address:e.supplier_address||"",subtotal:e.subtotal||0,tax_rate:e.tax_rate||0,tax_amount:e.tax_amount||0,total_amount:e.total_amount||e.totalAmount||0,currency:e.currency||"PKR",status:e.status||"Draft",payment_days:e.payment_days||30,notes:e.notes||"",items:e.items||[]};console.debug("Sending to backend:",o);const s=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!s.ok){const e=await s.text();throw new Error(`HTTP ${s.status}: ${e}`)}const l=await s.json();if(console.debug("Backend response:",l),n)i((e=>e.map((e=>{var t;return e.id===S.id?{...e,...l.purchase_order,id:l.purchase_order.po_number,date:l.purchase_order.po_date,supplier:l.purchase_order.supplier_name,totalAmount:l.purchase_order.total_amount,items:(null===(t=l.purchase_order.items)||void 0===t?void 0:t.length)||0}:e})))),Y("PO Updated",`Purchase Order ${l.purchase_order.po_number} has been updated successfully`);else{var t;const e={id:l.purchase_order.po_number,date:l.purchase_order.po_date,supplier:l.purchase_order.supplier_name,totalAmount:l.purchase_order.total_amount,currency:l.purchase_order.currency,status:l.purchase_order.status,items:(null===(t=l.purchase_order.items)||void 0===t?void 0:t.length)||0};i((t=>[...t,e])),Y("PO Created",`Purchase Order ${l.purchase_order.po_number} has been created successfully`)}P(!1),_(null),K()}catch(l){console.error("Error saving PO:",l),Y("Error",`Failed to save purchase order: ${l.message}`,"error")}})(a)},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("label",{className:"block text-gray-700 font-medium mb-2",children:["PO Number * ",!S&&(0,Te.jsx)("span",{className:"text-xs text-green-600",children:"(Auto-generated)"})]}),(0,Te.jsx)("input",{type:"text",name:"po_number",value:e.po_number||e.id||"",readOnly:!0,disabled:!!S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed focus:outline-none",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"PO Date"}),(0,Te.jsx)("input",{type:"date",name:"po_date",value:e.po_date||"",onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Supplier Information"}),(0,Te.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Supplier Name *"}),(0,Te.jsx)("input",{type:"text",value:c,onChange:e=>{const n=e.target.value;u(n),h(!0),t((e=>({...e,supplier_name:n,supplier_email:"",supplier_phone:"",supplier_address:""})))},onFocus:()=>{z.length>0&&h(!0)},onBlur:()=>{setTimeout((()=>h(!1)),200)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,placeholder:0===z.length?"Loading suppliers...":"Type supplier name to search...",disabled:0===z.length}),d&&(0,Te.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[p.map((e=>(0,Te.jsx)("div",{onClick:()=>(e=>{u(e.customer),h(!1),t((t=>({...t,supplier_name:e.customer,supplier_email:e.email||"",supplier_phone:e.phone||"",supplier_address:e.address||""})))})(e),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:e.customer.charAt(0).toUpperCase()})}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900 truncate",children:e.customer}),e.company&&(0,Te.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.company}),(0,Te.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.email}),e.phone&&(0,Te.jsx)("div",{className:"text-xs text-gray-400",children:e.phone})]})]})},e.customer_id))),0===p.length&&c.length>0&&(0,Te.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,Te.jsx)("div",{className:"text-sm",children:"No suppliers found"}),(0,Te.jsx)("div",{className:"text-xs text-gray-400",children:"Try a different search term or create a new contact person"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Supplier Email"}),(0,Te.jsx)("input",{type:"email",name:"supplier_email",value:e.supplier_email||"",onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Supplier Phone"}),(0,Te.jsx)("input",{type:"tel",name:"supplier_phone",value:e.supplier_phone||"",onChange:e=>{const t=e.target.value.replace(/[^0-9\-\+\(\)\s]/g,"");f({target:{name:"supplier_phone",value:t}})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Supplier Address"}),(0,Te.jsx)("input",{type:"text",name:"supplier_address",value:e.supplier_address||"",onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-700",children:"Purchase Order Items"}),(0,Te.jsx)("button",{type:"button",onClick:()=>{const e=n.length+1;a([...n,{item_no:e,description:"",quantity:1,unit:"pcs",net_weight:0,unit_price:0,amount:0}])},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"+ Add Item"})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gray-200",children:[(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-3 text-left text-sm font-medium",children:"Item #"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-3 text-left text-sm font-medium",children:"Item Description & Specifications *"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-3 text-left text-sm font-medium",children:"Quantity"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-3 text-left text-sm font-medium",children:"Net Weight (KG)"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-3 text-left text-sm font-medium",children:"Rate (PKR)"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-3 text-left text-sm font-medium",children:"Amount (PKR)"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-3 text-center text-sm font-medium"})]})}),(0,Te.jsx)("tbody",{children:n.map(((e,r)=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-3 text-center",children:(0,Te.jsx)("span",{className:"font-medium text-gray-700",children:e.item_no})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-3",children:(0,Te.jsx)("textarea",{value:e.description,onChange:e=>m(r,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none",rows:"3",placeholder:"Enter item description and specifications...",required:!0})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.quantity,onChange:e=>m(r,"quantity",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",step:"1",required:!0})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.net_weight||"",onChange:e=>m(r,"net_weight",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",step:"0.01",placeholder:"0.00"})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-3",children:(0,Te.jsx)("input",{type:"number",value:e.unit_price,onChange:e=>m(r,"unit_price",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",step:"0.01",required:!0})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-3 text-right",children:(0,Te.jsx)("span",{className:"font-bold text-gray-800",children:(e.amount||0).toLocaleString("en-PK",{minimumFractionDigits:2,maximumFractionDigits:2})})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-3 text-center",children:n.length>1&&(0,Te.jsx)("button",{type:"button",onClick:()=>(e=>{if(n.length>1){const r=n.filter(((t,n)=>n!==e)),i=r.map(((e,t)=>({...e,item_no:t+1})));a(i);const s=i.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),l=s*(parseFloat(o)/100),c=s+l;t((e=>({...e,subtotal:parseFloat(s.toFixed(2)),tax_amount:parseFloat(l.toFixed(2)),total_amount:parseFloat(c.toFixed(2)),items:i.length})))}})(r),className:"text-red-600 hover:text-red-800 text-lg font-bold",title:"Remove Item",children:"\u2715"})})]},r)))})]})}),(0,Te.jsx)("div",{className:"mt-4 bg-white p-4 rounded-lg border",children:(0,Te.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,Te.jsx)("div",{className:"md:col-span-2"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsx)("span",{className:"font-medium text-gray-700",children:"Subtotal:"}),(0,Te.jsxs)("span",{className:"font-medium",children:["PKR ",(e.subtotal||0).toLocaleString("en-PK",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,Te.jsx)("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"font-medium text-gray-700",children:"Tax Rate:"}),(0,Te.jsx)("input",{type:"number",value:o,onChange:e=>{const r=parseFloat(e.target.value)||0;s(r);const a=n.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),i=a*(r/100),o=a+i;t((e=>({...e,tax_rate:r,subtotal:parseFloat(a.toFixed(2)),tax_amount:parseFloat(i.toFixed(2)),total_amount:parseFloat(o.toFixed(2))})))},className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",step:"0.5"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"%"})]})}),o>0&&(0,Te.jsx)("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:(0,Te.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Tax Rate Note:"})," A tax rate of ",(0,Te.jsxs)("span",{className:"font-bold text-blue-700",children:[o,"%"]})," is being applied on the subtotal amount of ",(0,Te.jsxs)("span",{className:"font-bold text-blue-700",children:["PKR ",(e.subtotal||0).toLocaleString("en-PK",{minimumFractionDigits:2})]}),"."]})}),(0,Te.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[(0,Te.jsx)("span",{className:"font-bold text-lg text-gray-800",children:"Total Amount:"}),(0,Te.jsxs)("span",{className:"font-bold text-lg text-blue-600",children:["PKR ",(e.total_amount||0).toLocaleString("en-PK",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})})]}),(0,Te.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Status"}),(0,Te.jsxs)("select",{name:"status",value:e.status||"Draft",onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"Draft",children:"Draft"}),(0,Te.jsx)("option",{value:"Pending",children:"Pending"}),(0,Te.jsx)("option",{value:"Approved",children:"Approved"}),(0,Te.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,Te.jsx)("div",{})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Payment Terms (Days)"}),(0,Te.jsx)("input",{type:"number",name:"payment_days",value:e.payment_days||30,onChange:f,min:"0",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"30"}),(0,Te.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'Number of days for payment (e.g., 30 for "Net 30")'})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Notes"}),(0,Te.jsx)("textarea",{name:"notes",value:e.notes||"",onChange:f,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add any additional notes or instructions"})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>{P(!1),_(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:S?"Update PO":"Create PO"})]})]})]})})};return(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-5",children:[A&&(0,Te.jsxs)("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded "+("error"===A.type?"bg-red-100 border border-red-400 text-red-700":"bg-green-100 border border-green-400 text-green-700"),children:[(0,Te.jsx)("div",{className:"font-bold",children:A.title}),(0,Te.jsx)("div",{children:A.description})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-5",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-lg sm:text-xl font-semibold",children:"Purchase Orders"}),(0,Te.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:u.length>0?`${u.length} selected`:"Manage all your purchase orders and suppliers"})]}),(0,Te.jsxs)("div",{className:"flex flex-col xs:flex-row gap-3 w-full sm:w-auto",children:[(0,Te.jsxs)("div",{className:"relative flex-grow",children:[(0,Te.jsx)(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search purchase orders...",className:"pl-10 pr-3 py-1.5 sm:py-2 border rounded-md text-xs sm:text-sm w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:e=>m(e.target.value)})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-[#1976D2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:bg-blue-600 transition-colors",onClick:()=>{_(null),P(!0)},children:[(0,Te.jsx)(bt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Create PO"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-green-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:bg-green-700 transition-colors",onClick:V,title:"Refresh Invoice Status",children:[(0,Te.jsx)(Sn,{className:"w-4 h-4"}),(0,Te.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-white border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-gray-50",onClick:()=>w(!v),children:[(0,Te.jsx)(vt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Filter"})]}),(0,Te.jsxs)("button",{className:"flex items-center gap-1 bg-white border rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-gray-50",children:[(0,Te.jsx)(Rt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Te.jsx)("span",{className:"hidden xs:inline",children:"Export"})]})]})]})]}),v&&(0,Te.jsxs)("div",{ref:$,className:"bg-gray-50 p-4 rounded-lg mb-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Supplier"}),(0,Te.jsx)("input",{type:"text",name:"supplier",className:"w-full p-2 border rounded-md text-xs",value:x.supplier,onChange:oe,onMouseDown:e=>e.stopPropagation(),placeholder:"Filter by supplier"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Min Amount"}),(0,Te.jsx)("input",{type:"number",name:"minAmount",value:x.minAmount,onChange:oe,onMouseDown:e=>e.stopPropagation(),className:"w-full p-2 border rounded-md text-xs",placeholder:"Minimum amount"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Max Amount"}),(0,Te.jsx)("input",{type:"number",name:"maxAmount",value:x.maxAmount,onChange:oe,onMouseDown:e=>e.stopPropagation(),className:"w-full p-2 border rounded-md text-xs",placeholder:"Maximum amount"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),(0,Te.jsx)("input",{type:"date",name:"dateFrom",value:x.dateFrom,onChange:oe,onMouseDown:e=>e.stopPropagation(),className:"w-full p-2 border rounded-md text-xs"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),(0,Te.jsx)("input",{type:"date",name:"dateTo",value:x.dateTo,onChange:oe,onMouseDown:e=>e.stopPropagation(),className:"w-full p-2 border rounded-md text-xs"})]}),(0,Te.jsx)("div",{className:"md:col-span-5 flex justify-end gap-2",children:(0,Te.jsx)("button",{onClick:()=>{b({supplier:"",minAmount:"",maxAmount:"",dateFrom:"",dateTo:""}),m(""),y("All"),f(1),Y("Filters Reset","All filters have been cleared")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm",children:"Reset Filters"})})]}),(0,Te.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,Te.jsx)("div",{className:"flex border-b w-max min-w-full",children:["All","Draft","Pending","Approved","Completed"].map((e=>(0,Te.jsx)("button",{className:"px-3 py-2 text-xs sm:text-sm font-medium whitespace-nowrap border-b-2 "+(g===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>{y(e),f(1)},children:(0,Te.jsxs)("span",{className:"flex items-center gap-1",children:[e,(0,Te.jsx)("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none rounded-full "+(g===e?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:G[e]})]})},e)))})}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsx)("div",{className:"relative min-w-full min-h-[350px]",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"sticky top-0 bg-white z-10",children:(0,Te.jsxs)("tr",{className:"text-center text-xs sm:text-sm font-normal text-black",children:[(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:re.length>0&&u.length===re.length,onChange:()=>{u.length===re.length?d([]):d(re.map((e=>e.id)))},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap text-left",children:"PO ID"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Date"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap text-left",children:"Supplier"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Amount"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Status"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap hidden md:table-cell",children:"Invoice Status"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap hidden sm:table-cell",children:"Remaining"}),(0,Te.jsx)("th",{className:"pb-3 px-2 whitespace-nowrap",children:"Action"})]})}),(0,Te.jsx)("tbody",{className:"text-center divide-y divide-gray-100",children:o?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"8",className:"py-8 text-center text-sm text-gray-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,Te.jsx)("span",{children:"Loading purchase orders..."})]})})}):l?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"8",className:"py-8 text-center text-sm text-red-500",children:(0,Te.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Te.jsx)("span",{children:l}),(0,Te.jsx)("button",{onClick:K,className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"Retry"})]})})}):0===Z.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"8",className:"py-4 text-center text-sm text-gray-500",children:"No purchase orders found matching your criteria"})}):re.map((e=>{const n=Q(e.id),r=O[e.id];return(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:u.includes(e.id),onChange:()=>{return t=e.id,void d((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"rounded text-blue-500 focus:ring-blue-500"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap text-left",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{children:e.id}),"Partially Invoiced"===n.status&&(0,Te.jsx)("div",{className:"flex items-center",children:(0,Te.jsx)(Tj,{className:"w-3 h-3 text-blue-500",title:"Invoice in Progress"})}),"Fully Invoiced"===n.status&&(0,Te.jsx)("div",{className:"flex items-center",children:(0,Te.jsx)(wn,{className:"w-3 h-3 text-green-500",title:"Fully Invoiced"})})]})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap",children:new Date(e.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-500 whitespace-nowrap text-left",children:(0,Te.jsx)("div",{className:"max-w-xs truncate",children:e.supplier})}),(0,Te.jsxs)("td",{className:"px-4 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:[e.currency," ",J("string"===typeof e.totalAmount?parseFloat(e.totalAmount):e.totalAmount)]}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-center",children:(0,Te.jsx)("span",{className:`px-2 py-1 inline-flex items-center justify-center text-xs font-semibold rounded-full ${X(e.status)}`,children:e.status})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap hidden md:table-cell",children:(0,Te.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,Te.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("green"===n.color?"bg-green-100 text-green-800":"blue"===n.color?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:n.status}),n.percentage>0&&(0,Te.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:(0,Te.jsx)("div",{className:"h-1.5 rounded-full "+("green"===n.color?"bg-green-500":"bg-blue-500"),style:{width:`${n.percentage}%`}})})]})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap hidden sm:table-cell",children:r?(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"font-medium",children:J(r.remaining_amount)}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500",children:["of ",J(r.po_total_amount)]})]}):(0,Te.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Te.jsx)("td",{className:"px-4 py-4 text-sm whitespace-nowrap relative",children:(0,Te.jsxs)("div",{className:"flex justify-center",children:[(0,Te.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:t=>((e,t)=>{t.stopPropagation(),N(j===e?null:e)})(e.id,t),children:(0,Te.jsx)(wt,{className:"h-5 w-5"})}),j===e.id&&(0,Te.jsx)("div",{ref:q,className:"absolute right-0 z-50 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200",children:(0,Te.jsxs)("div",{className:"py-1",children:[(0,Te.jsxs)("button",{onClick:()=>(e=>{t(e.id),N(null)})(e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(We,{className:"w-4 h-4 mr-2"}),"View Details"]}),"Cancelled"!==e.status&&(0,Te.jsxs)("button",{onClick:()=>se(e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Edit"]}),"Cancelled"!==e.status?(0,Te.jsxs)("button",{onClick:()=>le(e),className:"flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50 w-full text-left",children:[(0,Te.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Permanent Delete"]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm(`Are you sure you want to restore PO ${e.id}?`))try{var t,n;const r=(null===(t=e.originalData)||void 0===t?void 0:t.previous_status)||"Draft",a={...e.originalData,status:r,previous_status:null},i=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${(null===(n=e.originalData)||void 0===n?void 0:n.id)||e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok)throw new Error(`Failed to restore PO: ${i.statusText}`);await i.json(),Y("PO Restored",`Purchase Order ${e.id} has been restored to ${r}`),K(),await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-summaries`,{method:"GET"})}catch(l){console.error("Error restoring PO:",l),Y("Error",`Failed to restore PO: ${l.message}`,"error")}N(null)})(e),className:"flex items-center px-4 py-2 text-sm text-blue-700 hover:bg-blue-50 w-full text-left",children:[(0,Te.jsx)(Kj,{className:"w-4 h-4 mr-2"}),"Restore"]}),(0,Te.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Te.jsxs)("button",{onClick:()=>le(e),className:"flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50 w-full text-left",children:[(0,Te.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Permanent Delete"]})]}),(0,Te.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Te.jsxs)("button",{onClick:()=>(async e=>{F(e),B(!0),L(!0);try{const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${e.id}/invoices`);if(t.ok){const e=await t.json();R(e)}else R([]),Y("Info","No invoice history found for this PO","info")}catch(l){console.error("Error fetching invoice history:",l),R([]),Y("Error","Failed to load invoice history","error")}finally{B(!1)}N(null)})(e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,Te.jsx)(Vj,{className:"w-4 h-4 mr-2"}),"View History"]})]})})]})})]},e.id)}))})]})})}),Z.length>10&&(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 border-t border-gray-200 bg-white gap-3",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,Te.jsxs)("div",{children:["Showing ",ne+1,"-",Math.min(ne+10,Z.length)," of ",Z.length," purchase orders"]}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Page ",h," of ",te]})]}),(0,Te.jsxs)("div",{className:"flex gap-1",children:[(0,Te.jsx)("button",{onClick:()=>ie(1),disabled:1===h,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"First page",children:"First"}),(0,Te.jsx)("button",{onClick:()=>ie(h-1),disabled:1===h,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ae.map(((e,t)=>"..."===e?(0,Te.jsx)("span",{className:"px-3 py-1 text-sm text-gray-500",children:"..."},`ellipsis-${t}`):(0,Te.jsx)("button",{onClick:()=>ie(e),className:`px-3 py-1 text-sm rounded-md transition-colors ${h===e?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"} border`,children:e},e))),(0,Te.jsx)("button",{onClick:()=>ie(h+1),disabled:h===te,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}),(0,Te.jsx)("button",{onClick:()=>ie(te),disabled:h===te,className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Last page",children:"Last"})]})]}),k&&(0,Te.jsx)(de,{}),T&&(0,Te.jsx)(ue,{})]})},Qj=e=>{let{poId:t,onBack:n}=e;const[a,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)([]),[g,y]=(0,r.useState)(!1),x=(0,r.useRef)();(0,r.useEffect)((()=>{(async()=>{try{s(!0),console.debug("Fetching PO details for ID:",t);const e=await fetch(Ge.PURCHASE_ORDERS.GET(t));if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const n=await e.json();console.debug("PO Details API Response:",n);const r={id:n.id,databaseId:n.id,number:n.po_number||n.id,date:n.po_date,deliveryDate:n.delivery_date||new Date(Date.now()+864e6).toISOString().split("T")[0],supplier:{name:n.supplier_name||"N/A",company:n.supplier_name||"N/A",email:n.supplier_email||"N/A",phone:n.supplier_phone||"N/A",address:n.supplier_address||"N/A",taxId:"STR-123456789",ntn:"1234567-8"},items:(n.items||[]).map((e=>({id:e.id||e.item_no||1,description:e.description||"N/A",quantity:e.quantity||0,unit:e.unit||"pcs",netWeight:e.net_weight||0,unitPrice:e.unit_price||e.unitPrice||0,total:e.amount||e.total||0}))),subtotal:n.subtotal||0,taxRate:n.tax_rate||0,taxAmount:n.tax_amount||0,totalAmount:n.total_amount||0,currency:n.currency||"PKR",status:n.status||"Pending",paymentDays:n.payment_days||30,termsAndConditions:n.terms_conditions||`Payment within ${n.payment_days||30} days of delivery. Quality as per approved sample. Delivery at buyer's warehouse.`,notes:n.notes||"",createdBy:"System User",approvedBy:"Approved"===n.status?"Manager":null,paymentHistory:[]};i(r),c(null)}catch(l){console.error("Error fetching PO details:",l),c(l.message);const n={id:t,number:t,date:(new Date).toISOString().split("T")[0],deliveryDate:new Date(Date.now()+864e6).toISOString().split("T")[0],supplier:{name:"Supplier Not Found",company:"N/A",email:"N/A",phone:"N/A",address:"N/A",taxId:"N/A",ntn:"N/A"},items:[],subtotal:0,taxRate:0,taxAmount:0,totalAmount:0,currency:"PKR",status:"Pending",paymentDays:30,termsAndConditions:"Payment within 30 days of delivery. Quality as per approved sample. Delivery at buyer's warehouse.",notes:"Error loading purchase order details",createdBy:"System",approvedBy:null,paymentHistory:[]};i(n)}s(!1)})()}),[t]);const b=async()=>{if(null!==a&&void 0!==a&&a.number){try{y(!0);const e=await fetch(Ge.PURCHASE_ORDERS.INVOICES(a.number));if(e.ok){const t=await e.json();m(t)}else console.error("Failed to fetch invoice history"),m([])}catch(l){console.error("Error fetching invoice history:",l),m([])}y(!1)}},[v,w]=(0,r.useState)({poTotal:0,totalInvoiced:0,remainingAmount:0,invoicingPercentage:0,invoiceCount:0,status:"Not Invoiced"}),j=async()=>{if(t)try{const e=await fetch(Ge.PURCHASE_ORDERS.SUMMARY(t));if(e.ok){const t=await e.json(),n=t.po_total>0?t.total_invoiced/t.po_total*100:0;w({poTotal:t.po_total||0,totalInvoiced:t.total_invoiced||0,remainingAmount:t.remaining_amount||0,invoicingPercentage:Math.round(100*n)/100,invoiceCount:t.invoice_count||0,status:t.remaining_amount<=0?"Fully Invoiced":t.total_invoiced>0?"Partially Invoiced":"Not Invoiced"}),console.debug("PO Summary updated:",{remaining:t.remaining_amount,total_invoiced:t.total_invoiced,po_total:t.po_total})}else console.error("Failed to fetch PO summary")}catch(l){console.error("Error fetching PO summary:",l)}},N=()=>v;(0,r.useEffect)((()=>{t&&(j(),b())}),[t]),(0,r.useEffect)((()=>{u&&t&&(j(),b())}),[u]);const S=()=>{var e,n,i,o,s,c,u;const[d,h]=(0,r.useState)("quantity"),[p,m]=(0,r.useState)([]),[g,y]=(0,r.useState)(!1),x=e=>{const t=parseFloat(e);return isNaN(t)?0:t},w=e=>e.reduce(((e,t)=>e+x(t.po_quantity)),0),S=e=>e.reduce(((e,t)=>e+x(t.remaining_quantity)),0),[_,k]=(0,r.useState)({invoiceNumber:"",invoiceDate:(new Date).toISOString().split("T")[0],dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],paymentDays:(null===a||void 0===a?void 0:a.paymentDays)||30,supplier:{name:(null===a||void 0===a||null===(e=a.supplier)||void 0===e?void 0:e.name)||"",email:(null===a||void 0===a||null===(n=a.supplier)||void 0===n?void 0:n.email)||"",phone:(null===a||void 0===a||null===(i=a.supplier)||void 0===i?void 0:i.phone)||"",address:(null===a||void 0===a||null===(o=a.supplier)||void 0===o?void 0:o.address)||""},items:(null===a||void 0===a||null===(s=a.items)||void 0===s?void 0:s.map((e=>({description:e.description||"N/A",quantity:e.quantity||0,netWeight:e.netWeight||0,unitPrice:e.unitPrice||e.unit_price||0,amount:e.total||e.amount||0}))))||[],subtotal:(null===a||void 0===a?void 0:a.subtotal)||0,taxRate:(null===a||void 0===a?void 0:a.taxRate)||0,taxAmount:(null===a||void 0===a?void 0:a.taxAmount)||0,total:(null===a||void 0===a?void 0:a.totalAmount)||0,invoiceAmount:0,remainingAmount:0,notes:`Generated from Purchase Order: ${(null===a||void 0===a?void 0:a.number)||""}`,po_id:(null===a||void 0===a?void 0:a.databaseId)||(null===a||void 0===a?void 0:a.id)||t,quantityItems:[]});(0,r.useEffect)((()=>{"amount"===d&&v.remainingAmount>0&&k((e=>({...e,invoiceAmount:v.remainingAmount,subtotal:v.remainingAmount,total:v.remainingAmount,remainingAmount:0})))}),[v.remainingAmount,d]),(0,r.useEffect)((()=>{"quantity"===d&&(async()=>{if(t){try{y(!0);const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/purchase-orders/${t}/items/quantity-tracking`);if(e.ok){const t=await e.json();console.debug("PO Items loaded for quantity tracking:",t.length,"items"),console.debug("Raw items from API:",t);const n=t.map((e=>({...e,po_quantity:x(e.po_quantity),remaining_quantity:x(e.remaining_quantity),unit_price:x(e.unit_price)})));if(console.debug("Items after numeric conversion:",n),m(n),0===t.length)return void alert("This Purchase Order has no items available for invoicing.\n\nPlease check if all items have been fully invoiced.");const r=n.map((e=>({po_item_id:e.po_item_id,description:e.description,po_quantity:x(e.po_quantity),remaining_quantity:x(e.remaining_quantity),unit:e.unit,net_weight:x(e.net_weight||0),unit_price:x(e.unit_price),invoiced_quantity:0,amount:0,item_status:e.item_status})));console.debug("Initialized quantity items:",r.length,"items ready for invoicing"),k((e=>({...e,quantityItems:r})))}else console.error("Failed to fetch PO items with tracking"),alert("Error loading PO items for invoicing. Please try again.")}catch(l){console.error("Error fetching PO items:",l)}y(!1)}})()}),[d]),(0,r.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=(null===a||void 0===a?void 0:a.databaseId)||(null===a||void 0===a?void 0:a.id)||t,n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices/details?po_id=${e}`);if(n.ok){const t=await n.json();return console.debug(`Fetched ${t.length} existing invoices for PO ${e}`),t}return console.error("Failed to fetch PO invoices for current PO, using empty array for ID generation"),[]}catch(l){return console.error("Error fetching PO invoices for current PO, using empty array for ID generation:",l),[]}})(),n=await(async()=>{try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices`);if(e.ok){const t=await e.json();console.debug("Fetched PO invoice numbers for ID generation:",t.length,"existing invoice numbers");const n=t.map((e=>({invoice_number:e})));return console.debug("Formatted for ID Generator:",n.length,"invoice objects"),n}return console.error("Failed to fetch PO invoice numbers, using empty array for ID generation"),[]}catch(l){return console.error("Error fetching PO invoice numbers, using empty array for ID generation:",l),[]}})(),r=Yj(e,n);console.debug(`Generated PO invoice number for PO ${t}:`,r),console.debug(`- Existing invoices for this PO: ${e.length}`),console.debug(`- Total PO invoices in system: ${n.length}`),k((e=>({...e,invoiceNumber:r})))}catch(l){console.error("Error generating PO invoice number:",l);const t=Yj([],[]);console.debug("Using fallback PO invoice number:",t),k((e=>({...e,invoiceNumber:t})))}})()}),[]);const P=e=>{const{name:t,value:n}=e.target;k((e=>({...e,[t]:n})))},A=e=>{const{name:t,value:n}=e.target;k((e=>({...e,supplier:{...e.supplier,[t]:n}})))},E=e=>{const t=parseFloat(e.target.value)||0,n=v.remainingAmount,r=Math.min(t,n),a=Math.max(0,n-r);k((e=>({...e,invoiceAmount:r,remainingAmount:a,subtotal:r,taxAmount:0,total:r,exceedsAvailable:t>n})))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Te.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Create Invoice from PO"}),(0,Te.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(ut,{className:"w-6 h-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Te.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"Invoicing Method"}),(0,Te.jsx)("div",{className:"flex gap-4",children:(0,Te.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Te.jsx)("input",{type:"radio",name:"invoicingMode",value:"quantity",checked:"quantity"===d,onChange:e=>h(e.target.value),className:"text-blue-600 focus:ring-blue-500"}),(0,Te.jsx)("span",{className:"font-medium text-gray-700",children:"Quantity-Based"}),(0,Te.jsx)("span",{className:"text-sm text-gray-500",children:"(Invoice by item quantities)"})]})}),(0,Te.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"\ud83d\udca1 Specify quantities for each item you want to invoice. Each item can have different quantities."})]}),(0,Te.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Number"}),(0,Te.jsx)("input",{type:"text",name:"invoiceNumber",value:_.invoiceNumber||"Generating...",onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-gray-50",readOnly:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date"}),(0,Te.jsx)("input",{type:"date",name:"invoiceDate",value:_.invoiceDate,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms (Days)"}),(0,Te.jsx)("input",{type:"number",name:"paymentDays",value:_.paymentDays,onChange:P,min:"1",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 30"}),(0,Te.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Days for payment (default from PO: ",(null===a||void 0===a?void 0:a.paymentDays)||30,")"]})]})]}),"amount"===d?(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Te.jsx)("h4",{className:"font-medium text-blue-800",children:"Purchase Order Information"}),(()=>{const e=N();return(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("Fully Invoiced"===e.status?"bg-green-100 text-green-800":"Partially Invoiced"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status}),(0,Te.jsxs)("span",{className:"text-xs text-blue-600 font-medium",children:[Number(e.invoicingPercentage||0).toFixed(1),"% Invoiced"]})]})})()]}),(0,Te.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"PO Number"}),(0,Te.jsx)("input",{type:"text",value:(null===a||void 0===a?void 0:a.number)||"",className:"w-full px-3 py-2 border border-blue-300 rounded-lg bg-blue-25 text-blue-800",readOnly:!0})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"PO Total Amount"}),(0,Te.jsx)("input",{type:"text",value:`PKR ${((null===a||void 0===a?void 0:a.totalAmount)||0).toLocaleString()}`,className:"w-full px-3 py-2 border border-blue-300 rounded-lg bg-blue-25 text-blue-800",readOnly:!0})]}),(()=>{const e=N();return(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Already Invoiced"}),(0,Te.jsx)("input",{type:"text",value:`PKR ${e.totalInvoiced.toLocaleString()}`,className:"w-full px-3 py-2 border border-blue-300 rounded-lg bg-orange-25 text-orange-800",readOnly:!0})]})})()]}),(0,Te.jsx)("div",{children:(()=>{const e=N().remainingAmount;return(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available to Invoice"}),(0,Te.jsx)("input",{type:"text",value:`PKR ${e.toLocaleString()}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900",readOnly:!0})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Invoice Amount * (This controls the total invoice value)"}),(0,Te.jsx)("p",{className:"text-xs text-blue-600 mb-2",children:"\ud83d\udca1 Enter the amount you want to invoice from this PO. You can create partial invoices."}),(0,Te.jsx)("input",{type:"number",value:_.invoiceAmount,onChange:E,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 "+(_.exceedsAvailable?"border-red-300 bg-red-50":"border-blue-300"),min:"0",max:e,step:"0.01",placeholder:"Enter amount to invoice"}),_.exceedsAvailable&&(0,Te.jsxs)("div",{className:"text-xs text-red-600 mt-1",children:["\u26a0\ufe0f Amount exceeds available balance. Maximum allowed: PKR ",e.toLocaleString()]}),(0,Te.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["After this invoice, remaining: PKR ",(N().remainingAmount-(_.invoiceAmount||0)).toLocaleString()]})]})]})})()})]})]}):(0,Te.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-300",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-900",children:"Purchase Order - Quantity-Based Invoicing"}),(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:"Quantity Based"})})]}),(0,Te.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"mb-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number"}),(0,Te.jsx)("input",{type:"text",value:(null===a||void 0===a?void 0:a.number)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900",readOnly:!0})]}),(0,Te.jsxs)("div",{className:"mb-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Total Amount"}),(0,Te.jsx)("input",{type:"text",value:`PKR ${((null===a||void 0===a?void 0:a.totalAmount)||0).toLocaleString()}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900",readOnly:!0})]})]}),(0,Te.jsx)("div",{children:g?(0,Te.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-500"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-700",children:"Loading items..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"mb-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total PO Quantity"}),(0,Te.jsx)("input",{type:"text",value:w(p).toLocaleString(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900",readOnly:!0})]}),(0,Te.jsxs)("div",{className:"mb-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available to Invoice (Qty)"}),(0,Te.jsx)("input",{type:"text",value:S(p).toLocaleString(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900",readOnly:!0})]})]})})]}),!g&&p.length>0&&(0,Te.jsxs)("div",{className:"mt-4",children:[(0,Te.jsx)("h5",{className:"font-medium text-gray-700 mb-3",children:"Select Quantities"}),(0,Te.jsx)("div",{className:"overflow-x-auto max-h-64 overflow-y-auto",children:(0,Te.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,Te.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-medium text-gray-900",children:"Item"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium text-gray-900",children:"PO Qty"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium text-gray-900",children:"Net Weight (KG)"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium text-gray-900",children:"Available"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium text-gray-900",children:"Invoice Qty"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium text-gray-900",children:"Rate"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium text-gray-900",children:"Amount"})]})}),(0,Te.jsx)("tbody",{children:_.quantityItems.map(((e,t)=>(0,Te.jsxs)("tr",{className:x(e.remaining_quantity)<=0?"bg-red-50":x(e.invoiced_quantity)>0?"bg-gray-50 border-gray-300":"bg-white hover:bg-gray-50",children:[(0,Te.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-sm",children:[(0,Te.jsx)("div",{className:"font-medium",children:e.description}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500",children:["Unit: ",e.unit]}),"Not Invoiced"!==e.item_status&&(0,Te.jsx)("span",{className:"text-xs px-2 py-1 rounded "+("Fully Invoiced"===e.item_status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.item_status})]}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center text-sm",children:x(e.po_quantity).toLocaleString()}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center text-sm",children:x(e.net_weight||0).toLocaleString("en-PK",{minimumFractionDigits:2})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center text-sm",children:(0,Te.jsx)("span",{className:x(e.remaining_quantity)<=0?"text-red-600 font-medium":"text-gray-600",children:x(e.remaining_quantity).toLocaleString()})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center",children:(0,Te.jsx)("input",{type:"number",min:"0",max:x(e.remaining_quantity),step:"0.01",value:e.invoiced_quantity,onChange:e=>((e,t)=>{const n=parseFloat(t)||0;k((t=>{const r=[...t.quantityItems],a=r[e];if(a){const t=Math.max(0,x(a.remaining_quantity)),r=Math.min(Math.max(0,n),t);a.invoiced_quantity=r,a.amount=r*x(a.unit_price),a.current_remaining=a.remaining_quantity-r,console.debug(`Quantity change for item ${e}:`,{description:a.description,requested:n,valid:r,remaining:a.remaining_quantity,amount:a.amount})}const i=r.reduce(((e,t)=>e+(parseFloat(t.invoiced_quantity)||0)),0),o=r.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),s=r.filter((e=>parseFloat(e.invoiced_quantity)>0)).length;return console.debug("Quantity-based invoice totals:",{totalItems:s,totalQuantity:i,totalAmount:o,itemsWithQuantity:r.filter((e=>e.invoiced_quantity>0)).length}),{...t,quantityItems:r,invoiceAmount:o,subtotal:o,total:o,totalQuantity:i,selectedItemsCount:s}}))})(t,e.target.value),disabled:x(e.remaining_quantity)<=0,className:"w-20 px-2 py-1 border rounded text-center text-sm "+(x(e.remaining_quantity)<=0?"border-red-300 bg-red-50 text-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500"),placeholder:"0"})}),(0,Te.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-center text-sm",children:["PKR ",x(e.unit_price).toLocaleString("en-PK",{minimumFractionDigits:2})]}),(0,Te.jsxs)("td",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium",children:["PKR ",(e.amount||0).toLocaleString("en-PK",{minimumFractionDigits:2})]})]},t)))})]})}),(0,Te.jsxs)("div",{className:"mt-4 bg-gray-100 p-3 rounded border border-gray-300",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-gray-700",children:"Total Quantity:"}),(0,Te.jsx)("span",{className:"font-bold text-gray-900",children:_.totalQuantity||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-gray-700",children:"Total Invoice Amount:"}),(0,Te.jsxs)("span",{className:"font-bold text-gray-900",children:["PKR ",(_.invoiceAmount||0).toLocaleString("en-PK")]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Supplier Information"}),(0,Te.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name"}),(0,Te.jsx)("input",{type:"text",name:"name",value:_.supplier.name,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"email",value:_.supplier.email,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Te.jsx)("input",{type:"tel",name:"phone",value:_.supplier.phone,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",pattern:"[0-9\\-\\+\\(\\)\\s]*",placeholder:"Enter phone number"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Te.jsx)("input",{type:"text",name:"address",value:_.supplier.address,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),"amount"===d?(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Invoice Items (From Purchase Order)"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"\u2139\ufe0f Items are from the Purchase Order and cannot be modified in amount-based invoicing"}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gray-200",children:[(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-medium",children:"Description"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium",children:"Quantity"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium",children:"Net Weight (KG)"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium",children:"Rate"}),(0,Te.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm font-medium",children:"Amount"})]})}),(0,Te.jsx)("tbody",{children:_.items.map(((e,t)=>(0,Te.jsxs)("tr",{className:"bg-gray-100",children:[(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2",children:(0,Te.jsx)("div",{className:"px-2 py-1 text-gray-700 bg-gray-100 rounded",children:e.description})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center",children:(0,Te.jsx)("div",{className:"px-2 py-1 text-gray-700 bg-gray-100 rounded text-center",children:e.quantity})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center",children:(0,Te.jsxs)("div",{className:"px-2 py-1 text-gray-700 bg-gray-100 rounded text-center",children:[(e.netWeight||0).toLocaleString("en-PK",{minimumFractionDigits:2,maximumFractionDigits:2})," KG"]})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center print:text-center",children:(0,Te.jsx)("div",{className:"px-2 py-1 text-gray-700 bg-gray-100 rounded text-center",children:(e.unitPrice||0).toLocaleString("en-PK",{minimumFractionDigits:2,maximumFractionDigits:2})})}),(0,Te.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center font-medium print:text-center",children:(0,Te.jsxs)("div",{className:"px-2 py-1 text-gray-700 bg-gray-100 rounded text-center font-medium",children:["PKR ",(e.amount||0).toLocaleString("en-PK",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},t)))})]})})]}):(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Te.jsx)("h4",{className:"font-medium text-green-700 mb-3",children:"Quantity-Based Invoice Items"}),(0,Te.jsx)("p",{className:"text-sm text-green-600 mb-3",children:"\u2705 Items with specified quantities will be included in the invoice"}),(0,Te.jsxs)("div",{className:"text-sm text-green-700",children:["Items to be invoiced: ",(0,Te.jsx)("strong",{children:(null===(c=_.quantityItems)||void 0===c?void 0:c.filter((e=>e.invoiced_quantity>0)).length)||0})," of ",(0,Te.jsx)("strong",{children:(null===(u=_.quantityItems)||void 0===u?void 0:u.length)||0})," available"]}),(0,Te.jsxs)("div",{className:"text-sm text-green-700",children:["Total quantity: ",(0,Te.jsx)("strong",{children:_.totalQuantity||0})," units"]}),(0,Te.jsxs)("div",{className:"text-sm text-green-700",children:["Invoice amount: ",(0,Te.jsxs)("strong",{children:["PKR ",(_.invoiceAmount||0).toLocaleString("en-PK")]})]})]}),(0,Te.jsxs)("div",{className:"p-6 rounded-lg border "+("quantity"===d?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"),children:[(0,Te.jsx)("h4",{className:"font-semibold text-gray-800 mb-4 text-lg",children:"quantity"===d?"Quantity-Based Invoice Summary":"Amount-Based Invoice Summary"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,Te.jsxs)("span",{className:"font-medium text-gray-700",children:["Total PO ","quantity"===d?"Quantity":"Amount",":"]}),(0,Te.jsx)("span",{className:"font-bold text-lg",children:"quantity"===d?`${w(p).toLocaleString()} units`:`PKR ${((null===a||void 0===a?void 0:a.totalAmount)||0).toLocaleString("en-PK")}/-`})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b "+("quantity"===d?"border-green-200":"border-blue-200"),children:[(0,Te.jsxs)("span",{className:"font-medium "+("quantity"===d?"text-green-700":"text-blue-700"),children:["Total Invoice ","quantity"===d?"Quantity":"Amount",":"]}),(0,Te.jsx)("span",{className:"font-bold text-lg "+("quantity"===d?"text-green-600":"text-blue-600"),children:"quantity"===d?`${_.totalQuantity||0} units`:`PKR ${(_.invoiceAmount||0).toLocaleString("en-PK")}/-`})]}),"quantity"===d&&(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-green-200",children:[(0,Te.jsx)("span",{className:"font-medium text-green-700",children:"Total Invoice Amount:"}),(0,Te.jsxs)("span",{className:"font-bold text-lg text-green-600",children:["PKR ",(_.invoiceAmount||0).toLocaleString("en-PK"),"/-"]})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 bg-gray-50 px-4 rounded-md border border-gray-200",children:[(0,Te.jsxs)("span",{className:"font-medium text-gray-700",children:["Remaining ","quantity"===d?"Quantity":"Amount",":"]}),(0,Te.jsx)("span",{className:"font-bold text-lg text-gray-600",children:"quantity"===d?`${Math.max(0,S(p)-x(_.totalQuantity)).toLocaleString()} units`:`PKR ${(((null===a||void 0===a?void 0:a.totalAmount)||0)-(_.invoiceAmount||0)).toLocaleString("en-PK")}/-`})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 bg-blue-50 px-4 rounded-md border border-blue-200",children:[(0,Te.jsx)("span",{className:"font-medium text-blue-700",children:"Tax Rate (Fixed at PO Creation):"}),(0,Te.jsxs)("span",{className:"font-bold text-lg text-blue-600",children:[(null===a||void 0===a?void 0:a.taxRate)||0,"%"]})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 bg-blue-50 px-4 rounded-md border border-blue-200",children:[(0,Te.jsx)("span",{className:"font-medium text-blue-700",children:"Tax Amount:"}),(0,Te.jsxs)("span",{className:"font-bold text-lg text-blue-600",children:["PKR ",((null===a||void 0===a?void 0:a.taxAmount)||0).toLocaleString("en-PK"),"/-"]})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Te.jsx)("textarea",{name:"notes",value:_.notes,onChange:P,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes or terms..."})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Te.jsx)("button",{type:"button",onClick:async()=>{try{let n,r;if("quantity"===d){const e=_.quantityItems.filter((e=>e.invoiced_quantity>0));if(0===e.length)return void alert('Please specify quantities for at least one item from the PO.\n\nIn the "Select Quantities to Invoice" table above, enter the quantities you want to invoice for each item.');const t=e.filter((e=>e.invoiced_quantity>e.remaining_quantity||e.invoiced_quantity<=0));if(t.length>0){const e=t.map((e=>`"${e.description}"`)).join(", ");return void alert(`Invalid quantities detected for: ${e}\n\nPlease ensure all quantities are positive and don't exceed the remaining quantities.`)}console.debug("Quantity-based invoice validation passed:",{totalItems:_.quantityItems.length,selectedItems:e.length,selectedItemDetails:e.map((e=>({description:e.description,invoiced_quantity:e.invoiced_quantity,amount:e.amount})))}),n={invoice_number:_.invoiceNumber,invoice_date:_.invoiceDate,due_date:_.dueDate,po_id:(null===a||void 0===a?void 0:a.databaseId)||(null===a||void 0===a?void 0:a.id),po_number:null===a||void 0===a?void 0:a.number,customer_name:_.supplier.name,customer_email:_.supplier.email,customer_phone:_.supplier.phone,customer_address:_.supplier.address,currency:(null===a||void 0===a?void 0:a.currency)||"PKR",status:"Draft",payment_days:_.paymentDays||30,notes:_.notes,tax_rate:(null===a||void 0===a?void 0:a.taxRate)||0,tax_amount:(null===a||void 0===a?void 0:a.taxAmount)||0,items:e.map((e=>({po_item_id:e.po_item_id,invoiced_quantity:e.invoiced_quantity,net_weight:e.net_weight||0})))},console.log("\ud83d\udd0d [DEBUG] PurchaseOrder object:",a),console.log("\ud83d\udd0d [DEBUG] Tax values being sent:",{tax_rate:n.tax_rate,tax_amount:n.tax_amount}),r=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices/quantity-based`}else n={invoice_number:_.invoiceNumber,invoice_date:_.invoiceDate,due_date:_.dueDate,po_id:(null===a||void 0===a?void 0:a.databaseId)||(null===a||void 0===a?void 0:a.id),po_number:null===a||void 0===a?void 0:a.number,customer_name:_.supplier.name,customer_email:_.supplier.email,customer_phone:_.supplier.phone,customer_address:_.supplier.address,subtotal:_.subtotal,tax_rate:_.taxRate,tax_amount:_.taxAmount,total_amount:_.invoiceAmount,currency:(null===a||void 0===a?void 0:a.currency)||"PKR",status:"Draft",payment_days:_.paymentDays||30,notes:_.notes,items:_.items.filter((e=>e.description&&e.quantity>0))},r=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices`;console.debug(`Creating ${d}-based invoice:`,n);const i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok){const e=await i.json().catch((()=>({message:"Failed to create invoice"})));throw new Error(e.details||e.message||"Failed to create invoice")}{const n=await i.json();var e,t;if(await j(),await b(),"quantity"===d)alert(`Quantity-based invoice ${_.invoiceNumber} created successfully!\nTotal Items: ${(null===(e=n.invoice)||void 0===e||null===(t=e.items)||void 0===t?void 0:t.length)||0}\nTotal Quantity: ${_.totalQuantity||0}\nTotal Amount: PKR ${_.invoiceAmount.toLocaleString()}`);else alert(`Amount-based invoice ${_.invoiceNumber} created successfully!\nInvoice Amount: PKR ${_.invoiceAmount.toLocaleString()}\nRemaining PO Amount: PKR ${_.remainingAmount.toLocaleString()}`);f(!1)}}catch(l){console.error("Error creating invoice:",l),alert(`Error creating ${d}-based invoice: ${l.message}\n\nPlease try again.`)}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Invoice"})]})]})]})})};return o?(0,Te.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading purchase order..."})]}):a?(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 p-4 sm:p-6 border-b border-gray-200",children:[(0,Te.jsx)("div",{className:"flex items-center gap-4",children:(0,Te.jsxs)("button",{onClick:n,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Te.jsx)(qj,{className:"w-5 h-5"}),(0,Te.jsx)("span",{children:"Back to Purchase Orders"})]})}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(()=>{const e=["Draft","Pending"].includes(null===a||void 0===a?void 0:a.status),t=v.remainingAmount<=0&&v.totalInvoiced>0,n=e||g;return(0,Te.jsx)("button",{onClick:async()=>{e||(y(!0),await j(),await b(),y(!1),f(!0))},disabled:n,title:e?"Cannot create invoice for Draft or Pending purchase orders":t?"This PO is already fully invoiced":"Create an invoice from this PO",className:"flex items-center gap-2 px-4 py-2 rounded-md transition-colors "+(n?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:g?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Te.jsx)("span",{children:"Loading..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(jt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:e?"Cannot Make Invoice":t?"Fully Invoiced":"Make Invoice"})]})})})(),v.remainingAmount<=0&&v.totalInvoiced>0&&(0,Te.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-md",children:[(0,Te.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500"}),(0,Te.jsx)("span",{children:"Fully Invoiced"})]}),(0,Te.jsxs)("button",{onClick:()=>d(!u),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:[u?(0,Te.jsx)($e,{className:"w-4 h-4"}):(0,Te.jsx)(We,{className:"w-4 h-4"}),(0,Te.jsxs)("span",{children:[u?"Hide":"Show"," Invoice & Payment History"]})]}),(0,Te.jsxs)("button",{onClick:()=>{if(!a)return;const e=window.open("","_blank","width=900,height=700");if(!e)return void alert("Pop-up blocked. Please allow pop-ups for this site to generate PDF.");const t=`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="utf-8">\n        <title>Purchase Order ${a.number}</title>\n        <style>\n          * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n          }\n          \n          @page {\n            size: A4;\n            margin: 10mm;\n          }\n          \n          body {\n            font-family: Arial, sans-serif;\n            background: white;\n            color: #333;\n            line-height: 1.3;\n            padding: 0;\n            margin: 0;\n          }\n          \n          /* Force an A4 page-sized container so printed output matches A4 */\n          .po-container {\n            width: 210mm;\n            min-height: 297mm;\n            margin: 0 auto;\n            background: white;\n            position: relative;\n            box-sizing: border-box;\n            overflow: hidden;\n            /* allow content to break across pages when it overflows */\n            page-break-after: always;\n          }\n          \n          /* Use an inline fixed <img> watermark so it prints reliably on each page */\n          .print-watermark {\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            /* Keep the image visually centered, but rotate around its left edge for a 'tilt from left' look */\n            transform: translate(-50%, -50%) rotate(-14deg);\n            transform-origin: 12% 50%; /* pivot near the left side, vertically centered */\n            width: 65%;\n            max-width: 820px;\n            height: auto;\n            opacity: 0.06;\n            pointer-events: none;\n            z-index: 0;\n            display: block;\n          }\n          \n          .content {\n            position: relative;\n            z-index: 1;\n          }\n          \n          .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 40px;\n            padding-bottom: 20px;\n            border-bottom: 2px solid #e5e5e5;\n          }\n          \n          .company-info {\n            display: block;\n            align-items: center;\n            gap: 20px;\n          }\n          \n          .company-logo {\n            width: 15rem;\n            padding-bottom: 20px;\n          }\n          \n          .company-details h2 {\n            font-size: 18px;\n            font-weight: 600;\n            color: #1f2937;\n            margin-bottom: 8px;\n          }\n          \n          .company-details p {\n            font-size: 12px;\n            color: #6b7280;\n            margin-bottom: 3px;\n          }\n          \n          .po-meta {\n            text-align: right;\n          }\n          \n          .po-title {\n            font-size: 24px;\n            font-weight: bold;\n            color: #1976d2;\n            margin-bottom: 8px;\n          }\n          \n          .po-info {\n            background: #f8fafc;\n            padding: 12px;\n            border-radius: 8px;\n            border: 1px solid #e2e8f0;\n          }\n          \n          .po-info div {\n            margin-bottom: 4px;\n            font-size: 12px;\n          }\n          \n          .po-info .label {\n            font-weight: 600;\n            color: #374151;\n          }\n          \n          .section {\n            margin-bottom: 30px;\n          }\n          \n          .section-title {\n            font-size: 16px;\n            font-weight: 600;\n            color: #1f2937;\n            margin-bottom: 15px;\n            padding-bottom: 8px;\n            border-bottom: 1px solid #e5e5e5;\n          }\n          \n          .supplier-info {\n            background: #f8fafc;\n            padding: 20px;\n            border-radius: 8px;\n            border: 1px solid #e2e8f0;\n          }\n          \n          .supplier-info h3 {\n            font-size: 16px;\n            font-weight: 600;\n            color: #1f2937;\n            margin-bottom: 12px;\n          }\n          \n          .supplier-info p {\n            font-size: 13px;\n            color: #4b5563;\n            margin-bottom: 4px;\n          }\n          \n          .items-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 20px;\n          }\n          \n          .items-table th,\n          .items-table td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #e5e5e5;\n          }\n          \n          .items-table th {\n            background: #f8fafc;\n            font-weight: 600;\n            color: #374151;\n            font-size: 13px;\n          }\n          \n          .items-table td {\n            font-size: 13px;\n            color: #4b5563;\n          }\n          \n          .items-table .text-right {\n            text-align: right;\n          }\n          \n          .summary-section {\n            display: flex;\n            justify-content: flex-end;\n            margin-bottom: 30px;\n          }\n          \n          .summary-table {\n            width: 300px;\n          }\n          \n          .summary-row {\n            display: flex;\n            justify-content: space-between;\n            padding: 8px 0;\n            border-bottom: 1px solid #f0f0f0;\n          }\n          \n          .summary-row.total {\n            border-bottom: 2px solid #1976d2;\n            border-top: 2px solid #1976d2;\n            font-weight: bold;\n            font-size: 16px;\n            color: #1976d2;\n            padding: 12px 0;\n          }\n          \n          .terms {\n            background: #f8fafc;\n            padding: 20px;\n            border-radius: 8px;\n            border: 1px solid #e2e8f0;\n          }\n          \n          .terms h4 {\n            font-size: 14px;\n            font-weight: 600;\n            margin-bottom: 8px;\n            color: #374151;\n          }\n          \n          .terms p {\n            font-size: 13px;\n            color: #4b5563;\n            line-height: 1.6;\n          }\n          \n          .footer {\n            margin-top: 40px;\n            padding-top: 20px;\n            border-top: 1px solid #e5e5e5;\n            text-align: center;\n            font-size: 12px;\n            color: #6b7280;\n          }\n          \n          @media print {\n            @page {\n              size: A4 portrait;\n              margin: 8mm;\n            }\n            \n            * {\n              -webkit-print-color-adjust: exact;\n              print-color-adjust: exact;\n            }\n            \n            body {\n              margin: 0 !important;\n              padding: 0 !important;\n              line-height: 1.2 !important;\n            }\n            \n            .po-container {\n              width: 210mm !important;\n              min-height: 297mm !important;\n              margin: 0 auto !important;\n              padding: 0 !important;\n              box-shadow: none !important;\n              page-break-after: always !important;\n            }\n            \n            .content > div {\n              padding: 16px !important;\n            }\n            \n            .header {\n              margin-bottom: 20px !important;\n              padding-bottom: 12px !important;\n            }\n            \n            .company-logo {\n              width: 100px !important;\n              height: auto !important;\n              padding-bottom: 8px !important;\n            }\n            \n            .company-details h2 {\n              font-size: 14px !important;\n              margin-bottom: 4px !important;\n            }\n            \n            .company-details p {\n              font-size: 10px !important;\n              margin-bottom: 2px !important;\n            }\n            \n            .po-title {\n              font-size: 16px !important;\n              margin-bottom: 6px !important;\n            }\n            \n            .po-info {\n              padding: 8px !important;\n              margin-bottom: 12px !important;\n            }\n            \n            .po-info div {\n              font-size: 10px !important;\n              margin-bottom: 2px !important;\n            }\n            \n            .section {\n              margin-bottom: 16px !important;\n              page-break-inside: avoid;\n            }\n            \n            .section-title {\n              font-size: 12px !important;\n              margin-bottom: 8px !important;\n              padding-bottom: 4px !important;\n            }\n            \n            .supplier-info {\n              padding: 12px !important;\n              margin-bottom: 12px !important;\n            }\n            \n            .supplier-info h3 {\n              font-size: 12px !important;\n              margin-bottom: 6px !important;\n            }\n            \n            .supplier-info p {\n              font-size: 10px !important;\n              margin-bottom: 2px !important;\n            }\n            \n            .items-table {\n              margin-bottom: 12px !important;\n            }\n            \n            .items-table th,\n            .items-table td {\n              padding: 6px 8px !important;\n              font-size: 10px !important;\n            }\n            \n            .items-table th {\n              font-size: 10px !important;\n            }\n            \n            .summary-section {\n              margin-bottom: 16px !important;\n            }\n            \n            .summary-table {\n              width: 250px !important;\n            }\n            \n            .summary-row {\n              padding: 4px 0 !important;\n              font-size: 10px !important;\n            }\n            \n            .summary-row.total {\n              padding: 6px 0 !important;\n              font-size: 12px !important;\n            }\n            \n            .terms {\n              padding: 12px !important;\n              margin-bottom: 12px !important;\n              page-break-inside: avoid;\n            }\n            \n            .terms h4 {\n              font-size: 11px !important;\n              margin-bottom: 4px !important;\n            }\n            \n            .terms p {\n              font-size: 9px !important;\n              line-height: 1.3 !important;\n            }\n            \n            .footer {\n              margin-top: 16px !important;\n              padding-top: 12px !important;\n              font-size: 9px !important;\n            }\n            \n            /* Compress inline styles in HTML body */\n            div[style*="padding: 32px"] {\n              padding: 16px !important;\n            }\n            \n            div[style*="font-size: 20px"] {\n              font-size: 14px !important;\n            }\n            \n            div[style*="font-size: 13px"] {\n              font-size: 10px !important;\n            }\n            \n            div[style*="margin-bottom: 16px"] {\n              margin-bottom: 10px !important;\n            }\n            \n            img[style*="height: 128px"] {\n              height: 80px !important;\n            }\n            \n            table td[style*="padding: 12px"],\n            table th[style*="padding: 12px"] {\n              padding: 6px 8px !important;\n            }\n          }\n        </style>\n      </head>\n      <body>\n          <div class="po-container">\n          \x3c!-- Watermark image placed as a fixed element so it appears on every printed page --\x3e\n          <img class="print-watermark" src="${tt}" alt="Watermark" />\n          <div class="content">\n            \x3c!-- Company Header - Matching On-Screen Layout --\x3e\n            <div style="position: relative; padding: 32px; border-bottom: 2px solid #9ca3af;">\n              \x3c!-- Company Logo and Info - Centered --\x3e\n              <div style="position: relative; z-index: 10; text-align: center; margin-bottom: 16px;">\n                <div style="display: flex; justify-content: center; margin-bottom: 12px;">\n                  <img src="${tt}" alt="A Rauf Textile" style="height: 128px; width: auto; max-width: 280px; object-fit: contain;">\n                </div>\n                <div style="font-size: 13px; color: #374151;">\n                  <p style="font-size: 11px; margin: 2px 0;">Deals in all kind of Greige & Dyed Fabric</p>\n                  <p style="font-size: 11px; margin: 3px 0;"><strong>STRN #</strong> 32-77-8761-279-54</p>\n                  <p style="font-size: 11px; margin: 2px 0;"><strong>NTN #</strong> 7225539-1</p>\n                </div>\n              </div>\n\n              \x3c!-- Title Section --\x3e\n              <div style="position: relative; z-index: 10; text-align: center; margin-bottom: 16px; border-top: 1px solid #d1d5db; padding-top: 16px;">\n                <h1 style="font-size: 20px; font-weight: bold; color: #1f2937; text-transform: uppercase; letter-spacing: 1px; margin: 0;">PURCHASE ORDER</h1>\n              </div>\n\n              \x3c!-- PO Info Grid --\x3e\n              <div style="position: relative; z-index: 10; border-top: 2px solid #9ca3af; padding-top: 16px;">\n                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; margin-bottom: 16px;">\n                  \x3c!-- Left Column - PO Details --\x3e\n                  <div style="font-size: 13px;">\n                    <div style="margin-bottom: 6px;">\n                      <span style="font-weight: 600; color: #374151; display: inline-block; width: 128px;">PO Number :</span>\n                      <span style="color: #1f2937;">${a.number}</span>\n                    </div>\n                    <div style="margin-bottom: 6px;">\n                      <span style="font-weight: 600; color: #374151; display: inline-block; width: 128px;">Date :</span>\n                      <span style="color: #1f2937;">${new Date(a.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}</span>\n                    </div>\n                  </div>\n\n                  \x3c!-- Right Column - Delivery & Status --\x3e\n                  <div style="text-align: right; font-size: 13px;">\n                    <div style="margin-bottom: 6px;">\n                      <span style="font-weight: 600; color: #374151;">Delivery Date: </span>\n                      <span style="color: #1f2937;">${new Date(a.deliveryDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}</span>\n                    </div>\n                    <div style="margin-bottom: 6px;">\n                      <span style="font-weight: 600; color: #374151;">Status: </span>\n                      <span style="margin-left: 8px; padding: 4px 12px; border-radius: 9999px; font-size: 11px; font-weight: 500; ${"Pending"===a.status?"background: #fed7aa; color: #9a3412;":"Approved"===a.status?"background: #bfdbfe; color: #1e40af;":"In Transit"===a.status?"background: #e9d5ff; color: #6b21a8;":"Delivered"===a.status?"background: #bbf7d0; color: #15803d;":"background: #fecaca; color: #991b1b;"}">\n                        ${a.status}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              \x3c!-- Supplier Information Section --\x3e\n              <div style="position: relative; z-index: 10; border: 1px solid #9ca3af; padding: 16px; margin-bottom: 16px;">\n                <h3 style="font-weight: bold; color: #1f2937; margin-bottom: 12px; text-decoration: underline; font-size: 13px;">Supplier Information :</h3>\n                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px 48px; font-size: 13px;">\n                  <div>\n                    <span style="font-weight: 600; color: #374151; display: inline-block; width: 160px;">Name :</span>\n                    <span style="color: #1f2937; font-weight: bold;">${a.supplier.name}</span>\n                  </div>\n                  <div>\n                    <span style="font-weight: 600; color: #374151; display: inline-block; width: 192px;">Company :</span>\n                    <span style="color: #1f2937;">${a.supplier.company}</span>\n                  </div>\n                  <div>\n                    <span style="font-weight: 600; color: #374151; display: inline-block; width: 160px;">Email :</span>\n                    <span style="color: #1f2937;">${a.supplier.email}</span>\n                  </div>\n                  <div>\n                    <span style="font-weight: 600; color: #374151; display: inline-block; width: 192px;">Phone :</span>\n                    <span style="color: #1f2937;">${a.supplier.phone}</span>\n                  </div>\n                  <div style="grid-column: 1 / -1;">\n                    <span style="font-weight: 600; color: #374151; display: inline-block; width: 160px;">Address :</span>\n                    <span style="color: #1f2937;">${a.supplier.address}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            \x3c!-- Items Table Section --\x3e\n            <div style="padding: 32px;">\n              \x3c!-- PO Table - Matching On-Screen Style --\x3e\n              <div style="margin-bottom: 24px;">\n                <div style="overflow-x: auto; border: 2px solid #9ca3af;">\n                  <table style="width: 100%; border-collapse: collapse;">\n                    <thead>\n                      <tr style="background: #e5e7eb; border-bottom: 2px solid #9ca3af;">\n                        <th style="padding: 12px 8px; text-align: center; font-size: 11px; font-weight: bold; color: #1f2937; border-right: 1px solid #9ca3af;">S.No</th>\n                        <th style="padding: 12px 12px; text-align: center; font-size: 11px; font-weight: bold; color: #1f2937; border-right: 1px solid #9ca3af;">Description</th>\n                        <th style="padding: 12px 12px; text-align: center; font-size: 11px; font-weight: bold; color: #1f2937; border-right: 1px solid #9ca3af;">Quantity</th>\n                        <th style="padding: 12px 12px; text-align: center; font-size: 11px; font-weight: bold; color: #1f2937; border-right: 1px solid #9ca3af;">Net Weight (KG)</th>\n                        <th style="padding: 12px 12px; text-align: center; font-size: 11px; font-weight: bold; color: #1f2937; border-right: 1px solid #9ca3af;">Rate</th>\n                        <th style="padding: 12px 12px; text-align: center; font-size: 11px; font-weight: bold; color: #1f2937;">Total Amount</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      ${(a.items||[]).length>0?a.items.map(((e,t)=>`\n                          <tr style="border-bottom: 1px solid #d1d5db;">\n                            <td style="padding: 16px 8px; font-size: 13px; color: #1f2937; text-align: center; border-right: 1px solid #d1d5db; font-weight: 600;">${t+1}</td>\n                            <td style="padding: 16px 12px; font-size: 13px; color: #1f2937; border-right: 1px solid #d1d5db;">\n                              <div style="font-weight: 500;">${e.description||"N/A"}</div>\n                            </td>\n                            <td style="padding: 16px 12px; font-size: 13px; color: #1f2937; text-align: center; border-right: 1px solid #d1d5db;">${parseFloat(e.quantity||0).toLocaleString()}</td>\n                            <td style="padding: 16px 12px; font-size: 13px; color: #1f2937; text-align: center; border-right: 1px solid #d1d5db;">${parseFloat(e.netWeight||0).toLocaleString("en-US",{minimumFractionDigits:2})} KG</td>\n                            <td style="padding: 16px 12px; font-size: 13px; color: #1f2937; text-align: center; border-right: 1px solid #d1d5db;">${a.currency} ${parseFloat(e.unitPrice||e.unit_price||0).toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                            <td style="padding: 16px 12px; font-size: 13px; font-weight: 600; color: #111827; text-align: center;">${a.currency} ${parseFloat(e.total||e.amount||0).toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                          </tr>\n                        `)).join(""):'<tr style="border-bottom: 1px solid #d1d5db;"><td colspan="6" style="padding: 32px 16px; text-align: center; font-size: 13px; color: #6b7280;">No items found for this purchase order</td></tr>'}\n                      \x3c!-- Total Row --\x3e\n                      <tr style="background: #f3f4f6; border-top: 2px solid #9ca3af;">\n                        <td style="padding: 12px 8px; border-right: 1px solid #d1d5db;"></td>\n                        <td style="padding: 12px 12px; font-size: 13px; font-weight: bold; color: #1f2937; border-right: 1px solid #d1d5db;">TOTAL</td>\n                        <td style="padding: 12px 12px; font-size: 13px; color: #1f2937; text-align: center; border-right: 1px solid #d1d5db;">\n                          ${a.items?a.items.reduce(((e,t)=>e+parseFloat(t.quantity||0)),0).toLocaleString():0}\n                        </td>\n                        <td style="padding: 12px 12px; font-size: 13px; color: #1f2937; text-align: center; border-right: 1px solid #d1d5db;">\n                          ${a.items?a.items.reduce(((e,t)=>e+parseFloat(t.netWeight||0)),0).toLocaleString("en-US",{minimumFractionDigits:2}):0} KG\n                        </td>\n                        <td style="padding: 12px 12px; border-right: 1px solid #d1d5db;"></td>\n                        <td style="padding: 12px 12px; font-size: 13px; font-weight: bold; color: #111827; text-align: center;">${a.currency} ${parseFloat(a.totalAmount||0).toLocaleString("en-US",{minimumFractionDigits:2})}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              \x3c!-- Summary Section --\x3e\n              <div style="margin-bottom: 24px; border: 1px solid #d1d5db; padding: 16px;">\n                <div>\n                  <div style="margin-bottom: 12px;">\n                    <span style="font-weight: 600; color: #1f2937;">Amount Breakdown:</span>\n                  </div>\n                  <div style="font-size: 13px;">\n                    <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">\n                      <span style="color: #374151;">Subtotal:</span>\n                      <span style="font-weight: 600; color: #111827;">${a.currency} ${parseFloat(a.subtotal||0).toLocaleString("en-US",{minimumFractionDigits:2})}</span>\n                    </div>\n                    <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">\n                      <span style="color: #374151;">Tax (${a.taxRate}%):</span>\n                      <span style="font-weight: 600; color: #111827;">${a.currency} ${parseFloat(a.taxAmount||0).toLocaleString("en-US",{minimumFractionDigits:2})}</span>\n                    </div>\n                    <div style="display: flex; justify-content: space-between; padding-top: 8px; border-top: 1px solid #d1d5db;">\n                      <span style="font-weight: bold; color: #1f2937;">Total Amount:</span>\n                      <span style="font-weight: bold; color: #111827;">${a.currency} ${parseFloat(a.totalAmount||0).toLocaleString("en-US",{minimumFractionDigits:2})}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              \x3c!-- Terms and Conditions --\x3e\n              <div style="margin-bottom: 24px; border: 1px solid #d1d5db; padding: 16px;">\n                <h4 style="font-weight: bold; color: #1f2937; margin-bottom: 12px;">Terms and Conditions</h4>\n                <p style="font-size: 13px; color: #374151; line-height: 1.6; margin-bottom: 16px;">${a.termsAndConditions}</p>\n                ${a.notes?`\n                  <h4 style="font-weight: bold; color: #1f2937; margin-bottom: 12px;">Special Notes</h4>\n                  <p style="font-size: 13px; color: #374151; line-height: 1.6;">${a.notes}</p>\n                `:""}\n              </div>\n\n              \x3c!-- Signature Section --\x3e\n              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; border-top: 2px solid #d1d5db; padding-top: 24px;">\n                <div style="text-align: center;">\n                  <div style="height: 64px; margin-bottom: 8px;"></div>\n                  <div style="border-top: 1px solid #9ca3af; padding-top: 8px;">\n                    <span style="font-size: 13px; font-weight: 600; color: #1f2937;">Prepared By</span>\n                  </div>\n                </div>\n                <div style="text-align: center;">\n                  <div style="height: 64px; margin-bottom: 8px;"></div>\n                  <div style="border-top: 1px solid #9ca3af; padding-top: 8px;">\n                    <span style="font-size: 13px; font-weight: 600; color: #1f2937;">Authorized By</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <script>\n          // Print when the new window loads. Use native rendering so A4 sizing from CSS is respected.\n          window.onload = function(){\n            setTimeout(function(){ window.print(); }, 150);\n          };\n        <\/script>\n      </body>\n      </html>\n    `;e.document.write(t),e.document.close()},className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors",children:[(0,Te.jsx)($j,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Print"})]})]})]}),(0,Te.jsxs)("div",{ref:x,className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,Te.jsxs)("div",{className:"relative px-8 py-6 border-b border-gray-400",children:[(0,Te.jsxs)("div",{className:"relative z-10 text-center mb-4",children:[(0,Te.jsx)("div",{className:"flex justify-center mb-3",children:(0,Te.jsx)("img",{src:tt,alt:"A Rauf Textile",className:"h-32 w-auto object-contain",style:{maxWidth:"280px"}})}),(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,Te.jsx)("p",{className:"text-xs",children:"Deals in all kind of Greige & Dyed Fabric"}),(0,Te.jsxs)("p",{className:"text-xs mt-1",children:[(0,Te.jsx)("strong",{children:"STRN #"})," 32-77-8761-279-54"]}),(0,Te.jsxs)("p",{className:"text-xs",children:[(0,Te.jsx)("strong",{children:"NTN #"})," 7225539-1"]})]})]}),(0,Te.jsx)("div",{className:"relative z-10 text-center mb-4 border-t border-gray-300 pt-4",children:(0,Te.jsx)("h1",{className:"text-xl font-bold text-gray-800 uppercase tracking-wide",children:"PURCHASE ORDER"})}),(0,Te.jsx)("div",{className:"relative z-10 border-t border-gray-400 pt-4",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[(0,Te.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-32",children:"PO Number :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.number})]}),(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-32",children:"Date :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:new Date(a.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),(0,Te.jsxs)("div",{className:"text-right space-y-1",children:[(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700",children:"Delivery Date: "}),(0,Te.jsx)("span",{className:"text-gray-800",children:new Date(a.deliveryDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700",children:"Status: "}),(0,Te.jsx)("span",{className:"ml-2 px-3 py-1 rounded-full text-xs font-medium "+("Pending"===a.status?"bg-orange-100 text-orange-800":"Approved"===a.status?"bg-blue-100 text-blue-800":"In Transit"===a.status?"bg-purple-100 text-purple-800":"Delivered"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.status})]})]})]})}),(0,Te.jsxs)("div",{className:"relative z-10 border border-gray-400 p-4 mb-4",children:[(0,Te.jsx)("h3",{className:"font-bold text-gray-800 mb-3 underline text-sm",children:"Supplier Information :"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-x-12 gap-y-2 text-sm",children:[(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-40",children:"Name :"}),(0,Te.jsx)("span",{className:"text-gray-800 font-bold",children:a.supplier.name})]}),(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-48",children:"Company :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.supplier.company})]}),(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-40",children:"Email :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.supplier.email})]}),(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-48",children:"Phone :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.supplier.phone})]}),(0,Te.jsxs)("div",{className:"flex col-span-2",children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-700 w-40",children:"Address :"}),(0,Te.jsx)("span",{className:"text-gray-800",children:a.supplier.address})]})]})]})]}),(0,Te.jsxs)("div",{className:"px-8 py-6",children:[(0,Te.jsx)("div",{className:"mb-6",children:(0,Te.jsx)("div",{className:"overflow-x-auto border-2 border-gray-400",children:(0,Te.jsxs)("table",{className:"w-full border-collapse",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gray-200 border-b-2 border-gray-400",children:[(0,Te.jsx)("th",{className:"py-3 px-2 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"S.No"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Description"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Quantity"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Net Weight (KG)"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800 border-r border-gray-400",children:"Rate"}),(0,Te.jsx)("th",{className:"py-3 px-3 text-center text-xs font-bold text-gray-800",children:"Total Amount"})]})}),(0,Te.jsxs)("tbody",{children:[(a.items||[]).length>0?a.items.map(((e,t)=>(0,Te.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,Te.jsx)("td",{className:"py-4 px-2 text-sm text-gray-800 text-center border-r border-gray-300 font-semibold",children:t+1}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 border-r border-gray-300",children:(0,Te.jsx)("div",{className:"font-medium",children:e.description||"N/A"})}),(0,Te.jsx)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:parseFloat(e.quantity||0).toLocaleString()}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:[parseFloat(e.netWeight||0).toLocaleString("en-US",{minimumFractionDigits:2})," KG"]}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:[a.currency," ",parseFloat(e.unitPrice||e.unit_price||0).toLocaleString("en-US",{minimumFractionDigits:2})]}),(0,Te.jsxs)("td",{className:"py-4 px-3 text-sm font-semibold text-gray-900 text-center",children:[a.currency," ",parseFloat(e.total||e.amount||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]},t))):(0,Te.jsx)("tr",{className:"border-b border-gray-300",children:(0,Te.jsx)("td",{colSpan:"6",className:"py-8 px-4 text-center text-sm text-gray-500",children:"No items found for this purchase order"})}),(0,Te.jsxs)("tr",{className:"bg-gray-100 border-t-2 border-gray-400",children:[(0,Te.jsx)("td",{className:"py-3 px-2 border-r border-gray-300"}),(0,Te.jsx)("td",{className:"py-3 px-3 text-sm font-bold text-gray-800 border-r border-gray-300",children:"TOTAL"}),(0,Te.jsx)("td",{className:"py-3 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:a.items?a.items.reduce(((e,t)=>e+parseFloat(t.quantity||0)),0).toLocaleString():0}),(0,Te.jsxs)("td",{className:"py-3 px-3 text-sm text-gray-800 text-center border-r border-gray-300",children:[a.items?a.items.reduce(((e,t)=>e+parseFloat(t.netWeight||0)),0).toLocaleString("en-US",{minimumFractionDigits:2}):0," KG"]}),(0,Te.jsx)("td",{className:"py-3 px-3 border-r border-gray-300"}),(0,Te.jsxs)("td",{className:"py-3 px-3 text-sm font-bold text-gray-900 text-center",children:[a.currency," ",parseFloat(a.totalAmount||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]})})}),(0,Te.jsx)("div",{className:"mb-6 border border-gray-300 p-4",children:(0,Te.jsx)("div",{className:"flex justify-between items-start",children:(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("div",{className:"mb-3",children:(0,Te.jsx)("span",{className:"font-semibold text-gray-800",children:"Amount Breakdown:"})}),(0,Te.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-700",children:"Subtotal:"}),(0,Te.jsxs)("span",{className:"font-semibold text-gray-900",children:[a.currency," ",parseFloat(a.subtotal||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsxs)("span",{className:"text-gray-700",children:["Tax (",a.taxRate,"%):"]}),(0,Te.jsxs)("span",{className:"font-semibold text-gray-900",children:[a.currency," ",parseFloat(a.taxAmount||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),(0,Te.jsxs)("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[(0,Te.jsx)("span",{className:"font-bold text-gray-800",children:"Total Amount:"}),(0,Te.jsxs)("span",{className:"font-bold text-gray-900",children:[a.currency," ",parseFloat(a.totalAmount||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]})})}),u&&(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 pb-2 border-b border-gray-200",children:"Invoice & Payment History"}),(0,Te.jsx)("button",{onClick:b,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",disabled:g,children:g?"Refreshing...":"Refresh"})]}),g?(0,Te.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading history..."})]}):p.length>0?(0,Te.jsxs)("div",{className:"space-y-4",children:[(()=>{const e=N();return(0,Te.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-lg border border-blue-200 shadow-sm",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 text-sm",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("p",{className:"font-semibold text-blue-800 mb-1",children:"PO Total Amount"}),(0,Te.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["PKR ",e.poTotal.toLocaleString()]})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("p",{className:"font-semibold text-green-800 mb-1",children:"Total Invoiced"}),(0,Te.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["PKR ",e.totalInvoiced.toLocaleString()]}),(0,Te.jsxs)("p",{className:"text-xs text-green-500",children:[e.invoicingPercentage,"% of PO"]})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("p",{className:"font-semibold text-orange-800 mb-1",children:"Remaining to Invoice"}),(0,Te.jsxs)("p",{className:"text-xl font-bold text-orange-600",children:["PKR ",e.remainingAmount.toLocaleString()]}),(0,Te.jsxs)("p",{className:"text-xs text-orange-500",children:[Number(100-Number(e.invoicingPercentage||0)).toFixed(2),"% remaining"]})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("p",{className:"font-semibold text-purple-800 mb-1",children:"Invoice Count"}),(0,Te.jsx)("p",{className:"text-xl font-bold text-purple-600",children:e.invoiceCount}),(0,Te.jsx)("p",{className:"text-xs text-purple-500",children:e.invoiceCount>1?"Multiple invoices":1===e.invoiceCount?"Single invoice":"No invoices"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("p",{className:"font-semibold text-gray-800 mb-1",children:"Status"}),(0,Te.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium "+("Fully Invoiced"===e.status?"bg-green-100 text-green-800":"Partially Invoiced"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})]})]}),(0,Te.jsxs)("div",{className:"mt-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Invoicing Progress"}),(0,Te.jsxs)("span",{className:"text-xs font-medium text-gray-700",children:[e.invoicingPercentage,"%"]})]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(100===e.invoicingPercentage?"bg-green-500":e.invoicingPercentage>50?"bg-yellow-500":"bg-blue-500"),style:{width:`${Math.min(e.invoicingPercentage,100)}%`}})})]})]})})(),p.map(((e,t)=>(0,Te.jsxs)("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Te.jsx)("h4",{className:"font-semibold text-gray-900",children:e.invoice_number}),(0,Te.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("Paid"===e.status?"bg-green-100 text-green-800":"Sent"===e.status?"bg-blue-100 text-blue-800":"Draft"===e.status?"bg-gray-100 text-gray-800":"Overdue"===e.status?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:e.status})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium",children:"Invoice Date:"}),(0,Te.jsx)("p",{children:new Date(e.invoice_date).toLocaleDateString()})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium",children:"Supplier:"}),(0,Te.jsx)("p",{children:a.supplier.name||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["PKR ",(parseFloat(e.invoice_amount||e.total_amount)||0).toLocaleString()]}),(0,Te.jsxs)("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),"Paid"===e.status&&(0,Te.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Te.jsx)("span",{className:"font-medium",children:"Payment Completed"}),(0,Te.jsx)("span",{className:"text-gray-500",children:"\u2022"}),(0,Te.jsx)("span",{children:"Full amount received"})]})}),"Overdue"===e.status&&(0,Te.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Te.jsx)("span",{className:"font-medium",children:"Payment Overdue"}),(0,Te.jsx)("span",{className:"text-gray-500",children:"\u2022"}),(0,Te.jsx)("span",{children:e.due_date&&new Date>new Date(e.due_date)?`${Math.ceil((new Date-new Date(e.due_date))/864e5)} days overdue`:"Payment pending"})]})}),"Pending"===e.status&&(0,Te.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2 text-sm text-orange-700",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,Te.jsx)("span",{className:"font-medium",children:"Pending Payment"}),(0,Te.jsx)("span",{className:"text-gray-500",children:"\u2022"}),(0,Te.jsx)("span",{children:e.due_date?`Due ${new Date(e.due_date).toLocaleDateString()}`:"No due date set"})]}),(0,Te.jsx)("button",{onClick:()=>(async(e,t)=>{try{if(!(await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/po-invoices/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t,payment_date:"Paid"===t?(new Date).toISOString().split("T")[0]:null})})).ok)throw new Error("Failed to update invoice status");{await b();const e="Paid"===t?"marked as paid":`updated to ${t}`;alert(`Invoice successfully ${e}!`)}}catch(l){console.error("Error updating invoice status:",l),alert("Failed to update invoice status. Please try again.")}})(e.id,"Paid"),className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200",children:"Mark as Paid"})]})}),e.notes&&(0,Te.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Notes:"})," ",e.notes]})})]},e.id||t)))]}):(0,Te.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,Te.jsx)("p",{className:"text-gray-500 mb-2",children:"No invoices created for this purchase order yet"}),(0,Te.jsx)("p",{className:"text-sm text-gray-400",children:'Click "Make Invoice" to create the first invoice'})]})]}),(0,Te.jsxs)("div",{className:"mb-6 border border-gray-300 p-4",children:[(0,Te.jsx)("h4",{className:"font-bold text-gray-800 mb-3",children:"Terms and Conditions"}),(0,Te.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:a.termsAndConditions}),a.notes&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("h4",{className:"font-bold text-gray-800 mb-3",children:"Special Notes"}),(0,Te.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.notes})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-8 border-t-2 border-gray-300 pt-6 mb-6",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"h-16 mb-2"}),(0,Te.jsx)("div",{className:"border-t border-gray-400 pt-2",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Prepared By"})})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"h-16 mb-2"}),(0,Te.jsx)("div",{className:"border-t border-gray-400 pt-2",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Authorized By"})})]})]})]}),(0,Te.jsxs)("div",{className:"relative z-10 bg-[#E8D5A8] text-center py-3 rounded-b-lg border-t-2 border-gray-400",children:[(0,Te.jsx)("p",{className:"text-xs text-gray-700 mt-1",children:"Deals in all kind of Greige & Dyed Fabric"}),(0,Te.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Generated on ",(new Date).toLocaleDateString()," | Created by ",a.createdBy,a.approvedBy&&` | Approved by ${a.approvedBy}`]})]})]}),h&&(0,Te.jsx)(S,{})]}):(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)("p",{className:"text-gray-500",children:"Purchase order not found"}),(0,Te.jsx)("button",{onClick:n,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Back to List"})]})},Jj=()=>{var e;const{poId:t}=ne(),n=te(),a=Z(),i=(null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.editPOId)||null,[o,s]=(0,r.useState)("list"),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0);(0,r.useEffect)((()=>{t?(c(t),s("details")):(s("list"),c(null)),p()}),[t]);const p=async()=>{try{f(!0);const e=await fetch(Ge.PURCHASE_ORDERS.LIST);if(e.ok){const t=await e.json(),n=e=>!e||isNaN(e)?"0":new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(e),r=new Date,a=r.getMonth(),i=r.getFullYear(),o=0===a?11:a-1,s=0===a?i-1:i,l=t.length,c=(t.filter((e=>"Pending"===e.status)).length,t.filter((e=>"Approved"===e.status)).length),u=(t.filter((e=>"Completed"===e.status)).length,t.filter((e=>"Cancelled"===e.status)).length,t.filter((e=>"Fully Invoiced"===e.invoice_status)).length),h=t.filter((e=>"Partially Invoiced"===e.invoice_status)).length,f=(t.filter((e=>!e.invoice_status||"Not Invoiced"===e.invoice_status)).length,t.reduce(((e,t)=>e+(parseFloat(t.total_amount)||0)),0)),p=t.reduce(((e,t)=>e+((parseFloat(t.total_amount)||0)-(parseFloat(t.remaining_amount)||0))),0),m=t.filter((e=>{const t=new Date(e.po_date);return t.getMonth()===a&&t.getFullYear()===i})),g=m.reduce(((e,t)=>e+(parseFloat(t.total_amount)||0)),0),y=m.length,x=t.filter((e=>{const t=new Date(e.po_date);return t.getMonth()===o&&t.getFullYear()===s})),b=(x.reduce(((e,t)=>e+(parseFloat(t.total_amount)||0)),0),x.length),v=b>0?(y-b)/b*100:y>0?100:0;d([{title:"Total Purchase Orders",amount:l.toString(),currency:"",indicator:{text:v>=0?`+${Math.round(v)}%`:`${Math.round(v)}%`,color:v>=0?"green":"red"}},{title:"Active Orders",amount:c.toString(),currency:"",indicator:{text:h>0?`${h} In Progress`:u>0?"All Complete":`${c} Approved`,color:h>0?"yellow":u>0?"green":"blue"}},{title:"Total Value",amount:n(f),currency:"PKR",indicator:{text:p>0?`${(p/f*100).toFixed(0)}% Invoiced`:"0% Invoiced",color:p===f?"green":p>0?"yellow":"red"}},{title:"This Month",amount:n(g),currency:"PKR",indicator:{text:`${y} New`,color:y>0?"blue":"gray"}}])}}catch(e){console.error("Error fetching summary data:",e),d([{title:"Total Purchase Orders",amount:"0",currency:"",indicator:{text:"0%",color:"gray"}},{title:"Active Orders",amount:"0",currency:"",indicator:{text:"None Yet",color:"gray"}},{title:"Total Value",amount:"0",currency:"PKR",indicator:{text:"0% Invoiced",color:"gray"}},{title:"This Month",amount:"0",currency:"PKR",indicator:{text:"0 New",color:"gray"}}])}finally{f(!1)}};return(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("main",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)(ft,{}),"list"===o?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:u.map(((e,t)=>(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,Te.jsxs)("div",{className:"flex items-baseline gap-2",children:[e.currency&&(0,Te.jsx)("span",{className:"text-xs text-gray-500",children:e.currency}),(0,Te.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:e.amount})]})]}),(0,Te.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-lg",children:(0,Te.jsxs)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 3h5v5M4 21l5-5M21 3l-16 16"}),(0,Te.jsx)("path",{d:"M21 21v-5h-5M4 4h5v5"})]})})]}),(0,Te.jsx)("div",{className:"mt-3",children:(0,Te.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("blue"===e.indicator.color?"bg-blue-100 text-blue-800":"red"===e.indicator.color?"bg-red-100 text-red-800":"green"===e.indicator.color?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.indicator.text})})]},t)))}),(0,Te.jsx)(Xj,{onViewDetails:e=>{n(`/purchase-order/${e}`)},openEditPOId:i})]}):(0,Te.jsx)(Qj,{poId:l,onBack:()=>{n("/purchase-order")}}),(0,Te.jsx)(pt,{})]})]})},Zj=e=>{let{children:t}=e;const{isAuthenticated:n}=Fe(),r=Z();return n?t:(0,Te.jsx)(ye,{to:"/login",replace:!0,state:{from:r}})};var eN=n(2284),tN=Uint8Array,nN=Uint16Array,rN=Int32Array,aN=new tN([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iN=new tN([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oN=new tN([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sN=function(e,t){for(var n=new nN(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new rN(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},lN=sN(aN,2),cN=lN.b,uN=lN.r;cN[28]=258,uN[258]=28;for(var dN=sN(iN,0),hN=(dN.b,dN.r),fN=new nN(32768),pN=0;pN<32768;++pN){var mN=(43690&pN)>>1|(21845&pN)<<1;mN=(61680&(mN=(52428&mN)>>2|(13107&mN)<<2))>>4|(3855&mN)<<4,fN[pN]=((65280&mN)>>8|(255&mN)<<8)>>1}var gN=function(e,t,n){for(var r=e.length,a=0,i=new nN(t);a<r;++a)e[a]&&++i[e[a]-1];var o,s=new nN(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;if(n){o=new nN(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],d=s[e[a]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[fN[d]>>l]=c}else for(o=new nN(r),a=0;a<r;++a)e[a]&&(o[a]=fN[s[e[a]-1]++]>>15-e[a]);return o},yN=new tN(288);for(pN=0;pN<144;++pN)yN[pN]=8;for(pN=144;pN<256;++pN)yN[pN]=9;for(pN=256;pN<280;++pN)yN[pN]=7;for(pN=280;pN<288;++pN)yN[pN]=8;var xN=new tN(32);for(pN=0;pN<32;++pN)xN[pN]=5;var bN=gN(yN,9,0),vN=gN(xN,5,0),wN=function(e){return(e+7)/8|0},jN=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new tN(e.subarray(t,n))},NN=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},SN=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},_N=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return{t:TN,l:0};if(1==a){var o=new tN(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=a-1;)s=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};var h=i[0].s;for(r=1;r<a;++r)i[r].s>h&&(h=i[r].s);var f=new nN(h+1),p=kN(n[u-1],f,0);if(p>t){r=0;var m=0,g=p-t,y=1<<g;for(i.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<a;++r){var x=i[r].s;if(!(f[x]>t))break;m+=y-(1<<p-f[x]),f[x]=t}for(m>>=g;m>0;){var b=i[r].s;f[b]<t?m-=1<<t-f[b]++-1:++r}for(;r>=0&&m;--r){var v=i[r].s;f[v]==t&&(--f[v],++m)}p=t}return{t:new tN(f),l:p}},kN=function(e,t,n){return-1==e.s?Math.max(kN(e.l,t,n+1),kN(e.r,t,n+1)):t[e.s]=n},PN=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new nN(++t),r=0,a=e[0],i=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:n.subarray(0,r),n:t}},AN=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},EN=function(e,t,n){var r=n.length,a=wN(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<r;++i)e[a+i+4]=n[i];return 8*(a+4+r)},ON=function(e,t,n,r,a,i,o,s,l,c,u){NN(t,u++,n),++a[256];for(var d=_N(a,15),h=d.t,f=d.l,p=_N(i,15),m=p.t,g=p.l,y=PN(h),x=y.c,b=y.n,v=PN(m),w=v.c,j=v.n,N=new nN(19),S=0;S<x.length;++S)++N[31&x[S]];for(S=0;S<w.length;++S)++N[31&w[S]];for(var _=_N(N,7),k=_.t,P=_.l,A=19;A>4&&!k[oN[A-1]];--A);var E,O,C,T,L=c+5<<3,D=AN(a,yN)+AN(i,xN)+o,F=AN(a,h)+AN(i,m)+o+14+3*A+AN(N,k)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&L<=D&&L<=F)return EN(t,u,e.subarray(l,l+c));if(NN(t,u,1+(F<D)),u+=2,F<D){E=gN(h,f,0),O=h,C=gN(m,g,0),T=m;var I=gN(k,P,0);NN(t,u,b-257),NN(t,u+5,j-1),NN(t,u+10,A-4),u+=14;for(S=0;S<A;++S)NN(t,u+3*S,k[oN[S]]);u+=3*A;for(var R=[x,w],M=0;M<2;++M){var B=R[M];for(S=0;S<B.length;++S){var z=31&B[S];NN(t,u,I[z]),u+=k[z],z>15&&(NN(t,u,B[S]>>5&127),u+=B[S]>>12)}}}else E=bN,O=yN,C=vN,T=xN;for(S=0;S<s;++S){var U=r[S];if(U>255){SN(t,u,E[(z=U>>18&31)+257]),u+=O[z+257],z>7&&(NN(t,u,U>>23&31),u+=aN[z]);var q=31&U;SN(t,u,C[q]),u+=T[q],q>3&&(SN(t,u,U>>5&8191),u+=iN[q])}else SN(t,u,E[U]),u+=O[U]}return SN(t,u,E[256]),u+O[256]},CN=new rN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TN=new tN(0),LN=function(e,t,n,r,a,i){var o=i.z||e.length,s=new tN(r+o+5*(1+Math.ceil(o/7e3))+a),l=s.subarray(r,s.length-a),c=i.l,u=7&(i.r||0);if(t){u&&(l[0]=i.r>>3);for(var d=CN[t-1],h=d>>13,f=8191&d,p=(1<<n)-1,m=i.p||new nN(32768),g=i.h||new nN(p+1),y=Math.ceil(n/3),x=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<x)&p},v=new rN(25e3),w=new nN(288),j=new nN(32),N=0,S=0,_=i.i||0,k=0,P=i.w||0,A=0;_+2<o;++_){var E=b(_),O=32767&_,C=g[E];if(m[O]=C,g[E]=O,P<=_){var T=o-_;if((N>7e3||k>24576)&&(T>423||!c)){u=ON(e,l,0,v,w,j,S,k,A,_-A,u),k=N=S=0,A=_;for(var L=0;L<286;++L)w[L]=0;for(L=0;L<30;++L)j[L]=0}var D=2,F=0,I=f,R=O-C&32767;if(T>2&&E==b(_-R))for(var M=Math.min(h,T)-1,B=Math.min(32767,_),z=Math.min(258,T);R<=B&&--I&&O!=C;){if(e[_+D]==e[_+D-R]){for(var U=0;U<z&&e[_+U]==e[_+U-R];++U);if(U>D){if(D=U,F=R,U>M)break;var q=Math.min(R,U-2),$=0;for(L=0;L<q;++L){var W=_-R+L&32767,H=W-m[W]&32767;H>$&&($=H,C=W)}}}R+=(O=C)-(C=m[O])&32767}if(F){v[k++]=268435456|uN[D]<<18|hN[F];var K=31&uN[D],V=31&hN[F];S+=aN[K]+iN[V],++w[257+K],++j[V],P=_+D,++N}else v[k++]=e[_],++w[e[_]]}}for(_=Math.max(_,P);_<o;++_)v[k++]=e[_],++w[e[_]];u=ON(e,l,c,v,w,j,S,k,A,_-A,u),c||(i.r=7&u|l[u/8|0]<<3,u-=7,i.h=g,i.p=m,i.i=_,i.w=P)}else{for(_=i.w||0;_<o+c;_+=65535){var G=_+65535;G>=o&&(l[u/8|0]=c,G=o),u=EN(l,u+1,e.subarray(_,G))}i.i=o}return jN(s,0,r+wN(u)+a)},DN=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,i=0|n.length,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=r+=n[o];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},FN=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new tN(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return LN(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)},IN=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},RN=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=DN();a.p(t.dictionary),IN(e,2,a.d())}};function MN(e,t){t||(t={});var n=DN();n.p(e);var r=FN(e,t,t.dictionary?6:2,4);return RN(r,t),IN(r,r.length-4,n.d()),r}var BN="undefined"!=typeof TextDecoder&&new TextDecoder;try{BN.decode(TN,{stream:!0})}catch(QC){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function zN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function UN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qN(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const $N=new TextEncoder;const WN=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),HN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class KN{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,a=e.byteLength-r;let i=r;(ArrayBuffer.isView(e)||e instanceof KN)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,a),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=HN[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===WN&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const a=new HN[t](e.buffer);return this.offset+=n,a.reverse(),a}const i=new HN[t](a);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return qN(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return qN(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return $N.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function VN(e){let t=e.length;for(;--t>=0;)e[t]=0}const GN=256,YN=286,XN=30,QN=15,JN=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ZN=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eS=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tS=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nS=new Array(576);VN(nS);const rS=new Array(60);VN(rS);const aS=new Array(512);VN(aS);const iS=new Array(256);VN(iS);const oS=new Array(29);VN(oS);const sS=new Array(XN);function lS(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let cS,uS,dS;function hS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}VN(sS);const fS=e=>e<256?aS[e]:aS[256+(e>>>7)],pS=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},mS=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,pS(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},gS=(e,t,n)=>{mS(e,n[2*t],n[2*t+1])},yS=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},xS=(e,t,n)=>{const r=new Array(16);let a,i,o=0;for(a=1;a<=QN;a++)o=o+n[a-1]<<1,r[a]=o;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=yS(r[t]++,t))}},bS=e=>{let t;for(t=0;t<YN;t++)e.dyn_ltree[2*t]=0;for(t=0;t<XN;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},vS=e=>{e.bi_valid>8?pS(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},wS=(e,t,n,r)=>{const a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},jS=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&wS(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!wS(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},NS=(e,t,n)=>{let r,a,i,o,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,a=e.pending_buf[e.sym_buf+s++],0===r?gS(e,a,t):(i=iS[a],gS(e,i+GN+1,t),o=JN[i],0!==o&&(a-=oS[i],mS(e,a,o)),r--,i=fS(r),gS(e,i,n),o=ZN[i],0!==o&&(r-=sS[i],mS(e,r,o)))}while(s<e.sym_next);gS(e,256,t)},SS=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<i;o++)0!==n[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[2*l+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)jS(e,n,o);l=i;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],jS(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*l]=n[2*o]+n[2*s],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=l,e.heap[1]=l++,jS(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,h,f,p,m=0;for(h=0;h<=QN;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],h=n[2*n[2*u+1]+1]+1,h>l&&(h=l,m++),n[2*u+1]=h,u>r||(e.bl_count[h]++,f=0,u>=s&&(f=o[u-s]),p=n[2*u],e.opt_len+=p*(h+f),i&&(e.static_len+=p*(a[2*u+1]+f)));if(0!==m){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(u=e.bl_count[h];0!==u;)d=e.heap[--c],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),u--)}})(e,t),xS(n,c,e.bl_count)},_S=(e,t,n)=>{let r,a,i=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++s<l&&a===o||(s<c?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))},kS=(e,t,n)=>{let r,a,i=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++s<l&&a===o)){if(s<c)do{gS(e,a,e.bl_tree)}while(0!==--s);else 0!==a?(a!==i&&(gS(e,a,e.bl_tree),s--),gS(e,16,e.bl_tree),mS(e,s-3,2)):s<=10?(gS(e,17,e.bl_tree),mS(e,s-3,3)):(gS(e,18,e.bl_tree),mS(e,s-11,7));s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}};let PS=!1;const AS=(e,t,n,r)=>{mS(e,0+(r?1:0),3),vS(e),pS(e,n),pS(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var ES=e=>{PS||((()=>{let e,t,n,r,a;const i=new Array(16);for(n=0,r=0;r<28;r++)for(oS[r]=n,e=0;e<1<<JN[r];e++)iS[n++]=r;for(iS[n-1]=r,a=0,r=0;r<16;r++)for(sS[r]=a,e=0;e<1<<ZN[r];e++)aS[a++]=r;for(a>>=7;r<XN;r++)for(sS[r]=a<<7,e=0;e<1<<ZN[r]-7;e++)aS[256+a++]=r;for(t=0;t<=QN;t++)i[t]=0;for(e=0;e<=143;)nS[2*e+1]=8,e++,i[8]++;for(;e<=255;)nS[2*e+1]=9,e++,i[9]++;for(;e<=279;)nS[2*e+1]=7,e++,i[7]++;for(;e<=287;)nS[2*e+1]=8,e++,i[8]++;for(xS(nS,287,i),e=0;e<XN;e++)rS[2*e+1]=5,rS[2*e]=yS(e,5);cS=new lS(nS,JN,257,YN,QN),uS=new lS(rS,ZN,0,XN,QN),dS=new lS(new Array(0),eS,0,19,7)})(),PS=!0),e.l_desc=new hS(e.dyn_ltree,cS),e.d_desc=new hS(e.dyn_dtree,uS),e.bl_desc=new hS(e.bl_tree,dS),e.bi_buf=0,e.bi_valid=0,bS(e)},OS=(e,t,n,r)=>{let a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<GN;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),SS(e,e.l_desc),SS(e,e.d_desc),o=(e=>{let t;for(_S(e,e.dyn_ltree,e.l_desc.max_code),_S(e,e.dyn_dtree,e.d_desc.max_code),SS(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*tS[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?AS(e,t,n,r):4===e.strategy||i===a?(mS(e,2+(r?1:0),3),NS(e,nS,rS)):(mS(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(mS(e,t-257,5),mS(e,n-1,5),mS(e,r-4,4),a=0;a<r;a++)mS(e,e.bl_tree[2*tS[a]+1],3);kS(e,e.dyn_ltree,t-1),kS(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),NS(e,e.dyn_ltree,e.dyn_dtree)),bS(e),r&&vS(e)},CS=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(iS[n]+GN+1)]++,e.dyn_dtree[2*fS(t)]++),e.sym_next===e.sym_end),TS=e=>{mS(e,2,3),gS(e,256,nS),(e=>{16===e.bi_valid?(pS(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},LS={_tr_init:ES,_tr_stored_block:AS,_tr_flush_block:OS,_tr_tally:CS,_tr_align:TS};var DS=(e,t,n,r)=>{let a=65535&e,i=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{a=a+t[r++]|0,i=i+a|0}while(--o);a%=65521,i%=65521}return a|i<<16};const FS=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var IS=(e,t,n,r)=>{const a=FS,i=r+n;e^=-1;for(let o=r;o<i;o++)e=e>>>8^a[255&(e^t[o])];return~e},RS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},MS={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:BS,_tr_stored_block:zS,_tr_flush_block:US,_tr_tally:qS,_tr_align:$S}=LS,{Z_NO_FLUSH:WS,Z_PARTIAL_FLUSH:HS,Z_FULL_FLUSH:KS,Z_FINISH:VS,Z_BLOCK:GS,Z_OK:YS,Z_STREAM_END:XS,Z_STREAM_ERROR:QS,Z_DATA_ERROR:JS,Z_BUF_ERROR:ZS,Z_DEFAULT_COMPRESSION:e_,Z_FILTERED:t_,Z_HUFFMAN_ONLY:n_,Z_RLE:r_,Z_FIXED:a_,Z_DEFAULT_STRATEGY:i_,Z_UNKNOWN:o_,Z_DEFLATED:s_}=MS,l_=258,c_=262,u_=42,d_=113,h_=666,f_=(e,t)=>(e.msg=RS[t],t),p_=e=>2*e-(e>4?9:0),m_=e=>{let t=e.length;for(;--t>=0;)e[t]=0},g_=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=a?n-a:0}while(--t);t=a,r=t;do{n=e.prev[--r],e.prev[r]=n>=a?n-a:0}while(--t)};let y_=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const x_=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},b_=(e,t)=>{US(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,x_(e.strm)},v_=(e,t)=>{e.pending_buf[e.pending++]=t},w_=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},j_=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=DS(e.adler,t,a,n):2===e.state.wrap&&(e.adler=IS(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},N_=(e,t)=>{let n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-c_?e.strstart-(e.w_size-c_):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+l_;let f=c[i+o-1],p=c[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+o]===p&&c[n+o-1]===f&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=l_-(h-i),i=h-l_,r>o){if(e.match_start=t,o=r,r>=s)break;f=c[i+o-1],p=c[i+o]}}}while((t=d[t&u])>l&&0!==--a);return o<=e.lookahead?o:e.lookahead},S_=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-c_)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),g_(e),r+=t),0===e.strm.avail_in)break;if(n=j_(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=y_(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=y_(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<c_&&0!==e.strm.avail_in)},__=(e,t)=>{let n,r,a,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,s=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>a&&(n=a),n<i&&(0===n&&t!==VS||t===WS||n!==r+e.strm.avail_in))break;o=t===VS&&n===r+e.strm.avail_in?1:0,zS(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,x_(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(j_(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===o);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==WS&&t!==VS&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(j_(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,i=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=i||(r||t===VS)&&t!==WS&&0===e.strm.avail_in&&r<=a)&&(n=r>a?a:r,o=t===VS&&0===e.strm.avail_in&&n===r?1:0,zS(e,e.block_start,n,o),e.block_start+=n,x_(e.strm)),o?3:1)},k_=(e,t)=>{let n,r;for(;;){if(e.lookahead<c_){if(S_(e),e.lookahead<c_&&t===WS)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=y_(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-c_&&(e.match_length=N_(e,n)),e.match_length>=3)if(r=qS(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=y_(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=y_(e,e.ins_h,e.window[e.strstart+1]);else r=qS(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b_(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===VS?(b_(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(b_(e,!1),0===e.strm.avail_out)?1:2},P_=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<c_){if(S_(e),e.lookahead<c_&&t===WS)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=y_(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-c_&&(e.match_length=N_(e,n),e.match_length<=5&&(e.strategy===t_||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=qS(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=y_(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b_(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=qS(e,0,e.window[e.strstart-1]),r&&b_(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=qS(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===VS?(b_(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(b_(e,!1),0===e.strm.avail_out)?1:2};function A_(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const E_=[new A_(0,0,0,0,__),new A_(4,4,8,4,k_),new A_(4,5,16,8,k_),new A_(4,6,32,32,k_),new A_(4,4,16,16,P_),new A_(8,16,32,32,P_),new A_(8,16,128,128,P_),new A_(8,32,128,256,P_),new A_(32,128,258,1024,P_),new A_(32,258,258,4096,P_)];function O_(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=s_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),m_(this.dyn_ltree),m_(this.dyn_dtree),m_(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),m_(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),m_(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const C_=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==u_&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==d_&&t.status!==h_?1:0},T_=e=>{if(C_(e))return f_(e,QS);e.total_in=e.total_out=0,e.data_type=o_;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?u_:d_,e.adler=2===t.wrap?0:1,t.last_flush=-2,BS(t),YS},L_=e=>{const t=T_(e);return t===YS&&(e=>{e.window_size=2*e.w_size,m_(e.head),e.max_lazy_match=E_[e.level].max_lazy,e.good_match=E_[e.level].good_length,e.nice_match=E_[e.level].nice_length,e.max_chain_length=E_[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},D_=(e,t,n,r,a,i)=>{if(!e)return QS;let o=1;if(t===e_&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||n!==s_||r<8||r>15||t<0||t>9||i<0||i>a_||8===r&&1!==o)return f_(e,QS);8===r&&(r=9);const s=new O_;return e.state=s,s.strm=e,s.status=u_,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=i,s.method=n,L_(e)};var F_=(e,t)=>{if(C_(e)||t>GS||t<0)return e?f_(e,QS):QS;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===h_&&t!==VS)return f_(e,0===e.avail_out?ZS:QS);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(x_(e),0===e.avail_out)return n.last_flush=-1,YS}else if(0===e.avail_in&&p_(t)<=p_(r)&&t!==VS)return f_(e,ZS);if(n.status===h_&&0!==e.avail_in)return f_(e,ZS);if(n.status===u_&&0===n.wrap&&(n.status=d_),n.status===u_){let t=s_+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=n_||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,w_(n,t),0!==n.strstart&&(w_(n,e.adler>>>16),w_(n,65535&e.adler)),e.adler=1,n.status=d_,x_(e),0!==n.pending)return n.last_flush=-1,YS}if(57===n.status)if(e.adler=0,v_(n,31),v_(n,139),v_(n,8),n.gzhead)v_(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),v_(n,255&n.gzhead.time),v_(n,n.gzhead.time>>8&255),v_(n,n.gzhead.time>>16&255),v_(n,n.gzhead.time>>24&255),v_(n,9===n.level?2:n.strategy>=n_||n.level<2?4:0),v_(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(v_(n,255&n.gzhead.extra.length),v_(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=IS(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(v_(n,0),v_(n,0),v_(n,0),v_(n,0),v_(n,0),v_(n,9===n.level?2:n.strategy>=n_||n.level<2?4:0),v_(n,3),n.status=d_,x_(e),0!==n.pending)return n.last_flush=-1,YS;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=IS(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,x_(e),0!==n.pending)return n.last_flush=-1,YS;t=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=IS(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=IS(e.adler,n.pending_buf,n.pending-r,r)),x_(e),0!==n.pending)return n.last_flush=-1,YS;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,v_(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=IS(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=IS(e.adler,n.pending_buf,n.pending-r,r)),x_(e),0!==n.pending)return n.last_flush=-1,YS;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,v_(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=IS(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(x_(e),0!==n.pending))return n.last_flush=-1,YS;v_(n,255&e.adler),v_(n,e.adler>>8&255),e.adler=0}if(n.status=d_,x_(e),0!==n.pending)return n.last_flush=-1,YS}if(0!==e.avail_in||0!==n.lookahead||t!==WS&&n.status!==h_){let r=0===n.level?__(n,t):n.strategy===n_?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(S_(e),0===e.lookahead)){if(t===WS)return 1;break}if(e.match_length=0,n=qS(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===VS?(b_(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(b_(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===r_?((e,t)=>{let n,r,a,i;const o=e.window;for(;;){if(e.lookahead<=l_){if(S_(e),e.lookahead<=l_&&t===WS)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=o[a],r===o[++a]&&r===o[++a]&&r===o[++a])){i=e.strstart+l_;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=l_-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=qS(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=qS(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===VS?(b_(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(b_(e,!1),0===e.strm.avail_out)?1:2})(n,t):E_[n.level].func(n,t);if(3!==r&&4!==r||(n.status=h_),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),YS;if(2===r&&(t===HS?$S(n):t!==GS&&(zS(n,0,0,!1),t===KS&&(m_(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),x_(e),0===e.avail_out))return n.last_flush=-1,YS}return t!==VS?YS:n.wrap<=0?XS:(2===n.wrap?(v_(n,255&e.adler),v_(n,e.adler>>8&255),v_(n,e.adler>>16&255),v_(n,e.adler>>24&255),v_(n,255&e.total_in),v_(n,e.total_in>>8&255),v_(n,e.total_in>>16&255),v_(n,e.total_in>>24&255)):(w_(n,e.adler>>>16),w_(n,65535&e.adler)),x_(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?YS:XS)},I_=(e,t)=>{let n=t.length;if(C_(e))return QS;const r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==u_||r.lookahead)return QS;if(1===a&&(e.adler=DS(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(m_(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,S_(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=y_(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,S_(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=i,r.wrap=a,YS},R_={deflateInit:(e,t)=>D_(e,t,s_,15,8,i_),deflateInit2:D_,deflateReset:L_,deflateResetKeep:T_,deflateSetHeader:(e,t)=>C_(e)||2!==e.state.wrap?QS:(e.state.gzhead=t,YS),deflate:F_,deflateEnd:e=>{if(C_(e))return QS;const t=e.state.status;return e.state=null,t===d_?f_(e,JS):YS},deflateSetDictionary:I_,deflateInfo:"pako deflate (from Nodeca project)"};const M_=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var B_=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)M_(n,t)&&(e[t]=n[t])}}return e},z_=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,i=e.length;r<i;r++){let t=e[r];n.set(t,a),a+=t.length}return n};let U_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(JC){U_=!1}const q_=new Uint8Array(256);for(let n=0;n<256;n++)q_[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;q_[254]=q_[254]=1;var $_=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,o=e.length,s=0;for(a=0;a<o;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,a=0;i<s;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},W_=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){i[a++]=t;continue}let o=q_[t];if(o>4)i[a++]=65533,r+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&r<n;)t=t<<6|63&e[r++],o--;o>1?i[a++]=65533:t<65536?i[a++]=t:(t-=65536,i[a++]=55296|t>>10&1023,i[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&U_)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,a)},H_=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+q_[e[n]]>t?n:t};var K_=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const V_=Object.prototype.toString,{Z_NO_FLUSH:G_,Z_SYNC_FLUSH:Y_,Z_FULL_FLUSH:X_,Z_FINISH:Q_,Z_OK:J_,Z_STREAM_END:Z_,Z_DEFAULT_COMPRESSION:ek,Z_DEFAULT_STRATEGY:tk,Z_DEFLATED:nk}=MS;function rk(e){this.options=B_({level:ek,method:nk,chunkSize:16384,windowBits:15,memLevel:8,strategy:tk},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K_,this.strm.avail_out=0;let n=R_.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==J_)throw new Error(RS[n]);if(t.header&&R_.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?$_(t.dictionary):"[object ArrayBuffer]"===V_.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=R_.deflateSetDictionary(this.strm,e),n!==J_)throw new Error(RS[n]);this._dict_set=!0}}function ak(e,t){const n=new rk(t);if(n.push(e,!0),n.err)throw n.msg||RS[n.err];return n.result}rk.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Q_:G_,"string"===typeof e?n.input=$_(e):"[object ArrayBuffer]"===V_.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Y_||i===X_)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=R_.deflate(n,i),a===Z_)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=R_.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===J_;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},rk.prototype.onData=function(e){this.chunks.push(e)},rk.prototype.onEnd=function(e){e===J_&&(this.result=z_(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ik={Deflate:rk,deflate:ak,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ak(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ak(e,t)},constants:MS};const ok=16209;var sk=function(e,t){let n,r,a,i,o,s,l,c,u,d,h,f,p,m,g,y,x,b,v,w,j,N,S,_;const k=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),a=e.next_out,_=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),s=k.dmax,l=k.wsize,c=k.whave,u=k.wnext,d=k.window,h=k.hold,f=k.bits,p=k.lencode,m=k.distcode,g=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do{f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),x=p[h&g];t:for(;;){if(b=x>>>24,h>>>=b,f-=b,b=x>>>16&255,0===b)_[a++]=65535&x;else{if(!(16&b)){if(0===(64&b)){x=p[(65535&x)+(h&(1<<b)-1)];continue t}if(32&b){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=ok;break e}v=65535&x,b&=15,b&&(f<b&&(h+=S[n++]<<f,f+=8),v+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),x=m[h&y];n:for(;;){if(b=x>>>24,h>>>=b,f-=b,b=x>>>16&255,!(16&b)){if(0===(64&b)){x=m[(65535&x)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",k.mode=ok;break e}if(w=65535&x,b&=15,f<b&&(h+=S[n++]<<f,f+=8,f<b&&(h+=S[n++]<<f,f+=8)),w+=h&(1<<b)-1,w>s){e.msg="invalid distance too far back",k.mode=ok;break e}if(h>>>=b,f-=b,b=a-i,w>b){if(b=w-b,b>c&&k.sane){e.msg="invalid distance too far back",k.mode=ok;break e}if(j=0,N=d,0===u){if(j+=l-b,b<v){v-=b;do{_[a++]=d[j++]}while(--b);j=a-w,N=_}}else if(u<b){if(j+=l+u-b,b-=u,b<v){v-=b;do{_[a++]=d[j++]}while(--b);if(j=0,u<v){b=u,v-=b;do{_[a++]=d[j++]}while(--b);j=a-w,N=_}}}else if(j+=u-b,b<v){v-=b;do{_[a++]=d[j++]}while(--b);j=a-w,N=_}for(;v>2;)_[a++]=N[j++],_[a++]=N[j++],_[a++]=N[j++],v-=3;v&&(_[a++]=N[j++],v>1&&(_[a++]=N[j++]))}else{j=a-w;do{_[a++]=_[j++],_[a++]=_[j++],_[a++]=_[j++],v-=3}while(v>2);v&&(_[a++]=_[j++],v>1&&(_[a++]=_[j++]))}break}}break}}while(n<r&&a<o);v=f>>3,n-=v,f-=v<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<o?o-a+257:257-(a-o),k.hold=h,k.bits=f};const lk=15,ck=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var fk=(e,t,n,r,a,i,o,s)=>{const l=s.bits;let c,u,d,h,f,p,m=0,g=0,y=0,x=0,b=0,v=0,w=0,j=0,N=0,S=0,_=null;const k=new Uint16Array(16),P=new Uint16Array(16);let A,E,O,C=null;for(m=0;m<=lk;m++)k[m]=0;for(g=0;g<r;g++)k[t[n+g]]++;for(b=l,x=lk;x>=1&&0===k[x];x--);if(b>x&&(b=x),0===x)return a[i++]=20971520,a[i++]=20971520,s.bits=1,0;for(y=1;y<x&&0===k[y];y++);for(b<y&&(b=y),j=1,m=1;m<=lk;m++)if(j<<=1,j-=k[m],j<0)return-1;if(j>0&&(0===e||1!==x))return-1;for(P[1]=0,m=1;m<lk;m++)P[m+1]=P[m]+k[m];for(g=0;g<r;g++)0!==t[n+g]&&(o[P[t[n+g]]++]=g);if(0===e?(_=C=o,p=20):1===e?(_=ck,C=uk,p=257):(_=dk,C=hk,p=0),S=0,g=0,m=y,f=i,v=b,w=0,d=-1,N=1<<b,h=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){A=m-w,o[g]+1<p?(E=0,O=o[g]):o[g]>=p?(E=C[o[g]-p],O=_[o[g]-p]):(E=96,O=0),c=1<<m-w,u=1<<v,y=u;do{u-=c,a[f+(S>>w)+u]=A<<24|E<<16|O}while(0!==u);for(c=1<<m-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,g++,0===--k[m]){if(m===x)break;m=t[n+o[g]]}if(m>b&&(S&h)!==d){for(0===w&&(w=b),f+=y,v=m-w,j=1<<v;v+w<x&&(j-=k[v+w],!(j<=0));)v++,j<<=1;if(N+=1<<v,1===e&&N>852||2===e&&N>592)return 1;d=S&h,a[d]=b<<24|v<<16|f-i}}return 0!==S&&(a[f+S]=m-w<<24|64<<16),s.bits=b,0};const{Z_FINISH:pk,Z_BLOCK:mk,Z_TREES:gk,Z_OK:yk,Z_STREAM_END:xk,Z_NEED_DICT:bk,Z_STREAM_ERROR:vk,Z_DATA_ERROR:wk,Z_MEM_ERROR:jk,Z_BUF_ERROR:Nk,Z_DEFLATED:Sk}=MS,_k=16180,kk=16190,Pk=16191,Ak=16192,Ek=16194,Ok=16199,Ck=16200,Tk=16206,Lk=16209,Dk=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Fk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ik=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<_k||t.mode>16211?1:0},Rk=e=>{if(Ik(e))return vk;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=_k,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,yk},Mk=e=>{if(Ik(e))return vk;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Rk(e)},Bk=(e,t)=>{let n;if(Ik(e))return vk;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?vk:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Mk(e))},zk=(e,t)=>{if(!e)return vk;const n=new Fk;e.state=n,n.strm=e,n.window=null,n.mode=_k;const r=Bk(e,t);return r!==yk&&(e.state=null),r};let Uk,qk,$k=!0;const Wk=e=>{if($k){Uk=new Int32Array(512),qk=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(fk(1,e.lens,0,288,Uk,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;fk(2,e.lens,0,32,qk,0,e.work,{bits:5}),$k=!1}e.lencode=Uk,e.lenbits=9,e.distcode=qk,e.distbits=5},Hk=(e,t,n,r)=>{let a;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var Kk=(e,t)=>{let n,r,a,i,o,s,l,c,u,d,h,f,p,m,g,y,x,b,v,w,j,N,S=0;const _=new Uint8Array(4);let k,P;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ik(e)||!e.output||!e.input&&0!==e.avail_in)return vk;n=e.state,n.mode===Pk&&(n.mode=Ak),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,h=l,N=yk;e:for(;;)switch(n.mode){case _k:if(0===n.wrap){n.mode=Ak;break}for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,_[0]=255&c,_[1]=c>>>8&255,n.check=IS(n.check,_,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Lk;break}if((15&c)!==Sk){e.msg="unknown compression method",n.mode=Lk;break}if(c>>>=4,u-=4,j=8+(15&c),0===n.wbits&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=Lk;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Pk,c=0,u=0;break;case 16181:for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==Sk){e.msg="unknown compression method",n.mode=Lk;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Lk;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=IS(n.check,_,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,n.check=IS(n.check,_,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=IS(n.check,_,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=IS(n.check,_,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>s&&(f=s),f&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+f),j)),512&n.flags&&4&n.wrap&&(n.check=IS(n.check,r,f,i)),s-=f,i+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;f=0;do{j=r[i+f++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&f<s);if(512&n.flags&&4&n.wrap&&(n.check=IS(n.check,r,f,i)),s-=f,i+=f,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;f=0;do{j=r[i+f++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&f<s);if(512&n.flags&&4&n.wrap&&(n.check=IS(n.check,r,f,i)),s-=f,i+=f,j)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Lk;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Pk;break;case 16189:for(;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}e.adler=n.check=Dk(c),c=0,u=0,n.mode=kk;case kk:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,bk;e.adler=n.check=1,n.mode=Pk;case Pk:if(t===mk||t===gk)break e;case Ak:if(n.last){c>>>=7&u,u-=7&u,n.mode=Tk;break}for(;u<3;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if(Wk(n),n.mode=Ok,t===gk){c>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Lk}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Lk;break}if(n.length=65535&c,c=0,u=0,n.mode=Ek,t===gk)break e;case Ek:n.mode=16195;case 16195:if(f=n.length,f){if(f>s&&(f=s),f>l&&(f=l),0===f)break e;a.set(r.subarray(i,i+f),o),s-=f,i+=f,l-=f,o+=f,n.length-=f;break}n.mode=Pk;break;case 16196:for(;u<14;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Lk;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.lens[A[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},N=fk(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,N){e.msg="invalid code lengths set",n.mode=Lk;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,y=S>>>16&255,x=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(x<16)c>>>=g,u-=g,n.lens[n.have++]=x;else{if(16===x){for(P=g+2;u<P;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Lk;break}j=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===x){for(P=g+3;u<P;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=g,u-=g,j=0,f=3+(7&c),c>>>=3,u-=3}else{for(P=g+7;u<P;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=g,u-=g,j=0,f=11+(127&c),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Lk;break}for(;f--;)n.lens[n.have++]=j}}if(n.mode===Lk)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Lk;break}if(n.lenbits=9,k={bits:n.lenbits},N=fk(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,N){e.msg="invalid literal/lengths set",n.mode=Lk;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},N=fk(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,N){e.msg="invalid distances set",n.mode=Lk;break}if(n.mode=Ok,t===gk)break e;case Ok:n.mode=Ck;case Ck:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,sk(e,h),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===Pk&&(n.back=-1);break}for(n.back=0;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,y=S>>>16&255,x=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(y&&0===(240&y)){for(b=g,v=y,w=x;S=n.lencode[w+((c&(1<<b+v)-1)>>b)],g=S>>>24,y=S>>>16&255,x=65535&S,!(b+g<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=g,u-=g,n.back+=g,n.length=x,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=Pk;break}if(64&y){e.msg="invalid literal/length code",n.mode=Lk;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(P=n.extra;u<P;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[c&(1<<n.distbits)-1],g=S>>>24,y=S>>>16&255,x=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(0===(240&y)){for(b=g,v=y,w=x;S=n.distcode[w+((c&(1<<b+v)-1)>>b)],g=S>>>24,y=S>>>16&255,x=65535&S,!(b+g<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=g,u-=g,n.back+=g,64&y){e.msg="invalid distance code",n.mode=Lk;break}n.offset=x,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(P=n.extra;u<P;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Lk;break}n.mode=16204;case 16204:if(0===l)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Lk;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=a,p=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{a[o++]=m[p++]}while(--f);0===n.length&&(n.mode=Ck);break;case 16205:if(0===l)break e;a[o++]=n.length,l--,n.mode=Ck;break;case Tk:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[i++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?IS(n.check,a,h,o-h):DS(n.check,a,h,o-h)),h=l,4&n.wrap&&(n.flags?c:Dk(c))!==n.check){e.msg="incorrect data check",n.mode=Lk;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Lk;break}c=0,u=0}n.mode=16208;case 16208:N=xk;break e;case Lk:N=wk;break e;case 16210:return jk;default:return vk}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Lk&&(n.mode<Tk||t!==pk))&&Hk(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?IS(n.check,a,h,e.next_out-h):DS(n.check,a,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Pk?128:0)+(n.mode===Ok||n.mode===Ek?256:0),(0===d&&0===h||t===pk)&&N===yk&&(N=Nk),N},Vk={inflateReset:Mk,inflateReset2:Bk,inflateResetKeep:Rk,inflateInit:e=>zk(e,15),inflateInit2:zk,inflate:Kk,inflateEnd:e=>{if(Ik(e))return vk;let t=e.state;return t.window&&(t.window=null),e.state=null,yk},inflateGetHeader:(e,t)=>{if(Ik(e))return vk;const n=e.state;return 0===(2&n.wrap)?vk:(n.head=t,t.done=!1,yk)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,a,i;return Ik(e)?vk:(r=e.state,0!==r.wrap&&r.mode!==kk?vk:r.mode===kk&&(a=1,a=DS(a,t,n,0),a!==r.check)?wk:(i=Hk(e,t,n,n),i?(r.mode=16210,jk):(r.havedict=1,yk)))},inflateInfo:"pako inflate (from Nodeca project)"};var Gk=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Yk=Object.prototype.toString,{Z_NO_FLUSH:Xk,Z_FINISH:Qk,Z_OK:Jk,Z_STREAM_END:Zk,Z_NEED_DICT:eP,Z_STREAM_ERROR:tP,Z_DATA_ERROR:nP,Z_MEM_ERROR:rP}=MS;function aP(e){this.options=B_({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K_,this.strm.avail_out=0;let n=Vk.inflateInit2(this.strm,t.windowBits);if(n!==Jk)throw new Error(RS[n]);if(this.header=new Gk,Vk.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=$_(t.dictionary):"[object ArrayBuffer]"===Yk.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Vk.inflateSetDictionary(this.strm,t.dictionary),n!==Jk)))throw new Error(RS[n])}function iP(e,t){const n=new aP(t);if(n.push(e),n.err)throw n.msg||RS[n.err];return n.result}aP.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,o,s;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Qk:Xk,"[object ArrayBuffer]"===Yk.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Vk.inflate(n,o),i===eP&&a&&(i=Vk.inflateSetDictionary(n,a),i===Jk?i=Vk.inflate(n,o):i===nP&&(i=eP));n.avail_in>0&&i===Zk&&n.state.wrap>0&&0!==e[n.next_in];)Vk.inflateReset(n),i=Vk.inflate(n,o);switch(i){case tP:case nP:case eP:case rP:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||i===Zk))if("string"===this.options.to){let e=H_(n.output,n.next_out),t=n.next_out-e,a=W_(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==Jk||0!==s){if(i===Zk)return i=Vk.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},aP.prototype.onData=function(e){this.chunks.push(e)},aP.prototype.onEnd=function(e){e===Jk&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=z_(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var oP={Inflate:aP,inflate:iP,inflateRaw:function(e,t){return(t=t||{}).raw=!0,iP(e,t)},ungzip:iP,constants:MS};const{Deflate:sP,deflate:lP,deflateRaw:cP,gzip:uP}=ik,{Inflate:dP,inflate:hP,inflateRaw:fP,ungzip:pP}=oP;var mP=dP,gP=hP;const yP=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;yP[n]=e}const xP=4294967295;function bP(e,t){return(function(e,t,n){let r=e;for(let a=0;a<n;a++)r=yP[255&(r^t[a])]^r>>>8;return r}(xP,e,t)^xP)>>>0}function vP(e,t,n){const r=e.readUint32(),a=bP(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${a}`)}function wP(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function jP(e,t,n,r){let a=0;for(;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function NP(e,t,n,r){let a=0;if(0===n.length)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function SP(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-a]+n[i]>>1)&255}}function _P(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+n[i]&255;for(;i<r;i++)t[i]=e[i]+kP(t[i-a],n[i],n[i-a])&255}}function kP(e,t,n){const r=e+t-n,a=Math.abs(r-e),i=Math.abs(r-t),o=Math.abs(r-n);return a<=i&&a<=o?e:i<=o?t:n}function PP(e,t,n,r,a,i){switch(e){case 0:wP(t,n,a);break;case 1:jP(t,n,a,i);break;case 2:NP(t,n,r,a);break;case 3:SP(t,n,r,a,i);break;case 4:_P(t,n,r,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const AP=new Uint16Array([255]),EP=255===new Uint8Array(AP.buffer)[0];const OP=new Uint16Array([255]),CP=255===new Uint8Array(OP.buffer)[0],TP=new Uint8Array(0);function LP(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,s=Math.ceil(i/8*a*n),l=new Uint8Array(r*s);let c,u,d=TP,h=0;for(let p=0;p<r;p++){switch(c=t.subarray(h+1,h+1+s),u=l.subarray(p*s,(p+1)*s),t[h]){case 0:wP(c,u,s);break;case 1:jP(c,u,s,o);break;case 2:NP(c,u,d,s);break;case 3:SP(c,u,d,s,o);break;case 4:_P(c,u,d,s,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=u,h+=s+1}if(16===i){const e=new Uint16Array(l.buffer);if(CP)for(let t=0;t<e.length;t++)e[t]=(255&(f=e[t]))<<8|f>>8&255;return e}return l;var f}const DP=Uint8Array.of(137,80,78,71,13,10,26,10);function FP(e){if(!function(e){if(e.length<DP.length)return!1;for(let t=0;t<DP.length;t++)if(e[t]!==DP[t])return!1;return!0}(e.readBytes(DP.length)))throw new Error("wrong PNG signature")}const IP="tEXt",RP=new TextDecoder("latin1");function MP(e){if(zP(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const BP=/^[\u0000-\u00FF]*$/;function zP(e){if(!BP.test(e))throw new Error("invalid latin1 text")}function UP(e,t,n){const r=qP(t);e[r]=function(e,t){return RP.decode(e.readBytes(t))}(t,n-r.length-1)}function qP(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=RP.decode(e.readBytes(t-e.offset-1));return e.skip(1),MP(n),n}const $P=-1,WP=0,HP=2,KP=3,VP=4,GP=6,YP=-1,XP=0,QP=-1,JP=0,ZP=-1,eA=0,tA=1,nA=0,rA=1,aA=2,iA=0,oA=1;class sA extends KN{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new mP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=YP,this._filterMethod=QP,this._interlaceMethod=ZP,this._colorType=$P,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(FP(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(FP(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case IP:UP(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vP(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vP(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case WP:n=1;break;case HP:n=3;break;case KP:n=1;break;case VP:n=2;break;case GP:n=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==XP)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case WP:case HP:if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case KP:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=qP(this),n=this.readUint8();if(n!==XP)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:gP(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=LP({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case nA:break;case rA:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const a=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[a+e]=0}break;case aA:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case iA:for(let n=0;n<t.height;n++)for(let a=0;a<t.width;a++){const{index:i,frameIndex:o}=r(n,a);for(let n=0;n<this._png.channels;n++)e.data[i+n]=t.data[o+n]}break;case oA:for(let a=0;a<t.height;a++)for(let i=0;i<t.width;i++){const{index:o,frameIndex:s}=r(a,i);for(let r=0;r<this._png.channels;r++){const a=t.data[s+this._png.channels-1]/n,i=r%(this._png.channels-1)===0?1:t.data[s+r],l=Math.floor(a*i+(1-a)*e.data[o+r]);e.data[o+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==JP)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===eA)this._png.data=LP({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==tA)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(i/8)*a,l=new Uint8Array(r*n*s);let c=0;for(let d=0;d<7;d++){const e=o[d],a=Math.ceil((n-e.x)/e.xStep),i=Math.ceil((r-e.y)/e.yStep);if(a<=0||i<=0)continue;const u=a*s,h=new Uint8Array(u);for(let o=0;o<i;o++){const i=t[c++],d=t.subarray(c,c+u);c+=u;const f=new Uint8Array(u);PP(i,d,f,h,u,s),h.set(f);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,i=e.y+o*e.yStep;if(!(a>=n||i>=r))for(let e=0;e<s;e++)l[(i*n+a)*s+e]=f[t*s+e]}}}if(16===i){const e=new Uint16Array(l.buffer);if(EP)for(let t=0;t<e.length;t++)e[t]=(255&(u=e[t]))<<8|u>>8&255;return e}return l;var u}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:nA,blendOp:iA,data:e}),this._inflator=new mP,this._writingDataChunks=!1}}var lA;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(lA||(lA={}));var cA=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function uA(){cA.console&&"function"==typeof cA.console.log&&cA.console.log.apply(cA.console,arguments)}var dA={log:uA,warn:function(e){cA.console&&("function"==typeof cA.console.warn?cA.console.warn.apply(cA.console,arguments):uA.call(null,arguments))},error:function(e){cA.console&&("function"==typeof cA.console.error?cA.console.error.apply(cA.console,arguments):uA(e))}};function hA(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){mA(r.response,t,n)},r.onerror=function(){dA.error("could not download file")},r.send()}function fA(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function pA(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var mA=cA.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,eN.A)(window))||window!==cA?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=cA.URL||cA.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?fA(a.href)?hA(e,t,n):pA(a,a.target="_blank"):pA(a)):(a.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(a.href)}),4e4),setTimeout((function(){pA(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(fA(e))hA(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){pA(r)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,eN.A)(t)&&(dA.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return hA(e,t,n);var a="application/octet-stream"===e.type,i=/constructor/i.test(cA.HTMLElement)||cA.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,eN.A)(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var l=cA.URL||cA.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});function gA(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var yA=cA.atob.bind(cA),xA=cA.btoa.bind(cA);function bA(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n=wA(n,r,a,i,t[0],7,-680876936),i=wA(i,n,r,a,t[1],12,-389564586),a=wA(a,i,n,r,t[2],17,606105819),r=wA(r,a,i,n,t[3],22,-1044525330),n=wA(n,r,a,i,t[4],7,-176418897),i=wA(i,n,r,a,t[5],12,1200080426),a=wA(a,i,n,r,t[6],17,-1473231341),r=wA(r,a,i,n,t[7],22,-45705983),n=wA(n,r,a,i,t[8],7,1770035416),i=wA(i,n,r,a,t[9],12,-1958414417),a=wA(a,i,n,r,t[10],17,-42063),r=wA(r,a,i,n,t[11],22,-1990404162),n=wA(n,r,a,i,t[12],7,1804603682),i=wA(i,n,r,a,t[13],12,-40341101),a=wA(a,i,n,r,t[14],17,-1502002290),n=jA(n,r=wA(r,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=jA(i,n,r,a,t[6],9,-1069501632),a=jA(a,i,n,r,t[11],14,643717713),r=jA(r,a,i,n,t[0],20,-373897302),n=jA(n,r,a,i,t[5],5,-701558691),i=jA(i,n,r,a,t[10],9,38016083),a=jA(a,i,n,r,t[15],14,-660478335),r=jA(r,a,i,n,t[4],20,-405537848),n=jA(n,r,a,i,t[9],5,568446438),i=jA(i,n,r,a,t[14],9,-1019803690),a=jA(a,i,n,r,t[3],14,-187363961),r=jA(r,a,i,n,t[8],20,1163531501),n=jA(n,r,a,i,t[13],5,-1444681467),i=jA(i,n,r,a,t[2],9,-51403784),a=jA(a,i,n,r,t[7],14,1735328473),n=NA(n,r=jA(r,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=NA(i,n,r,a,t[8],11,-2022574463),a=NA(a,i,n,r,t[11],16,1839030562),r=NA(r,a,i,n,t[14],23,-35309556),n=NA(n,r,a,i,t[1],4,-1530992060),i=NA(i,n,r,a,t[4],11,1272893353),a=NA(a,i,n,r,t[7],16,-155497632),r=NA(r,a,i,n,t[10],23,-1094730640),n=NA(n,r,a,i,t[13],4,681279174),i=NA(i,n,r,a,t[0],11,-358537222),a=NA(a,i,n,r,t[3],16,-722521979),r=NA(r,a,i,n,t[6],23,76029189),n=NA(n,r,a,i,t[9],4,-640364487),i=NA(i,n,r,a,t[12],11,-421815835),a=NA(a,i,n,r,t[15],16,530742520),n=SA(n,r=NA(r,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=SA(i,n,r,a,t[7],10,1126891415),a=SA(a,i,n,r,t[14],15,-1416354905),r=SA(r,a,i,n,t[5],21,-57434055),n=SA(n,r,a,i,t[12],6,1700485571),i=SA(i,n,r,a,t[3],10,-1894986606),a=SA(a,i,n,r,t[10],15,-1051523),r=SA(r,a,i,n,t[1],21,-2054922799),n=SA(n,r,a,i,t[8],6,1873313359),i=SA(i,n,r,a,t[15],10,-30611744),a=SA(a,i,n,r,t[6],15,-1560198380),r=SA(r,a,i,n,t[13],21,1309151649),n=SA(n,r,a,i,t[4],6,-145523070),i=SA(i,n,r,a,t[11],10,-1120210379),a=SA(a,i,n,r,t[2],15,718787259),r=SA(r,a,i,n,t[9],21,-343485551),e[0]=TA(n,e[0]),e[1]=TA(r,e[1]),e[2]=TA(a,e[2]),e[3]=TA(i,e[3])}function vA(e,t,n,r,a,i){return t=TA(TA(t,e),TA(r,i)),TA(t<<a|t>>>32-a,n)}function wA(e,t,n,r,a,i,o){return vA(t&n|~t&r,e,t,a,i,o)}function jA(e,t,n,r,a,i,o){return vA(t&r|n&~r,e,t,a,i,o)}function NA(e,t,n,r,a,i,o){return vA(t^n^r,e,t,a,i,o)}function SA(e,t,n,r,a,i,o){return vA(n^(t|~r),e,t,a,i,o)}function _A(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)bA(r,kA(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(bA(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,bA(r,a),r}function kA(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var PA="0123456789abcdef".split("");function AA(e){for(var t="",n=0;n<4;n++)t+=PA[e>>8*n+4&15]+PA[e>>8*n&15];return t}function EA(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function OA(e){return _A(e).map(EA).join("")}var CA="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=AA(e[t]);return e.join("")}(_A("hello"));function TA(e,t){if(CA){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function LA(e,t){var n,r,a,i;if(e!==n){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+o.charCodeAt(l))%256,s[l]=s[c],s[c]=u}n=e,r=s}else s=r;var d=t.length,h=0,f=0,p="";for(l=0;l<d;l++)f=(f+(u=s[h=(h+1)%256]))%256,s[h]=s[f],s[f]=u,o=s[(s[h]+s[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}var DA={print:4,modify:8,copy:16,"annot-forms":32};function FA(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach((function(e){if(void 0!==DA.perm)throw new Error("Invalid permission: "+e);a+=DA[e]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=OA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=LA(this.encryptionKey,this.padding)}function IA(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function RA(e){if("object"!==(0,eN.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,r)}catch(oi){cA.console&&dA.error("jsPDF PubSub Error",oi.message,oi)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function MA(e){if(!(this instanceof MA))return new MA(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function BA(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function zA(e,t,n,r,a){if(!(this instanceof zA))return new zA(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,BA.call(this,r,a)}function UA(e,t,n,r,a){if(!(this instanceof UA))return new UA(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,BA.call(this,r,a)}function qA(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,l=16,c="S",u=null;"object"===(0,eN.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,a=e.format||a,i=e.compress||e.compressPdf||i,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(!0===i?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=RA;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(e){p=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var y=f.__private__.getPageFormat=function(e){return g[e]};a=a||"a4";var x="compat",b="advanced",v=x;function w(){this.saveGraphicsState(),Q(new Ce(he,0,0,-he,0,fn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",v=b}function j(){this.restoreGraphicsState(),c="S",v=x}var N=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=v===x;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},f.compatAPI=function(e){var t=v===b;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.isAdvancedAPI=function(){return v===b};var S,_=function(e){if(v!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};S=f.hpf=f.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,16)};var P=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return k(e,2)},A=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return k(e,3)},E=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===x?e*he:v===b?e:void 0},O=function(e){return E(function(e){return v===x?fn()-e:v===b?e:void 0}(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var C,T="00000000000000000000000000000000",L=f.__private__.getFileId=function(){return T},D=f.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==u&&(xt=new FA(u.userPermissions,u.userPassword,u.ownerPassword,T)),T};f.setFileId=function(e){return D(e),this},f.getFileId=function(){return L()};var F=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),i=[n,z(r),"'",z(a),"'"].join("");return["D:",e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds()),i].join("")},I=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,i,o,0)},R=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=F(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return C=t},M=f.__private__.getCreationDate=function(e){var t=C;return"jsDate"===e&&(t=I(C)),t};f.setCreationDate=function(e){return R(e),this},f.getCreationDate=function(e){return M(e)};var B,z=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,$=[],W=[],H=0,K=[],V=[],G=!1,Y=W;f.__private__.setCustomOutputDestination=function(e){G=!0,Y=e};var X=function(e){G||(Y=e)};f.__private__.resetCustomOutputDestination=function(){G=!1,Y=W};var Q=f.__private__.out=function(e){return e=e.toString(),H+=e.length+1,Y.push(e),Y},J=f.__private__.write=function(e){return Q(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return te=v===b?e/he:e,this};var ne,re=f.__private__.getFontSize=f.getFontSize=function(){return v===x?te:te*he},ae=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return ae=e,this},f.__private__.getR2L=f.getR2L=function(){return ae};var ie,oe=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};f.__private__.getZoomMode=function(){return ne};var se,le=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ie=e};f.__private__.getPageMode=function(){return ie};var ce=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');se=e};f.__private__.getLayoutMode=function(){return se},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return oe(e),ce(t),le(n),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[e]},f.__private__.getDocumentProperties=function(){return ue},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in ue)ue.hasOwnProperty(t)&&e[t]&&(ue[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[e]=t};var de,he,fe,pe,me,ge={},ye={},xe=[],be={},ve={},we={},je={},Ne=null,Se=0,_e=[],ke=new RA(f),Pe=e.hotfixes||[],Ae={},Ee={},Oe=[],Ce=function e(t,n,r,a,i,o){if(!(this instanceof e))return new e(t,n,r,a,i,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(i)&&(i=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,a,i,o]};Object.defineProperty(Ce.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ce.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ce.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ce.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ce.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ce.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ce.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ce.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ce.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ce.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ce.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ce.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ce.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ce.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ce.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ce.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ce.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(e)},Ce.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ce(t,n,r,a,i,o)},Ce.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,o=Math.sqrt(e*e+t*t),s=(e/=o)*n+(t/=o)*r;n-=e*s,r-=t*s;var l=Math.sqrt(n*n+r*r);return s/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,s=-s,o=-o),{scale:new Ce(o,0,0,l,0,0),translate:new Ce(1,0,0,1,a,i),rotate:new Ce(e,t,-t,e,0,0),skew:new Ce(1,0,s,1,0,0)}},Ce.prototype.toString=function(e){return this.join(" ")},Ce.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,o=1/(e*r-t*n),s=r*o,l=-t*o,c=-n*o,u=e*o;return new Ce(s,l,c,u,-s*a-c*i,-l*a-u*i)},Ce.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Ce.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Ce.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty;return new Ce(e,t,n,r,a,i)},f.Matrix=Ce;var Te=f.matrixMult=function(e,t){return t.multiply(e)},Le=new Ce(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Le;var De=function(e,t){if(!ve[e]){var n=(t instanceof zA?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=n,ve[e]=n,be[n]=t,ke.publish("addPattern",t)}};f.ShadingPattern=zA,f.TilingPattern=UA,f.addShadingPattern=function(e,t){return _("addShadingPattern()"),De(e,t),this},f.beginTilingPattern=function(e){_("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){_("endTilingPattern()"),t.stream=V[B].join("\n"),De(e,t),ke.publish("endTilingPattern",t),Oe.pop().restore()};var Fe,Ie=f.__private__.newObject=function(){var e=Re();return Me(e,!0),e},Re=f.__private__.newObjectDeferred=function(){return q++,$[q]=function(){return H},q},Me=function(e,t){return t="boolean"==typeof t&&t,$[e]=H,t&&Q(e+" 0 obj"),e},Be=f.__private__.newAdditionalObject=function(){var e={objId:Re(),content:""};return K.push(e),e},ze=Re(),Ue=Re(),qe=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},$e=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,a=e.ch3,i=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new gA(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,a=255&l}if(void 0===r||void 0===i&&n===r&&r===a)t="string"==typeof n?n+" "+o[0]:2===e.precision?P(n/255)+" "+o[0]:A(n/255)+" "+o[0];else if(void 0===i||"object"===(0,eN.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",o[1]].join(" ");t="string"==typeof n?[n,r,a,o[1]].join(" "):2===e.precision?[P(n/255),P(r/255),P(a/255),o[1]].join(" "):[A(n/255),A(r/255),A(a/255),o[1]].join(" ")}else t="string"==typeof n?[n,r,a,i,o[2]].join(" "):2===e.precision?[P(n),P(r),P(a),P(i),o[2]].join(" "):[A(n),A(r),A(a),A(i),o[2]].join(" ");return t},We=f.__private__.getFilters=function(){return o},He=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||We(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,i=t.length,o=e.objectId,s=function(e){return e};if(null!==u&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(s=xt.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==qA.API.processDataByFilters?qA.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:i})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[h].value),c[h].value="["+f.join(" ")+"]"}}Q("<<");for(var m=0;m<c.length;m++)Q("/"+c[m].key+" "+c[m].value);Q(">>"),0!==l.data.length&&(Q("stream"),Q(s(l.data)),Q("endstream"))},Ke=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;Me(r,!0),Q("<</Type /Page"),Q("/Parent "+e.rootDictionaryObjId+" 0 R"),Q("/Resources "+e.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(S(e.mediaBox.bottomLeftX))+" "+parseFloat(S(e.mediaBox.bottomLeftY))+" "+S(e.mediaBox.topRightX)+" "+S(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Q("/CropBox ["+S(e.cropBox.bottomLeftX)+" "+S(e.cropBox.bottomLeftY)+" "+S(e.cropBox.topRightX)+" "+S(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Q("/BleedBox ["+S(e.bleedBox.bottomLeftX)+" "+S(e.bleedBox.bottomLeftY)+" "+S(e.bleedBox.topRightX)+" "+S(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Q("/TrimBox ["+S(e.trimBox.bottomLeftX)+" "+S(e.trimBox.bottomLeftY)+" "+S(e.trimBox.topRightX)+" "+S(e.trimBox.topRightY)+"]"),null!==e.artBox&&Q("/ArtBox ["+S(e.artBox.bottomLeftX)+" "+S(e.artBox.bottomLeftY)+" "+S(e.artBox.topRightX)+" "+S(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Q("/UserUnit "+e.userUnit),ke.publish("putPage",{objId:r,pageContext:_e[t],pageNumber:t,page:n}),Q("/Contents "+a+" 0 R"),Q(">>"),Q("endobj");var i=n.join("\n");return v===b&&(i+="\nQ"),Me(a,!0),He({data:i,filters:We(),objectId:a}),Q("endobj"),r},Ve=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Se;e++)_e[e].objId=Re(),_e[e].contentsObjId=Re();for(e=1;e<=Se;e++)n.push(Ke({number:e,data:V[e],objId:_e[e].objId,contentsObjId:_e[e].contentsObjId,mediaBox:_e[e].mediaBox,cropBox:_e[e].cropBox,bleedBox:_e[e].bleedBox,trimBox:_e[e].trimBox,artBox:_e[e].artBox,userUnit:_e[e].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:Ue}));Me(ze,!0),Q("<</Type /Pages");var r="/Kids [";for(t=0;t<Se;t++)r+=n[t]+" 0 R ";Q(r+"]"),Q("/Count "+Se),Q(">>"),Q("endobj"),ke.publish("postPutPages")},Ge=function(e){ke.publish("putFont",{font:e,out:Q,newObject:Ie,putStream:He}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ie(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+IA(e.postScriptName)),Q("/Subtype /Type1"),"string"==typeof e.encoding&&Q("/Encoding /"+e.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Ye=function(e){e.objectNumber=Ie();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[S(e.x),S(e.y),S(e.x+e.width),S(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");He({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Q("endobj")},Xe=function(e,t){t||(t=21);var n=Ie(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var s="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var u=e[l].offset,d=(n-u)/(e[l+1].offset-u),h=e[l].color,f=e[l+1].color;s+=U(Math.round((1-d)*h[0]+d*f[0]).toString(16))+U(Math.round((1-d)*h[1]+d*f[1]).toString(16))+U(Math.round((1-d)*h[2]+d*f[2]).toString(16))}return s.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Q("endobj"),e.objectNumber=Ie(),Q("<< /ShadingType "+e.type),Q("/ColorSpace /DeviceRGB");var i="/Coords ["+S(parseFloat(e.coords[0]))+" "+S(parseFloat(e.coords[1]))+" ";2===e.type?i+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3])):i+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3]))+" "+S(parseFloat(e.coords[4]))+" "+S(parseFloat(e.coords[5])),Q(i+="]"),e.matrix&&Q("/Matrix ["+e.matrix.toString()+"]"),Q("/Function "+n+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Qe=function(e,t){var n=Re(),r=Ie();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(S).join(" ")+"]"}),a.push({key:"XStep",value:S(e.xStep)}),a.push({key:"YStep",value:S(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),He({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),Q("endobj")},Je=function(e){for(var t in e.objectNumber=Ie(),Q("<<"),e)switch(t){case"opacity":Q("/ca "+P(e[t]));break;case"stroke-opacity":Q("/CA "+P(e[t]))}Q(">>"),Q("endobj")},Ze=function(e){Me(e.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Q("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&Q("/"+e+" "+ge[e].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(be).length>0){for(var e in Q("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof zA&&be[e].objectNumber>=0&&Q("/"+e+" "+be[e].objectNumber+" 0 R");ke.publish("putShadingPatternDict"),Q(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in Q("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof f.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&Q("/"+t+" "+be[t].objectNumber+" 0 R");ke.publish("putTilingPatternDict"),Q(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in Q("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&Q("/"+e+" "+we[e].objectNumber+" 0 R");ke.publish("putGStateDict"),Q(">>")}}(),function(){for(var e in Q("/XObject <<"),Ae)Ae.hasOwnProperty(e)&&Ae[e].objectNumber>=0&&Q("/"+e+" "+Ae[e].objectNumber+" 0 R");ke.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},et=function(e){ye[e.fontName]=ye[e.fontName]||{},ye[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,a){var i={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return ke.publish("addFont",{font:i,instance:this}),ge[i.id]=i,et(i),i.id},nt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var n,r,a,i,o,s,l,c,u;if(a=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&ge[de].metadata&&ge[de].metadata[a]&&ge[de].metadata[a].encoding&&(i=ge[de].metadata[a].encoding,!o&&ge[de].encoding&&(o=ge[de].encoding),!o&&i.codePages&&(o=i.codePages[0]),"string"==typeof o&&(o=i[o]),o)){for(l=!1,s=[],n=0,r=e.length;n<r;n++)(c=o[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((u=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(c-(u<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=f.__private__.beginPage=function(e){V[++Se]=[],_e[Se]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(Se),X(V[B])},at=function(e,t){var r,i,o;switch(n=t||n,"string"==typeof e&&(r=y(e.toLowerCase()),Array.isArray(r)&&(i=r[0],o=r[1])),Array.isArray(e)&&(i=e[0]*he,o=e[1]*he),isNaN(i)&&(i=a[0],o=a[1]),(i>14400||o>14400)&&(dA.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),o=Math.min(14400,o)),a=[i,o],n.substr(0,1)){case"l":o>i&&(a=[o,i]);break;case"p":i>o&&(a=[o,i])}rt(a),Mt(It),Q(Kt),0!==Jt&&Q(Jt+" J"),0!==Zt&&Q(Zt+" j"),ke.publish("addPage",{pageNumber:Se})},it=function(e){e>0&&e<=Se&&(V.splice(e,1),_e.splice(e,1),Se--,B>Se&&(B=Se),this.setPage(B))},ot=function(e){e>0&&e<=Se&&(B=e)},st=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return V.length-1},lt=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:ge[de].fontName,t=void 0!==t?t:ge[de].fontStyle,r=e.toLowerCase(),void 0!==ye[r]&&void 0!==ye[r][t]?a=ye[r][t]:void 0!==ye[e]&&void 0!==ye[e][t]?a=ye[e][t]:!1===n.disableWarning&&dA.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=ye.times[t])&&(a=ye.times.normal),a},ct=f.__private__.putInfo=function(){var e=Ie(),t=function(e){return e};for(var n in null!==u&&(t=xt.encryptor(e,0)),Q("<<"),Q("/Producer ("+nt(t("jsPDF "+qA.version))+")"),ue)ue.hasOwnProperty(n)&&ue[n]&&Q("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(ue[n]))+")");Q("/CreationDate ("+nt(t(C))+")"),Q(">>"),Q("endobj")},ut=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||ze;switch(Ie(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&Q("/OpenAction [3 0 R /XYZ null null "+P(ne)+"]")}switch(se||(se="continuous"),se){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}ie&&Q("/PageMode /"+ie),ke.publish("putCatalog"),Q(">>"),Q("endobj")},dt=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(q+1)),Q("/Root "+q+" 0 R"),Q("/Info "+(q-1)+" 0 R"),null!==u&&Q("/Encrypt "+xt.oid+" 0 R"),Q("/ID [ <"+T+"> <"+T+"> ]"),Q(">>")},ht=f.__private__.putHeader=function(){Q("%PDF-"+p),Q("%\xba\xdf\xac\xe0")},ft=f.__private__.putXRef=function(){var e="0000000000";Q("xref"),Q("0 "+(q+1)),Q("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof $[t]?Q((e+$[t]()).slice(-10)+" 00000 n "):void 0!==$[t]?Q((e+$[t]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},pt=f.__private__.buildDocument=function(){var e;q=0,H=0,W=[],$=[],K=[],ze=Re(),Ue=Re(),X(W),ke.publish("buildDocument"),ht(),Ve(),function(){ke.publish("putAdditionalObjects");for(var e=0;e<K.length;e++){var t=K[e];Me(t.objId,!0),Q(t.content),Q("endobj")}ke.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&Ge(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Je(we[e])}(),function(){for(var e in Ae)Ae.hasOwnProperty(e)&&Ye(Ae[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof zA?Xe(be[t]):be[t]instanceof UA&&Qe(be[t],e))}(e),ke.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),ke.publish("postPutResources"),null!==u&&(xt.oid=Ie(),Q("<<"),Q("/Filter /Standard"),Q("/V "+xt.v),Q("/R "+xt.r),Q("/U <"+xt.toHexString(xt.U)+">"),Q("/O <"+xt.toHexString(xt.O)+">"),Q("/P "+xt.P),Q(">>"),Q("endobj")),ct(),ut();var t=H;return ft(),dt(),Q("startxref"),Q(""+t),Q("%%EOF"),X(V[B]),W.join("\n")},mt=f.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=f.output=f.__private__.output=(Fe=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":f.save(t.filename);break;case"arraybuffer":return Z(pt());case"blob":return mt(pt());case"bloburi":case"bloburl":if(void 0!==cA.URL&&"function"==typeof cA.URL.createObjectURL)return cA.URL&&cA.URL.createObjectURL(mt(pt()))||void 0;dA.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pt();try{n=xA(r)}catch(u){n=xA(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(cA)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,i="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=cA.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(cA)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=cA.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(cA))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',p=cA.open();if(null!==p&&(p.document.write(h),p.document.title=t.filename),p||"undefined"==typeof safari)return p;break;case"datauri":case"dataurl":return cA.document.location.href=this.output("datauristring",t);default:return null}},Fe.foo=function(){try{return Fe.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!cA.console)throw new Error(n);cA.console.error(n,t),cA.alert&&alert(n)}},Fe.foo.bar=Fe,Fe.foo),yt=function(e){return!0===Array.isArray(Pe)&&Pe.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==yt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var xt=null;R(),D();var bt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_e[e].objId,pageNumber:e,pageContext:_e[e]}},vt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in _e)if(_e[t].objId===e)break;return bt(t)},wt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:_e[B].objId,pageNumber:B,pageContext:_e[B]}};f.addPage=function(){return at.apply(this,arguments),this},f.setPage=function(){return ot.apply(this,arguments),X.call(this,V[B]),this},f.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=V[e],r=_e[e];for(var a=e;a>t;a--)V[a]=V[a-1],_e[a]=_e[a-1];V[t]=n,_e[t]=r,this.setPage(t)}else if(e<t){n=V[e],r=_e[e];for(var i=e;i<t;i++)V[i]=V[i+1],_e[i]=_e[i+1];V[t]=n,_e[t]=r,this.setPage(t)}return this},f.deletePage=function(){return it.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,r,a){var i,o,s,l,c,u,d,f,p,m=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ce==0?(s=arguments[4],l=arguments[5],"object"===(0,eN.A)(d=arguments[3])&&null!==d||("string"==typeof s&&(l=s,s=null),"string"==typeof d&&(l=d,d=null),"number"==typeof d&&(s=d,d=null),r={flags:d,angle:s,align:l})):(_("The transform parameter of text() with a Matrix value"),p=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var y,x="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Ft,j=m.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,d)}function k(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function P(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,i=e.concat(),o=[],s=i.length;s--;)"string"==typeof(r=i.shift())?o.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),o.push([a[0],a[1],a[2]]));n=o}return n}var A=!1,O=!0;if("string"==typeof e)A=!0;else if(Array.isArray(e)){var C=e.concat();o=[];for(var T,L=C.length;L--;)("string"!=typeof(T=C.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(O=!1);A=O}if(!1===A)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var D=te/m.internal.scaleFactor,F=D*(w-1);switch(r.baseline){case"bottom":n-=F;break;case"top":n+=D-F;break;case"hanging":n+=D-2*F;break;case"middle":n+=D/2-F}if((u=r.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(m.splitTextToSize(t,u))}),[]))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:de,fonts:ge,activeFontSize:te}},ke.publish("preProcessText",i),e=i.text,s=(r=i.options).angle,p instanceof Ce==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),v===b&&(s=-s);var I=Math.cos(s),R=Math.sin(s);p=new Ce(I,R,-R,I,0,0)}else s&&s instanceof Ce&&(p=s);v!==b||p||(p=Le),void 0!==(c=r.charSpace||Xt)&&(x+=S(E(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(x+=S(100*f)+" Tz\n"),r.lang;var M=-1,B=void 0!==r.renderingMode?r.renderingMode:r.stroke,z=m.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":M=0;break;case 1:case!0:case"stroke":M=1;break;case 2:case"fillThenStroke":M=2;break;case 3:case"invisible":M=3;break;case 4:case"fillAndAddForClipping":M=4;break;case 5:case"strokeAndAddPathForClipping":M=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":M=6;break;case 7:case"addToPathForClipping":M=7}var U=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==M?x+=M+" Tr\n":-1!==U&&(x+="0 Tr\n"),-1!==M&&(z.usedRenderingMode=M),l=r.align||"left";var q,$=te*w,W=m.internal.pageSize.getWidth(),H=ge[de];c=r.charSpace||Xt,u=r.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},r.flags);var K=[],V=function(e){return m.getStringUnitWidth(e,{font:H,charSpace:c,fontSize:te,doKerning:!1})*te/j};if("[object Array]"===Object.prototype.toString.call(e)){var G;o=k(e),"left"!==l&&(q=o.map(V));var Y,X=0;if("right"===l){t-=q[0],e=[],L=o.length;for(var J=0;J<L;J++)0===J?(Y=qt(t),G=$t(n)):(Y=E(X-q[J]),G=-$),e.push([o[J],Y,G]),X=q[J]}else if("center"===l){t-=q[0]/2,e=[],L=o.length;for(var Z=0;Z<L;Z++)0===Z?(Y=qt(t),G=$t(n)):(Y=E((X-q[Z])/2),G=-$),e.push([o[Z],Y,G]),X=q[Z]}else if("left"===l){e=[],L=o.length;for(var ee=0;ee<L;ee++)e.push(o[ee])}else if("justify"===l&&"Identity-H"===H.encoding){e=[],L=o.length,u=0!==u?u:W;for(var ne=0,re=0;re<L;re++)if(G=0===re?$t(n):-$,Y=0===re?qt(t):ne,re<L-1){var ie=E((u-q[re])/(o[re].split(" ").length-1)),oe=o[re].split(" ");e.push([oe[0]+" ",Y,G]),ne=0;for(var se=1;se<oe.length;se++){var le=(V(oe[se-1]+" "+oe[se])-V(oe[se]))*j+ie;se==oe.length-1?e.push([oe[se],le,0]):e.push([oe[se]+" ",le,0]),ne-=le}}else e.push([o[re],Y,G]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],L=o.length,u=0!==u?u:W,re=0;re<L;re++){G=0===re?$t(n):-$,Y=0===re?qt(t):0;var ce=o[re].split(" ").length-1,ue=ce>0?(u-q[re])/ce:0;re<L-1?K.push(S(E(ue))):K.push(0),e.push([o[re],Y,G])}}}!0===("boolean"==typeof r.R2L?r.R2L:ae)&&(e=P(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:de,fonts:ge,activeFontSize:te}},ke.publish("postProcessText",i),e=i.text,y=i.mutex.isHex||!1;var he=ge[de].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=P(e,(function(e,t,n){return[N(e),t,n]}))),o=k(e),e=[];for(var fe,pe,me,ye=Array.isArray(o[0])?1:0,xe="",be=function(e,t,n){var a="";return n instanceof Ce?(n="number"==typeof r.angle?Te(n,new Ce(1,0,0,1,e,t)):Te(new Ce(1,0,0,1,e,t),n),v===b&&(n=Te(new Ce(1,0,0,-1,0,0),n)),a=n.join(" ")+" Tm\n"):a=S(e)+" "+S(t)+" Td\n",a},ve=0;ve<o.length;ve++){switch(xe="",ye){case 1:me=(y?"<":"(")+o[ve][0]+(y?">":")"),fe=parseFloat(o[ve][1]),pe=parseFloat(o[ve][2]);break;case 0:me=(y?"<":"(")+o[ve]+(y?">":")"),fe=qt(t),pe=$t(n)}void 0!==K&&void 0!==K[ve]&&(xe=K[ve]+" Tw\n"),0===ve?e.push(xe+be(fe,pe,p)+me):0===ye?e.push(xe+me):1===ye&&e.push(xe+be(fe,pe,p)+me)}e=0===ye?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=de+" "+te+" Tf\n",we+=S(te*w)+" TL\n",we+=Gt+"\n",we+=x,we+=e,Q(we+="ET"),h[de]=!0,m};var jt=f.__private__.clip=f.clip=function(e){return Q("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return jt("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var Nt=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var St=f.__private__.getStyle=f.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},_t=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(e){return kt("f",e),this},f.fillEvenOdd=function(e){return kt("f*",e),this},f.fillStroke=function(e){return kt("B",e),this},f.fillStrokeEvenOdd=function(e){return kt("B*",e),this};var kt=function(e,t){"object"===(0,eN.A)(t)?Et(t,e):Q(e)},Pt=function(e){null===e||v===b&&void 0===e||(e=St(e),Q(e))};function At(e,t,n,r,a){var i=new UA(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);i.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return De(o,i),i}var Et=function(e,t){var n=ve[e.key],r=be[n];if(r instanceof zA)Q("q"),Q(Ot(t)),r.gState&&f.setGState(r.gState),Q(e.matrix.toString()+" cm"),Q("/"+n+" sh"),Q("Q");else if(r instanceof UA){var a=new Ce(1,0,0,-1,0,fn());e.matrix&&(a=a.multiply(e.matrix||Le),n=At.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),Q("q"),Q("/Pattern cs"),Q("/"+n+" scn"),r.gState&&f.setGState(r.gState),Q(t),Q("Q")}},Ot=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ct=f.moveTo=function(e,t){return Q(S(E(e))+" "+S(O(t))+" m"),this},Tt=f.lineTo=function(e,t){return Q(S(E(e))+" "+S(O(t))+" l"),this},Lt=f.curveTo=function(e,t,n,r,a,i){return Q([S(E(e)),S(O(t)),S(E(n)),S(O(r)),S(E(a)),S(O(i)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.line");return v===x?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,a,i){var o,s,l,c,u,d,h,f,p,m,g,y;if("number"==typeof e&&(y=n,n=t,t=e,e=y),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Nt(a)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ct(t,n),o=r[0],s=r[1],c=e.length,m=t,g=n,l=0;l<c;l++)2===(u=e[l]).length?(m=u[0]*o+m,g=u[1]*s+g,Tt(m,g)):(d=u[0]*o+m,h=u[1]*s+g,f=u[2]*o+m,p=u[3]*s+g,m=u[4]*o+m,g=u[5]*s+g,Lt(d,h,f,p,m,g));return i&&_t(),Pt(a),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Ct(r[0],r[1]);break;case"l":Tt(r[0],r[1]);break;case"c":Lt.apply(this,r);break;case"h":_t()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return v===x&&(r=-r),Q([S(E(e)),S(O(t)),S(E(n)),S(E(r)),"re"].join(" ")),Pt(a),this},f.__private__.triangle=f.triangle=function(e,t,n,r,a,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,i-r],[e-a,t-i]],e,t,[1,1],o,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,a,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*a,0],[a*s,0,a,i-i*s,a,i],[0,r-2*i],[0,i*s,-a*s,i,-a,i],[2*a-n,0],[-a*s,0,-a,-i*s,-a,-i],[0,2*i-r],[0,-i*s,a*s,-i,a,-i]],e+a,t,[1,1],o,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Ct(e+n,t),Lt(e+n,t-o,e+i,t-r,e,t-r),Lt(e-i,t-r,e-n,t-o,e-n,t),Lt(e-n,t+o,e-i,t+r,e,t+r),Lt(e+i,t+r,e+n,t+o,e+n,t),Pt(a),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Nt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=N(t,n)),de=lt(e,t,{disableWarning:!1}),this};var Dt=f.__private__.getFont=f.getFont=function(){return ge[lt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in ye)if(ye.hasOwnProperty(e))for(t in n[e]=[],ye[e])ye[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,a){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=N(n,r)),tt.call(this,e,t,n,a=a||"Identity-H")};var Ft,It=e.lineWidth||.200025,Rt=f.__private__.getLineWidth=f.getLineWidth=function(){return It},Mt=f.__private__.setLineWidth=f.setLineWidth=function(e){return It=e,Q(S(E(e))+" w"),this};f.__private__.setLineDash=qA.API.setLineDash=qA.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return S(E(e))})).join(" "),t=S(E(t)),Q("["+e+"] "+t+" d"),this};var Bt=f.__private__.getLineHeight=f.getLineHeight=function(){return te*Ft};f.__private__.getLineHeight=f.getLineHeight=function(){return te*Ft};var zt=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Ft=e),this},Ut=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ft};zt(e.lineHeight);var qt=f.__private__.getHorizontalCoordinate=function(e){return E(e)},$t=f.__private__.getVerticalCoordinate=function(e){return v===b?e:_e[B].mediaBox.topRightY-_e[B].mediaBox.bottomLeftY-E(e)},Wt=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return S(qt(e))},Ht=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return S($t(e))},Kt=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return qe(Kt)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return Kt=$e({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Q(Kt),this};var Vt=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return qe(Vt)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return Vt=$e({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Q(Vt),this};var Gt=e.textColor||"0 g",Yt=f.__private__.getTextColor=f.getTextColor=function(){return qe(Gt)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return Gt=$e({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Xt=e.charSpace,Qt=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Xt||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xt=e,this};var Jt=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jt=t,Q(t+" J"),this};var Zt=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,Q(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(S(E(e))+" M"),this},f.GState=MA,f.setGState=function(e){(e="string"==typeof e?we[je[e]]:en(null,e)).equals(Ne)||(Q("/"+e.id+" gs"),Ne=e)};var en=function(e,t){if(!e||!je[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var a="GS"+(Object.keys(we).length+1).toString(10);we[a]=t,t.id=a}return e&&(je[e]=t.id),ke.publish("addGState",t),t}};f.addGState=function(e,t){return en(e,t),this},f.saveGraphicsState=function(){return Q("q"),xe.push({key:de,size:te,color:Gt}),this},f.restoreGraphicsState=function(){Q("Q");var e=xe.pop();return de=e.key,te=e.size,Gt=e.color,Ne=null,this},f.setCurrentTransformationMatrix=function(e){return Q(e.toString()+" cm"),this},f.comment=function(e){return Q("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},rn=function(){this.page=Se,this.currentPage=B,this.pages=V.slice(0),this.pagesContext=_e.slice(0),this.x=fe,this.y=pe,this.matrix=me,this.width=sn(B),this.height=cn(B),this.outputDestination=Y,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){Se=this.page,B=this.currentPage,_e=this.pagesContext,V=this.pages,fe=this.x,pe=this.y,me=this.matrix,ln(B,this.width),un(B,this.height),Y=this.outputDestination};var an=function(e,t,n,r,a){Oe.push(new rn),Se=B=0,V=[],fe=e,pe=t,me=a,rt([n,r])};for(var on in f.beginFormObject=function(e,t,n,r,a){return an(e,t,n,r,a),this},f.endFormObject=function(e){return function(e){if(Ee[e])Oe.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Ae).length+1).toString(10);t.id=n,Ee[e]=n,Ae[n]=t,ke.publish("addFormObject",t),Oe.pop().restore()}}(e),this},f.doFormObject=function(e,t){var n=Ae[Ee[e]];return Q("q"),Q(t.toString()+" cm"),Q("/"+n.id+" Do"),Q("Q"),this},f.getFormObject=function(e){var t=Ae[Ee[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(mA(mt(pt()),e),"function"==typeof mA.unload&&cA.setTimeout&&setTimeout(mA.unload,911),this):new Promise((function(t,n){try{var a=mA(mt(pt()),e);"function"==typeof mA.unload&&cA.setTimeout&&setTimeout(mA.unload,911),t(a)}catch(r){n(r.message)}}))},qA.API)qA.API.hasOwnProperty(on)&&("events"===on&&qA.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(ke,qA.API.events):f[on]=qA.API[on]);function sn(e){return _e[e].mediaBox.topRightX-_e[e].mediaBox.bottomLeftX}function ln(e,t){_e[e].mediaBox.topRightX=t+_e[e].mediaBox.bottomLeftX}function cn(e){return _e[e].mediaBox.topRightY-_e[e].mediaBox.bottomLeftY}function un(e,t){_e[e].mediaBox.topRightY=t+_e[e].mediaBox.bottomLeftY}var dn=f.getPageWidth=function(e){return sn(e=e||B)/he},hn=f.setPageWidth=function(e,t){ln(e,t*he)},fn=f.getPageHeight=function(e){return cn(e=e||B)/he},pn=f.setPageHeight=function(e,t){un(e,t*he)};return f.internal={pdfEscape:nt,getStyle:St,getFont:Dt,getFontSize:re,getCharSpace:Qt,getTextColor:Yt,getLineHeight:Bt,getLineHeightFactor:Ut,getLineWidth:Rt,write:J,getHorizontalCoordinate:qt,getVerticalCoordinate:$t,getCoordinateString:Wt,getVerticalCoordinateString:Ht,collections:{},newObject:Ie,newAdditionalObject:Be,newObjectDeferred:Re,newObjectDeferredBegin:Me,getFilters:We,putStream:He,events:ke,scaleFactor:he,pageSize:{getWidth:function(){return dn(B)},setWidth:function(e){hn(B,e)},getHeight:function(){return fn(B)},setHeight:function(e){pn(B,e)}},encryptionOptions:u,encryption:xt,getEncryptor:function(e){return null!==u?xt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:st,pages:V,out:Q,f2:P,f3:A,getPageInfo:bt,getPageInfoByObjId:vt,getCurrentPageInfo:wt,getPDFVersion:m,Point:tn,Rectangle:nn,Matrix:Ce,hasHotfix:yt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return dn(B)},set:function(e){hn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return fn(B)},set:function(e){pn(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===d&&(h[r]=!0);var a=e[t][0].split("-");et({id:r,fontName:a[0],fontStyle:a[1]||""})}ke.publish("addFonts",{fonts:ge,dictionary:ye})}.call(f,ee),de="F1",at(a,n),ke.publish("initialized"),f}FA.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},FA.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},FA.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},FA.prototype.processOwnerPassword=function(e,t){return LA(OA(t).substr(0,5),e)},FA.prototype.encryptor=function(e,t){var n=OA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return LA(n,e)}},MA.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,eN.A)(e)!==(0,eN.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},qA.API={events:[]},qA.version="3.0.3";var $A=qA.API,WA=1,HA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},KA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},VA=function(e){return e.toFixed(2)},GA=function(e){return e.toFixed(5)};$A.__acroform__={};var YA=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},XA=function(e){return e*WA},QA=function(e){var t=new fE,n=PE.internal.getHeight(e)||0,r=PE.internal.getWidth(e)||0;return t.BBox=[0,0,Number(VA(r)),Number(VA(n))],t},JA=$A.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ZA=$A.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},eE=$A.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},tE=$A.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eE(e,t-1)},nE=$A.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JA(e,t-1)},rE=$A.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ZA(e,t-1)},aE=$A.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(i+s)||0,l.upperRight_X=n(a+o)||0,l.upperRight_Y=r(i)||0,[Number(VA(l.lowerLeft_X)),Number(VA(l.lowerLeft_Y)),Number(VA(l.upperRight_X)),Number(VA(l.upperRight_Y))]},iE=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=oE(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+VA(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=QA(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},oE=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map((function(e){return e.split("\n")})):a.map((function(e){return[e]}));var i=n,o=PE.internal.getHeight(e)||0;o=o<0?-o:o;var s=PE.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(t,n,r){if(t+1<a.length){var i=n+" "+a[t+1][0];return sE(i,e,r).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,d=sE("3",e,i).height,h=e.multiline?o-i:(o-d)/2,f=h+=2,p=0,m=0,g=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+sE(t,e,i=12).width+", FieldWidth:"+s+"\n";break}for(var y="",x=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var v=!1;if(1!==a[b].length&&g!==a[b].length-1){if((d+2)*(x+2)+2>o)continue e;y+=a[b][g],v=!0,m=b,b--}else{y=" "==(y+=a[b][g]+" ").substr(y.length-1)?y.substr(0,y.length-1):y;var w=parseInt(b),j=l(w,y,i),N=b>=a.length-1;if(j&&!N){y+=" ",g=0;continue}if(j||N){if(N)m=w;else if(e.multiline&&(d+2)*(x+2)+2>o)continue e}else{if(!e.multiline)continue e;if((d+2)*(x+2)+2>o)continue e;m=w}}for(var S="",_=p;_<=m;_++){var k=a[_];if(e.multiline){if(_===m){S+=k[g]+" ",g=(g+1)%k.length;continue}if(_===p){S+=k[k.length-1]+" ";continue}}S+=k[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,u=sE(S,e,i).width,e.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;default:c=2}t+=VA(c)+" "+VA(f)+" Td\n",t+="("+HA(S)+") Tj\n",t+=-VA(c)+" 0 Td\n",f=-(i+2),u=0,p=v?m:m+1,x++,y=""}break}return r.text=t,r.fontSize=i,r},sE=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},lE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cE=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},uE=$A.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(0!==i&&(a+=" "),(0,eN.A)(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),a+="("+HA(r(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dE=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+HA(r(e))+")"},hE=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hE.prototype.toString=function(){return this.objId+" 0 R"},hE.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},hE.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:uE(a,this.objId,this.scope)}):a instanceof hE?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var fE=function(){hE.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};YA(fE,hE);var pE=function(){hE.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+HA(t(e))+")"}},set:function(t){e=t}})};YA(pE,hE);var mE=function e(){hE.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(t,3))},set:function(e){!0===Boolean(e)?this.F=nE(t,3):this.F=rE(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof NE)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+HA(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/WA:c},set:function(e){c=e}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof NE||this instanceof _E))return dE(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof vE==0?dE(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof vE==0?"("===e.substr(0,1)?KA(e.substr(1,e.length-2)):KA(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vE==1?KA(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof vE==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof vE==0?dE(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof vE==0?"("===e.substr(0,1)?KA(e.substr(1,e.length-2)):KA(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vE==1?KA(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof vE==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,1):this.Ff=rE(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,2):this.Ff=rE(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,3):this.Ff=rE(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};YA(mE,hE);var gE=function(){mE.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uE(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,18):this.Ff=rE(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=nE(this.Ff,19):this.Ff=rE(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=nE(this.Ff,20),t.sort()):this.Ff=rE(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,22):this.Ff=rE(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,23):this.Ff=rE(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,27):this.Ff=rE(this.Ff,27)}}),this.hasAppearanceStream=!1};YA(gE,mE);var yE=function(){gE.call(this),this.fontName="helvetica",this.combo=!1};YA(yE,gE);var xE=function(){yE.call(this),this.combo=!0};YA(xE,yE);var bE=function(){xE.call(this),this.edit=!0};YA(bE,xE);var vE=function(){mE.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,15):this.Ff=rE(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,16):this.Ff=rE(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,17):this.Ff=rE(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,26):this.Ff=rE(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+HA(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,eN.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};YA(vE,mE);var wE=function(){vE.call(this),this.pushButton=!0};YA(wE,vE);var jE=function(){vE.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};YA(jE,vE);var NE=function(){var e,t;mE.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+HA(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,eN.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=PE.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};YA(NE,mE),jE.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},jE.prototype.createOption=function(e){var t=new NE;return t.Parent=this,t.optionName=e,this.Kids.push(t),AE.call(this.scope,t),t};var SE=function(){vE.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=PE.CheckBox.createAppearanceStream()};YA(SE,vE);var _E=function(){mE.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,13):this.Ff=rE(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,21):this.Ff=rE(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,23):this.Ff=rE(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,24):this.Ff=rE(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,25):this.Ff=rE(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,26):this.Ff=rE(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};YA(_E,mE);var kE=function(){_E.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(tE(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=nE(this.Ff,14):this.Ff=rE(this.Ff,14)}}),this.password=!0};YA(kE,_E);var PE={CheckBox:{createAppearanceStream:function(){return{N:{On:PE.CheckBox.YesNormal},D:{On:PE.CheckBox.YesPushDown,Off:PE.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=QA(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=oE(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+VA(PE.internal.getWidth(e))+" "+VA(PE.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+VA(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=QA(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],i=PE.internal.getHeight(e),o=PE.internal.getWidth(e),s=oE(e,e.caption);return a.push("1 g"),a.push("0 0 "+VA(o)+" "+VA(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+VA(o-1)+" "+VA(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+VA(s.fontSize)+" Tf "+r),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=QA(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+VA(PE.internal.getWidth(e))+" "+VA(PE.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:PE.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=PE.RadioButton.Circle.YesNormal,t.D[e]=PE.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=QA(e);t.scope=e.scope;var n=[],r=PE.internal.getWidth(e)<=PE.internal.getHeight(e)?PE.internal.getWidth(e)/4:PE.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=PE.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+GA(PE.internal.getWidth(e)/2)+" "+GA(PE.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=QA(e);t.scope=e.scope;var n=[],r=PE.internal.getWidth(e)<=PE.internal.getHeight(e)?PE.internal.getWidth(e)/4:PE.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*PE.internal.Bezier_C).toFixed(5)),o=Number((r*PE.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+GA(PE.internal.getWidth(e)/2)+" "+GA(PE.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+GA(PE.internal.getWidth(e)/2)+" "+GA(PE.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=QA(e);t.scope=e.scope;var n=[],r=PE.internal.getWidth(e)<=PE.internal.getHeight(e)?PE.internal.getWidth(e)/4:PE.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*PE.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+GA(PE.internal.getWidth(e)/2)+" "+GA(PE.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:PE.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=PE.RadioButton.Cross.YesNormal,t.D[e]=PE.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=QA(e);t.scope=e.scope;var n=[],r=PE.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+VA(PE.internal.getWidth(e)-2)+" "+VA(PE.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(VA(r.x1.x)+" "+VA(r.x1.y)+" m"),n.push(VA(r.x2.x)+" "+VA(r.x2.y)+" l"),n.push(VA(r.x4.x)+" "+VA(r.x4.y)+" m"),n.push(VA(r.x3.x)+" "+VA(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=QA(e);t.scope=e.scope;var n=PE.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+VA(PE.internal.getWidth(e))+" "+VA(PE.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+VA(PE.internal.getWidth(e)-2)+" "+VA(PE.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(VA(n.x1.x)+" "+VA(n.x1.y)+" m"),r.push(VA(n.x2.x)+" "+VA(n.x2.y)+" l"),r.push(VA(n.x4.x)+" "+VA(n.x4.y)+" m"),r.push(VA(n.x3.x)+" "+VA(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=QA(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+VA(PE.internal.getWidth(e))+" "+VA(PE.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};PE.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=PE.internal.getWidth(e),n=PE.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},PE.internal.getWidth=function(e){var t=0;return"object"===(0,eN.A)(e)&&(t=XA(e.Rect[2])),t},PE.internal.getHeight=function(e){var t=0;return"object"===(0,eN.A)(e)&&(t=XA(e.Rect[3])),t};var AE=$A.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(mE.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(lE)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");WA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pE,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&cE(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var a=e[r],i=[],o=a.Rect;if(a.Rect&&(a.Rect=aE(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=PE.createDefaultAppearanceStream(a),"object"===(0,eN.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(i=a.getKeyValueListForStream()),a.Rect=o,a.hasAppearanceStream&&!a.appearanceStreamContent){var s=iE(a);i.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var u=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var d=u[r];"function"==typeof d&&(d=d.call(t,a)),l+="/"+r+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=u)&&(d=d.call(t,a)),l+="/"+r+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,eN.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof mE))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};$A.AcroFormChoiceField=gE,$A.AcroFormListBox=yE,$A.AcroFormComboBox=xE,$A.AcroFormEditBox=bE,$A.AcroFormButton=vE,$A.AcroFormPushButton=wE,$A.AcroFormRadioButton=jE,$A.AcroFormCheckBox=SE,$A.AcroFormTextField=_E,$A.AcroFormPasswordField=kE,$A.AcroFormAppearance=PE,$A.AcroForm={ChoiceField:gE,ListBox:yE,ComboBox:xE,EditBox:bE,Button:vE,PushButton:wE,RadioButton:jE,CheckBox:SE,TextField:_E,PasswordField:kE,Appearance:PE},qA.AcroForm={ChoiceField:gE,ListBox:yE,ComboBox:xE,EditBox:bE,Button:vE,PushButton:wE,RadioButton:jE,CheckBox:SE,TextField:_E,PasswordField:kE,Appearance:PE};qA.AcroForm;function EE(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,t){var a,i,o,s,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in r)for(o=r[l],a=0;a<o.length;a+=1){for(s=!0,i=0;i<o[a].length;i+=1)if(void 0!==o[a][i]&&o[a][i]!==e[i]){s=!1;break}if(!0===s){c=l;break}}else for(l in r)for(o=r[l],a=0;a<o.length;a+=1){for(s=!0,i=0;i<o[a].length;i+=1)if(void 0!==o[a][i]&&o[a][i]!==e.charCodeAt(i)){s=!1;break}if(!0===s){c=l;break}}return c===n&&t!==n&&(c=t),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===y.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===y.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var o="",s=0,l=t.transparency.length;s<l;s++)o+=t.transparency[s]+" "+t.transparency[s]+" ";i.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var u,d=null!==(u=t.sMaskBitsPerComponent)&&void 0!==u?u:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:d,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(d," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===y.INDEXED){var f=this.internal.newObject();r({data:S(new Uint8Array(t.palette)),objectId:f}),n("endobj")}},o=function(){var e=this.internal.collections[t+"images"];for(var n in e)i.call(this,e[n])},s=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var a in n)r("/I"+(e=n[a]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,eN.A)(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return yA(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return yA(t.toDataURL(i,1).split("base64,").pop())}},p=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,a,i){var o=m.call(this,n,r,a),s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=c.call(this);if(n=o[0],r=o[1],u[a.index]=a,i){i*=Math.PI/180;var d=Math.cos(i),h=Math.sin(i),f=function(e){return e.toFixed(4)},p=[f(d),f(h),f(-1*h),f(d),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,s(e),l(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},S=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,a,i,o,s,c,u;if("number"==typeof arguments[1]?(t=n,r=arguments[1],a=arguments[2],i=arguments[3],o=arguments[4],s=arguments[5],c=arguments[6],u=arguments[7]):(t=arguments[1],r=arguments[2],a=arguments[3],i=arguments[4],o=arguments[5],s=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,eN.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var d=e;e=d.imageData,t=d.format||t||n,r=d.x||r||0,a=d.y||a||0,i=d.w||d.width||i,o=d.h||d.height||o,s=d.alias||s,c=d.compression||c,u=d.rotation||d.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var p=_.call(this,e,t,s,c);return g.call(this,r,a,i,o,p,u),this};var _=function(t,r,i,o){var s,l,c;if("string"==typeof t&&a(t)===n){t=unescape(t);var m=k(t,!1);(""!==m||void 0!==(m=e.loadFile(t,!0)))&&(t=m)}if(h(t)&&(t=f(t,r)),r=a(t,r),!d(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=i)||0===c.length)&&(i=function(e){return"string"==typeof e||j(e)?b(e):j(e.data)?b(e.data):null}(t)),(s=p.call(this,i))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=N(t)),s=this["process"+r.toUpperCase()](t,u.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:x.NONE}(o),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},k=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=w(e))&&void 0!==i?i:e;try{r=yA(n)}catch(a){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,i,o="";if(h(t)&&(t=f(t)),"string"==typeof t&&a(t)===n&&(""===(o=k(t,!1))&&(o=e.loadFile(t)||""),t=o),i=a(t),!d(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(r=this["process"+i.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=i,r}}(qA.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};qA.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){n=l[d];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+m.objId+" 0 R",a+=" /P "+s.objId+" 0 R",a+=" /T ("+h(g(y))+") >>",p.content=a;var x=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(a+=" /Open true"),a+=" >>",m.content=a,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(f(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var v=this.annotations._nameMap[n.options.name];n.options.pageNumber=v.page,n.options.top=v.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var i=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:o(e),y:s(t),w:o(e+n),h:s(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,i,o=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(e,i).length;a=Math.ceil(s*l)}else i=o,a=s;return this.text(e,t,n,r),n+=.2*s,"center"===r.align&&(t-=o/2),"right"===r.align&&(t-=o),this.link(t,n-s,i,a,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(qA.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&i(e)&&4==t[e.charCodeAt(0)].length},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,i=0),t===e.length-1&&(r=n,a+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=n,a+=e.charAt(t-i),t-=i,i=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===i(e)?-1:!c(e)||!o(t)&&!o(n)||!o(n)&&s(t)||s(e)&&!o(t)||s(e)&&l(t)||s(e)&&s(t)?0:u(e)&&o(t)&&!s(t)&&o(n)&&c(n)?3:s(e)||!o(n)?1:2:-1},f=function(e){var n=0,r=0,a=0,i="",s="",l="",c=(e=e||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)i=c[n][r],s=c[n][r-1],l=c[n][r+1],o(i)?(a=h(i,s,l),u[n]+=-1!==a?String.fromCharCode(t[i.charCodeAt(0)][a]):i):u[n]+=i;u[n]=d(u[n])}return u.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(qA.API),qA.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(qA.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,o=0,s=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(c.splitTextToSize(t,u))}),[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)o<(l=this.getStringUnitWidth(e[d],{font:a})*n)&&(o=l);return 0!==o&&(s=e.length),{w:o/=i,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var d,h,f,p,m=[],g=[],y=[],x={},b={},v=[],w=[],j=(u=u||{}).autoSize||!1,N=!1!==u.printHeaders,S=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,_=u.margins||Object.assign({width:this.getPageWidth()},t),k="number"==typeof u.padding?u.padding:3,P=u.headerBackgroundColor||"#c8c8c8",A=u.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=A,this.setFontSize(S),null==c)g=m=Object.keys(l[0]),y=m.map((function(){return"left"}));else if(Array.isArray(c)&&"object"===(0,eN.A)(c[0]))for(m=c.map((function(e){return e.name})),g=c.map((function(e){return e.prompt||e.name||""})),y=c.map((function(e){return e.align||"left"})),d=0;d<c.length;d+=1)b[c[d].name]=.7499990551181103*c[d].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,y=m.map((function(){return"left"})));if(j||Array.isArray(c)&&"string"==typeof c[0])for(d=0;d<m.length;d+=1){for(x[p=m[d]]=l.map((function(e){return e[p]})),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(g[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=x[p],this.setFont(void 0,"normal"),f=0;f<h.length;f+=1)v.push(this.getTextDimensions(h[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,v)+k+k,v=[]}if(N){var E={};for(d=0;d<m.length;d+=1)E[m[d]]={},E[m[d]].text=g[d],E[m[d]].align=y[d];var O=s.call(this,E,b);w=m.map((function(t){return new i(e,n,b[t],O,E[t].text,void 0,E[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var C=c.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(d=0;d<l.length;d+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:d,data:l[d]},this);var T=s.call(this,l[d],b);for(f=0;f<m.length;f+=1){var L=l[d][m[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:d,col:f,data:L},this),o.call(this,new i(e,n,b[m[f]],T,L,d+2,C[m[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map((function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/a+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,a),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(qA.API);var OE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},CE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],TE=EE(CE),LE=[100,200,300,400,500,600,700,800,900],DE=EE(LE);function FE(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return OE[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof TE[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function IE(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var RE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ME={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BE(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function zE(e){return e.trimLeft()}function UE(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function qE(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var $E,WE,HE,KE,VE,GE,YE,XE,QE,JE=["times"];function ZE(e,t,n,r,a){var i=4,o=nO;switch(a){case qA.API.image_compression.FAST:i=1,o=tO;break;case qA.API.image_compression.MEDIUM:i=6,o=rO;break;case qA.API.image_compression.SLOW:i=9,o=aO}e=function(e,t,n,r){for(var a,i=e.length/t,o=new Uint8Array(e.length+i),s=[eO,tO,nO,rO,aO],l=0;l<i;l+=1){var c=l*t,u=e.subarray(c,c+t);if(r)o.set(r(u,n,a),c+l);else{for(var d=s.length,h=[],f=0;f<d;f+=1)h[f]=s[f](u,n,a);var p=oO(h.concat());o.set(h[p],c+l)}a=u}return o}(e,t,Math.ceil(n*r/8),o);var s=MN(e,{level:i});return qA.API.__addimage__.arrayBufferToBinaryString(s)}function eO(e){var t=Array.apply([],e);return t.unshift(0),t}function tO(e,t){var n=e.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var i=e[a-t]||0;r[a+1]=e[a]-i+256&255}return r}function nO(e,t,n){var r=e.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var o=n&&n[i]||0;a[i+1]=e[i]-o+256&255}return a}function rO(e,t,n){var r=e.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var o=e[i-t]||0,s=n&&n[i]||0;a[i+1]=e[i]+256-(o+s>>>1)&255}return a}function aO(e,t,n){var r=e.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var o=iO(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function iO(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=a&&r<=i?e:a<=i?t:n}function oO(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))}function sO(e,t,n){var r=t*n,a=Math.floor(r/8),i=16-(r-8*a+n),o=(1<<n)-1;return cO(e,a)>>i&o}function lO(e,t,n,r){var a=n*r,i=Math.floor(a/8),o=16-(a-8*i+r),s=(1<<r)-1,l=(t&s)<<o;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,i,cO(e,i)&~(s<<o)&65535|l)}function cO(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function uO(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var s=null,l=null;i&&(s=t,l=o,t+=3*o);var c=!0,u=[],d=0,h=null,f=0,p=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,v=e[t++],w=v>>6&1,j=1<<1+(7&v),N=s,S=l,_=!1;v>>7&&(_=!0,N=t,S=j,t+=3*j);var k=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}u.push({x:g,y:y,width:x,height:b,has_local_palette:_,palette_offset:N,palette_size:S,data_offset:k,data_length:t-k,transparent_index:h,interlaced:!!w,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,o=new Uint8Array(i);dO(e,a.data_offset,o,i);var s=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,u=n-c,d=c,h=4*(a.y*n+a.x),f=4*((a.y+a.height)*n+a.x),p=h,m=4*u;!0===a.interlaced&&(m+=4*n*7);for(var g=8,y=0,x=o.length;y<x;++y){var b=o[y];if(0===d&&(d=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=h+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var v=e[s+3*b],w=e[s+3*b+1],j=e[s+3*b+2];r[p++]=j,r[p++]=w,r[p++]=v,r[p++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,o=new Uint8Array(i);dO(e,a.data_offset,o,i);var s=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,u=n-c,d=c,h=4*(a.y*n+a.x),f=4*((a.y+a.height)*n+a.x),p=h,m=4*u;!0===a.interlaced&&(m+=4*n*7);for(var g=8,y=0,x=o.length;y<x;++y){var b=o[y];if(0===d&&(d=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=h+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var v=e[s+3*b],w=e[s+3*b+1],j=e[s+3*b+2];r[p++]=v,r[p++]=w,r[p++]=j,r[p++]=255}--d}}}function dO(e,t,n,r){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,l=a+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;u<16&&0!==f;)d|=e[t++]<<u,u+=8,1===f?f=e[t++]:--f;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==i){if(g===o)break;for(var y=g<s?g:m,x=0,b=y;b>i;)b=p[b]>>8,++x;var v=b;if(h+x+(y!==g?1:0)>r)return void dA.log("Warning, gif stream longer than expected.");n[h++]=v;var w=h+=x;for(y!==g&&(n[h++]=v),b=y;x--;)b=p[b],n[--w]=255&b,b>>=8;null!==m&&s<4096&&(p[s++]=m<<8|v,s>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else s=o+1,c=(1<<(l=a+1))-1,m=null}return h!==r&&dA.log("Warning, gif stream shorter than expected."),n}function hO(e){var t,n,r,a,i,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,y=7,x=new Array(64),b=new Array(64),v=new Array(64),w=new Array(256),j=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,r=0,a=new Array,i=1;i<=16;i++){for(var o=1;o<=e[i];o++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=i,r++,n++;n*=2}return a}function L(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<y),n--,--y<0&&(255==g?(D(255),D(0)):D(g),y=7,g=0)}function D(e){m.push(e)}function F(e){D(e>>8&255),D(255&e)}function I(e,t,n,r,a){for(var i,o=a[0],s=a[240],l=function(e,t){var n,r,a,i,o,s,l,c,u,d,h=0;for(u=0;u<8;++u){n=e[h],r=e[h+1],a=e[h+2],i=e[h+3],o=e[h+4],s=e[h+5],l=e[h+6];var p=n+(c=e[h+7]),m=n-c,g=r+l,y=r-l,x=a+s,b=a-s,v=i+o,w=i-o,j=p+v,N=p-v,S=g+x,_=g-x;e[h]=j+S,e[h+4]=j-S;var k=.707106781*(_+N);e[h+2]=N+k,e[h+6]=N-k;var P=.382683433*((j=w+b)-(_=y+m)),A=.5411961*j+P,E=1.306562965*_+P,O=.707106781*(S=b+y),C=m+O,T=m-O;e[h+5]=T+A,e[h+3]=T-A,e[h+1]=C+E,e[h+7]=C-E,h+=8}for(h=0,u=0;u<8;++u){n=e[h],r=e[h+8],a=e[h+16],i=e[h+24],o=e[h+32],s=e[h+40],l=e[h+48];var L=n+(c=e[h+56]),D=n-c,F=r+l,I=r-l,R=a+s,M=a-s,B=i+o,z=i-o,U=L+B,q=L-B,$=F+R,W=F-R;e[h]=U+$,e[h+32]=U-$;var H=.707106781*(W+q);e[h+16]=q+H,e[h+48]=q-H;var K=.382683433*((U=z+M)-(W=I+D)),V=.5411961*U+K,G=1.306562965*W+K,Y=.707106781*($=M+I),X=D+Y,Q=D-Y;e[h+40]=Q+V,e[h+24]=Q-V,e[h+8]=X+G,e[h+56]=X-G,h++}for(u=0;u<64;++u)d=e[u]*t[u],f[u]=d>0?d+.5|0:d-.5|0;return f}(e,t),c=0;c<64;++c)p[N[c]]=l[c];var u=p[0]-n;n=p[0],0==u?L(r[0]):(L(r[h[i=32767+u]]),L(d[i]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return L(o),n;for(var g,y=1;y<=m;){for(var x=y;0==p[y]&&y<=m;)++y;var b=y-x;if(b>=16){g=b>>4;for(var v=1;v<=g;++v)L(s);b&=15}i=32767+p[y],L(a[(b<<4)+h[i]]),L(d[i]),y++}return 63!=m&&L(o),n}function R(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[N[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var d=o((a[i]*e+50)/100);d=Math.min(Math.max(d,1),255),l[N[i]]=d}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)c[f]=1/(s[N[f]]*h[p]*h[m]*8),u[f]=1/(l[N[f]]*h[p]*h[m]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&R(i),m=new Array,g=0,y=7,F(65496),F(65504),F(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),F(1),F(1),D(0),D(0),function(){F(65499),F(132),D(0);for(var e=0;e<64;e++)D(s[e]);D(1);for(var t=0;t<64;t++)D(l[t])}(),function(e,t){F(65472),F(17),D(8),F(t),F(e),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(e.width,e.height),function(){F(65476),F(418),D(0);for(var e=0;e<16;e++)D(S[e+1]);for(var t=0;t<=11;t++)D(_[t]);D(16);for(var n=0;n<16;n++)D(k[n+1]);for(var r=0;r<=161;r++)D(P[r]);D(1);for(var a=0;a<16;a++)D(A[a+1]);for(var i=0;i<=11;i++)D(E[i]);D(17);for(var o=0;o<16;o++)D(O[o+1]);for(var s=0;s<=161;s++)D(C[s])}(),F(65498),F(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var o=0,d=0,h=0;g=0,y=7,this.encode.displayName="_encode_";for(var f,p,w,N,T,M,B,z,U,q=e.data,$=e.width,W=e.height,H=4*$,K=0;K<W;){for(f=0;f<H;){for(T=H*K+f,B=-1,z=0,U=0;U<64;U++)M=T+(z=U>>3)*H+(B=4*(7&U)),K+z>=W&&(M-=H*(K+1+z-W)),f+B>=H&&(M-=f+B-H+4),p=q[M++],w=q[M++],N=q[M++],x[U]=(j[p]+j[w+256|0]+j[N+512|0]>>16)-128,b[U]=(j[p+768|0]+j[w+1024|0]+j[N+1280|0]>>16)-128,v[U]=(j[p+1280|0]+j[w+1536|0]+j[N+1792|0]>>16)-128;o=I(x,c,o,t,r),d=I(b,u,d,n,a),h=I(v,u,h,n,a),f+=32}K+=8}if(y>=0){var V=[];V[1]=y+1,V[0]=(1<<y+1)-1,L(V)}return F(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=T(S,_),n=T(A,E),r=T(k,P),a=T(O,C),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,d[32767+a]=[],d[32767+a][1]=n,d[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),R(e)}function fO(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pO(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var i=0;i<a;i++)e[t+i]=n[r+i]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function i(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,a){for(var i=a[r],o=0;o<i&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));o++)e(n[o],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,i){t(!(a%r));do{e[n+(a-=r)]=i}while(0<a)}function u(e,n,r,a,o){if(t(2328>=o),512>=o)var s=i(512);else if(null==(s=i(o)))return 0;return function(e,n,r,a,o,s){var u,h,f=n,p=1<<r,m=i(16),g=i(16);for(t(0!=o),t(null!=a),t(null!=e),t(0<r),h=0;h<o;++h){if(15<a[h])return 0;++m[a[h]]}if(m[0]==o)return 0;for(g[1]=0,u=1;15>u;++u){if(m[u]>1<<u)return 0;g[u+1]=g[u]+m[u]}for(h=0;h<o;++h)u=a[h],0<a[h]&&(s[g[u]++]=h);if(1==g[15])return(a=new d).g=0,a.value=s[0],c(e,f,1,p,a),p;var y,x=-1,b=p-1,v=0,w=1,j=1,N=1<<r;for(h=0,u=1,o=2;u<=r;++u,o<<=1){if(w+=j<<=1,0>(j-=m[u]))return 0;for(;0<m[u];--m[u])(a=new d).g=u,a.value=s[h++],c(e,f+v,o,N,a),v=l(v,u)}for(u=r+1,o=2;15>=u;++u,o<<=1){if(w+=j<<=1,0>(j-=m[u]))return 0;for(;0<m[u];--m[u]){if(a=new d,(v&b)!=x){for(f+=N,y=1<<(x=u)-r;15>x&&!(0>=(y-=m[x]));)++x,y<<=1;p+=N=1<<(y=x-r),e[n+(x=v&b)].g=y+r,e[n+x].value=f-n-x}a.g=u-r,a.value=s[h++],c(e,f+(v>>r),o,N,a),v=l(v,u)}}return w!=2*g[15]-1?0:p}(e,n,r,a,o,s)}function d(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=o(5,d),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Mn,h)}function p(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,k(e)}function m(e,t){for(var n=0;0<t--;)n|=A(e,128)<<t;return n}function g(e,t){var n=m(e,t);return P(e)?-n:n}function y(e,n,r,a){var i,o=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),i=0;i<a;++i)o+=n[r+i]<<8*i;e.Ra=o,e.bb=a,e.oa=n,e.pa=r}function x(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Un-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=zn){var r=j(e)&Bn[n];return e.u+=n,x(e),r}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&Un-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Un}function S(e,t){e.u=t,e.h=N(e)}function _(e){e.u>=qn&&(t(e.u>=qn),x(e))}function k(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function P(e){return m(e,1)}function A(e,t){var n=e.Ca;0>e.b&&k(e);var r=e.b,a=n*t>>>8,i=(e.I>>>r>a)+0;for(i?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+$n[r],e.b-=r,e.Ca=(n<<r)-1,i}function E(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function O(e,t){return e[t+0]|e[t+1]<<8}function C(e,t){return O(e,t)|e[t+2]<<16}function T(e,t){return O(e,t)|O(e,t+2)<<16}function L(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=i(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function D(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function I(e,n,r,a){t(null!=r),t(null!=a);var i=r[0],o=a[0];return 0==i&&(i=(e*o+n/2)/n),0==o&&(o=(n*i+e/2)/e),0>=i||0>=o?0:(r[0]=i,a[0]=o,1)}function R(e,t){return e+(1<<t)-1>>>t}function M(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,n){e[n]=function(n,r,a,i,o,s,l){var c;for(c=0;c<o;++c){var u=e[t](s[l+c-1],a,i+c);s[l+c]=M(n[r+c],u)}}}function z(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function $(e,t){return q(e+(e-t+.5>>1))}function W(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function H(e,t,n,r,a,i,o){for(r=i[o-1],n=0;n<a;++n)i[o+n]=r=M(e[t+n],r)}function K(e,t,n,r,a){var i;for(i=0;i<n;++i){var o=e[t+i],s=o>>8&255,l=16711935&(l=(l=16711935&o)+((s<<16)+s));r[a+i]=(4278255360&o)+l>>>0}}function V(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,n,r,a,i){var o;for(o=0;o<r;++o){var s=t[n+o],l=s>>>8,c=s,u=255&(u=(u=s>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),a[i+o]=(4278255360&s)+(u<<16)+c}}function Y(t,n,r,a,i){e[n]=function(e,t,n,r,o,s,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)o[s++]=i(n[a(e[t++])])},e[t]=function(t,n,o,s,l,c,u){var d=8>>t.b,h=t.Ea,f=t.K[0],p=t.w;if(8>d)for(t=(1<<t.b)-1,p=(1<<d)-1;n<o;++n){var m,g=0;for(m=0;m<h;++m)m&t||(g=a(s[l++])),c[u++]=i(f[g&p]),g>>=d}else e["VP8LMapColor"+r](s,l,f,p,c,u,n,o,h)}}function X(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i}}function Q(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i,r[a++]=i>>24&255}}function J(e,t,n,r,a){for(n=t+n;t<n;){var i=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[a++]=i,r[a++]=o}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var i=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[a++]=i,r[a++]=o}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=255&i,r[a++]=i>>8&255,r[a++]=i>>16&255}}function te(e,t,n,a,i,o){if(0==o)for(n=t+n;t<n;)E(a,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),i+=32;else r(a,i,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==qr||e==$r||e==Wr||e==Hr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new ie,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ue(e,t){var n=e.T,a=t.ba.f.RGBA,i=a.eb,o=a.fb+e.ka*a.A,s=ga[t.ba.S],l=e.y,c=e.O,u=e.f,d=e.N,h=e.ea,f=e.W,p=t.cc,m=t.dc,g=t.Mc,y=t.Nc,x=e.ka,b=e.ka+e.T,v=e.U,w=v+1>>1;for(0==x?s(l,c,null,null,u,d,h,f,u,d,h,f,i,o,null,null,v):(s(t.ec,t.fc,l,c,p,m,g,y,u,d,h,f,i,o-a.A,i,o,v),++n);x+2<b;x+=2)p=u,m=d,g=h,y=f,d+=e.Rc,f+=e.Rc,o+=2*a.A,s(l,(c+=2*e.fa)-e.fa,l,c,p,m,g,y,u,d,h,f,i,o-a.A,i,o,v);return c+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,c,v),r(t.cc,t.dc,u,d,w),r(t.Mc,t.Nc,h,f,w),n--):1&b||s(l,c,null,null,u,d,h,f,u,d,h,f,i,o+a.A,null,null,v),n}function de(e,n,r){var a=e.F,i=[e.J];if(null!=a){var o=e.U,s=n.ba.S,l=s==Br||s==Wr;n=n.ba.f.RGBA;var c=[0],u=e.ka;c[0]=e.T,e.Kb&&(0==u?--c[0]:(--u,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-u));var d=n.eb;u=n.fb+u*n.A,e=Sr(a,i[0],e.width,o,c,d,u+(l?0:3),n.A),t(r==c),e&&re(s)&&jr(d,u,l,o,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Ir||n==Mr||n==Br||n==zr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Fn(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&xn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=i(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ue,xn()}}else alert("todo:EmitYUV");a&&(t.Jb=de,r&&gn())}if(r&&!Oa){for(e=0;256>e;++e)Ca[e]=89858*(e-128)+_a>>Sa,Da[e]=-22014*(e-128)+_a,La[e]=-45773*(e-128),Ta[e]=113618*(e-128)+_a>>Sa;for(e=ka;e<Pa;++e)t=76283*(e-16)+_a>>Sa,Fa[e-ka]=He(t,255),Ia[e-ka]=He(t+8>>4,15);Oa=1}return 1}function fe(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function pe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ye(e,t){return 120<t?t-120:1<=(n=((n=Qr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function xe(e,t,n){var r=j(n),a=e[t+=255&r].g-8;return 0<a&&(S(n,n.u+8),r=j(n),t+=e[t].value,t+=r&(1<<a)-1),S(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ve(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,i){var o=e.ab,s=e.c*n,l=e.C;n=l+n;var c=a,u=i;for(i=e.Ta,a=e.Ua;0<o--;){var d=e.gc[o],h=l,f=n,p=c,m=u,g=(u=i,c=a,d.Ea);switch(t(h<f),t(f<=d.nc),d.hc){case 2:Kn(p,m,(f-h)*g,u,c);break;case 0:var y=h,x=f,b=u,v=c,w=(k=d).Ea;0==y&&(Wn(p,m,null,null,1,b,v),H(p,m+1,0,0,w-1,b,v+1),m+=w,v+=w,++y);for(var j=1<<k.b,N=j-1,S=R(w,k.b),_=k.K,k=k.w+(y>>k.b)*S;y<x;){var P=_,A=k,E=1;for(Hn(p,m,b,v-w,1,b,v);E<w;){var O=(E&~N)+j;O>w&&(O=w),(0,Qn[P[A++]>>8&15])(p,m+ +E,b,v+E-w,O-E,b,v+E),E=O}m+=w,v+=w,++y&N||(k+=S)}f!=d.nc&&r(u,c-g,u,c+(f-h-1)*g,g);break;case 1:for(g=p,x=m,w=(p=d.Ea)-(v=p&~(b=(m=1<<d.b)-1)),y=R(p,d.b),j=d.K,d=d.w+(h>>d.b)*y;h<f;){for(N=j,S=d,_=new z,k=x+v,P=x+p;x<k;)V(N[S++],_),Jn(_,g,x,m,u,c),x+=m,c+=m;x<P&&(V(N[S++],_),Jn(_,g,x,w,u,c),x+=w,c+=w),++h&b||(d+=y)}break;case 3:if(p==u&&m==c&&0<d.b){for(x=u,p=g=c+(f-h)*g-(v=(f-h)*R(d.Ea,d.b)),m=u,b=c,y=[],v=(w=v)-1;0<=v;--v)y[v]=m[b+v];for(v=w-1;0<=v;--v)x[p+v]=y[v];Vn(d,h,f,u,g,u,c)}else Vn(d,h,f,p,m,u,c)}c=i,u=a}u!=a&&r(i,a,c,u,s)}function je(e,n){var r=e.V,a=e.Ba+e.c*e.C,i=n-e.C;if(t(n<=e.l.o),t(16>=i),0<i){var o=e.l,s=e.Ta,l=e.Ua,c=o.width;if(we(e,i,r,a),i=l=[l],t((r=e.C)<(a=n)),t(o.v<o.va),a>o.o&&(a=o.o),r<o.j){var u=o.j-r;r=o.j,i[0]+=u*c}if(r>=a?r=0:(i[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var d=r.f.RGBA,h=(a=r.S,i=o.U,o=o.T,u=d.eb,d.A),f=o;for(d=d.fb+e.Ma*d.A;0<f--;){var p=s,m=l,g=i,y=u,x=d;switch(a){case Fr:Zn(p,m,g,y,x);break;case Ir:er(p,m,g,y,x);break;case qr:er(p,m,g,y,x),jr(y,x,0,g,1,0);break;case Rr:rr(p,m,g,y,x);break;case Mr:te(p,m,g,y,x,1);break;case $r:te(p,m,g,y,x,1),jr(y,x,0,g,1,0);break;case Br:te(p,m,g,y,x,0);break;case Wr:te(p,m,g,y,x,0),jr(y,x,1,g,1,0);break;case zr:tr(p,m,g,y,x);break;case Hr:tr(p,m,g,y,x),Nr(y,x,g,1,0);break;case Ur:nr(p,m,g,y,x);break;default:t(0)}l+=c,d+=h}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Se(e,n,r,a,i,o){if(0!=e.Z){var s=e.qd,l=e.rd;for(t(null!=ma[e.Z]);n<r;++n)ma[e.Z](s,l,a,i,a,i,o),s=a,l=i,i+=o;e.qd=s,e.rd=l}}function _e(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var i=e.l.width,o=r.ca,s=r.tb+i*a,l=e.V,c=e.Ba+e.c*a,u=e.gc;t(1==e.ab),t(3==u[0].hc),Yn(u[0],a,n,l,c,o,s),Se(r,a,n,o,s,i)}e.C=e.Ma=n}function ke(e,n,r,a,i,o,s){var l=e.$/a,c=e.$%a,u=e.m,d=e.s,h=r+e.$,f=h;i=r+a*i;var p=r+a*o,m=280+d.ua,g=e.Pb?l:16777216,y=0<d.ua?d.Wa:null,x=d.wc,b=h<p?ve(d,c,l):null;t(e.C<o),t(p<=i);var v=!1;e:for(;;){for(;v||h<p;){var w=0;if(l>=g){var k=h-r;t((g=e).Pb),g.wd=g.m,g.xd=k,0<g.s.ua&&D(g.s.Wa,g.s.vb),g=l+Zr}if(c&x||(b=ve(d,c,l)),t(null!=b),b.Qb&&(n[h]=b.qb,v=!0),!v)if(_(u),b.jc){w=u,k=n;var P=h,A=b.pd[j(w)&Mn-1];t(b.jc),256>A.g?(S(w,w.u+A.g),k[P]=A.value,w=0):(S(w,w.u+A.g-256),t(256<=A.value),w=A.value),0==w&&(v=!0)}else w=xe(b.G[0],b.H[0],u);if(u.h)break;if(v||256>w){if(!v)if(b.nd)n[h]=(b.qb|w<<8)>>>0;else{if(_(u),v=xe(b.G[1],b.H[1],u),_(u),k=xe(b.G[2],b.H[2],u),P=xe(b.G[3],b.H[3],u),u.h)break;n[h]=(P<<24|v<<16|w<<8|k)>>>0}if(v=!1,++h,++c>=a&&(c=0,++l,null!=s&&l<=o&&!(l%16)&&s(e,l),null!=y))for(;f<h;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else if(280>w){if(w=ge(w-256,u),k=xe(b.G[4],b.H[4],u),_(u),k=ye(a,k=ge(k,u)),u.h)break;if(h-r<k||i-h<w)break e;for(P=0;P<w;++P)n[h+P]=n[h+P-k];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=s&&l<=o&&!(l%16)&&s(e,l);if(t(h<=i),c&x&&(b=ve(d,c,l)),null!=y)for(;f<h;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w}else{if(!(w<m))break e;for(v=w-280,t(null!=y);f<h;)w=n[f++],y.X[(506832829*w&4294967295)>>>y.Mb]=w;w=h,t(!(v>>>(k=y).Xa)),n[w]=k.X[v],v=!0}v||t(u.h==N(u))}if(e.Pb&&u.h&&h<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&D(e.s.vb,e.s.Wa);else{if(u.h)break e;null!=s&&s(e,l>o?o:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Pe(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ae(){var t=new on;return null==t?null:(t.a=0,t.xb=pa,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Kn=K,Jn=G,Zn=X,er=Q,tr=J,nr=Z,rr=ee,e.VP8LMapColor32b=Gn,e.VP8LMapColor8b=Xn,t)}function Ee(e,n,r,s,l){var c=1,h=[e],p=[n],m=s.m,g=s.s,y=null,x=0;e:for(;;){if(r)for(;c&&b(m,1);){var v=h,w=p,N=s,k=1,P=N.m,A=N.gc[N.ab],E=b(P,2);if(N.Oc&1<<E)c=0;else{switch(N.Oc|=1<<E,A.hc=E,A.Ea=v[0],A.nc=w[0],A.K=[null],++N.ab,t(4>=N.ab),E){case 0:case 1:A.b=b(P,3)+2,k=Ee(R(A.Ea,A.b),R(A.nc,A.b),0,N,A.K),A.K=A.K[0];break;case 3:var O,C=b(P,8)+1,T=16<C?0:4<C?1:2<C?2:3;if(v[0]=R(A.Ea,T),A.b=T,O=k=Ee(C,1,0,N,A.K)){var D,F=C,I=A,B=1<<(8>>I.b),z=i(B);if(null==z)O=0;else{var U=I.K[0],q=I.w;for(z[0]=I.K[0][0],D=1;D<1*F;++D)z[D]=M(U[q+D],z[D-1]);for(;D<4*B;++D)z[D]=0;I.K[0]=null,I.K[0]=z,O=1}}k=O;break;case 2:break;default:t(0)}c=k}}if(h=h[0],p=p[0],c&&b(m,1)&&!(c=1<=(x=b(m,4))&&11>=x)){s.a=3;break e}var $;if($=c)t:{var W,H,K,V=s,G=h,Y=p,X=x,Q=r,J=V.m,Z=V.s,ee=[null],te=1,ne=0,re=Jr[X];n:for(;;){if(Q&&b(J,1)){var ae=b(J,3)+2,ie=R(G,ae),oe=R(Y,ae),se=ie*oe;if(!Ee(ie,oe,0,V,ee))break n;for(ee=ee[0],Z.xc=ae,W=0;W<se;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(J.h)break n;for(H=0;5>H;++H){var ce=Gr[H];!H&&0<X&&(ce+=1<<X),ne<ce&&(ne=ce)}var ue=o(te*re,d),de=te,he=o(de,f);if(null==he)var fe=null;else t(65536>=de),fe=he;var pe=i(ne);if(null==fe||null==pe||null==ue){V.a=1;break n}var me=ue;for(W=K=0;W<te;++W){var ge=fe[W],ye=ge.G,xe=ge.H,ve=0,we=1,je=0;for(H=0;5>H;++H){ce=Gr[H],ye[H]=me,xe[H]=K,!H&&0<X&&(ce+=1<<X);r:{var Ne,Se=ce,_e=V,Ae=pe,Oe=me,Ce=K,Te=0,Le=_e.m,De=b(Le,1);if(a(Ae,0,0,Se),De){var Fe=b(Le,1)+1,Ie=b(Le,1),Re=b(Le,0==Ie?1:8);Ae[Re]=1,2==Fe&&(Ae[Re=b(Le,8)]=1);var Me=1}else{var Be=i(19),ze=b(Le,4)+4;if(19<ze){_e.a=3;var Ue=0;break r}for(Ne=0;Ne<ze;++Ne)Be[Xr[Ne]]=b(Le,3);var qe=void 0,$e=void 0,We=_e,He=Be,Ke=Se,Ve=Ae,Ge=0,Ye=We.m,Xe=8,Qe=o(128,d);a:for(;u(Qe,0,7,He,19);){if(b(Ye,1)){var Je=2+2*b(Ye,3);if((qe=2+b(Ye,Je))>Ke)break a}else qe=Ke;for($e=0;$e<Ke&&qe--;){_(Ye);var Ze=Qe[0+(127&j(Ye))];S(Ye,Ye.u+Ze.g);var et=Ze.value;if(16>et)Ve[$e++]=et,0!=et&&(Xe=et);else{var tt=16==et,nt=et-16,rt=Vr[nt],at=b(Ye,Kr[nt])+rt;if($e+at>Ke)break a;for(var it=tt?Xe:0;0<at--;)Ve[$e++]=it}}Ge=1;break a}Ge||(We.a=3),Me=Ge}(Me=Me&&!Le.h)&&(Te=u(Oe,Ce,8,Ae,Se)),Me&&0!=Te?Ue=Te:(_e.a=3,Ue=0)}if(0==Ue)break n;if(we&&1==Yr[H]&&(we=0==me[K].g),ve+=me[K].g,K+=Ue,3>=H){var ot,st=pe[0];for(ot=1;ot<ce;++ot)pe[ot]>st&&(st=pe[ot]);je+=st}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(ye[3][xe[3]+0].value<<24|ye[1][xe[1]+0].value<<16|ye[2][xe[2]+0].value)>>>0,0==ve&&256>ye[0][xe[0]+0].value&&(ge.Qb=1,ge.qb+=ye[0][xe[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<Mn;++lt){var ut=lt,dt=ct.pd[ut],ht=ct.G[0][ct.H[0]+ut];256<=ht.value?(dt.g=ht.g+256,dt.value=ht.value):(dt.g=0,dt.value=0,ut>>=be(ht,8,dt),ut>>=be(ct.G[1][ct.H[1]+ut],16,dt),ut>>=be(ct.G[2][ct.H[2]+ut],0,dt),be(ct.G[3][ct.H[3]+ut],24,dt))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=ue,$=1;break t}$=0}if(!(c=$)){s.a=3;break e}if(0<x){if(g.ua=1<<x,!L(g.Wa,x)){s.a=1,c=0;break e}}else g.ua=0;var ft=s,pt=h,mt=p,gt=ft.s,yt=gt.xc;if(ft.c=pt,ft.i=mt,gt.md=R(pt,yt),gt.wc=0==yt?-1:(1<<yt)-1,r){s.xb=fa;break e}if(null==(y=i(h*p))){s.a=1,c=0;break e}c=(c=ke(s,y,0,h,p,p,null))&&!m.h;break e}return c?(null!=l?l[0]=y:(t(null==y),t(r)),s.$=0,r||Pe(g)):Pe(g),c}function Oe(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=i(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ce(e,n){var r=e.C,a=n-r,i=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var s=16<a?16:a,l=e.l.ma,c=e.l.width,u=c*s,d=l.ca,h=l.tb+c*r,f=e.Ta,p=e.Ua;we(e,s,i,o),_r(f,p,d,h,u),Se(l,r,r+s,d,h,c),a-=s,i+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Te(){this.ub=this.yd=this.td=this.Rb=0}function Le(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function De(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Fe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var a=r[n],i=0;i<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));i++)e(t[i],n+1,r)}(e,0,[3,11]),e}()}function Ie(){this.jb=i(3),this.Wc=s([4,8],Fe),this.Xc=s([4,17],Fe)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Me(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Me),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Ke}function $e(){this.y=i(16),this.f=i(8),this.ea=i(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Te,this.Kc=new Le,this.ed=new Re,this.Qa=new De,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,v),this.ia=0,this.pb=o(4,ze),this.Pa=new Ie,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $e),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Me),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=s([4,2],Me),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function He(e,t){return 0>e?0:e>t?t:e}function Ke(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ve(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Qe)),e}function Ge(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ye(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,o=n.ha;if(4>o)return Ge(e,7,"Truncated header.");var s=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");i+=3,o-=3;var c=e.Kc;if(l.Rb){if(7>o)return Ge(e,7,"cannot parse picture header");if(!Ye(r,i,o))return Ge(e,3,"Bad code word");c.c=16383&(r[i+4]<<8|r[i+3]),c.Td=r[i+4]>>6,c.i=16383&(r[i+6]<<8|r[i+5]),c.Ud=r[i+6]>>6,i+=7,o-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,a(s.Zb,0,0,s.Zb.length),a(s.Lb,0,0,s.Lb)}if(l.ub>o)return Ge(e,7,"bad partition length");p(s=e.m,r,i,l.ub),i+=l.ub,o-=l.ub,l.Rb&&(c.Ld=P(s),c.Kd=P(s)),c=e.Qa;var u,d=e.Pa;if(t(null!=s),t(null!=c),c.Cb=P(s),c.Cb){if(c.Bb=P(s),P(s)){for(c.Fb=P(s),u=0;4>u;++u)c.Zb[u]=P(s)?g(s,7):0;for(u=0;4>u;++u)c.Lb[u]=P(s)?g(s,6):0}if(c.Bb)for(u=0;3>u;++u)d.jb[u]=P(s)?m(s,8):255}else c.Bb=0;if(s.Ka)return Ge(e,3,"cannot parse segment header");if((c=e.ed).zd=P(s),c.Tb=m(s,6),c.wb=m(s,3),c.Pc=P(s),c.Pc&&P(s)){for(d=0;4>d;++d)P(s)&&(c.vd[d]=g(s,6));for(d=0;4>d;++d)P(s)&&(c.od[d]=g(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return Ge(e,3,"cannot parse filter header");var h=o;if(o=u=i,i=u+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(d=e.Xb))r=7;else{for(u+=3*d,c-=3*d,h=0;h<d;++h){var f=r[o+0]|r[o+1]<<8|r[o+2]<<16;f>c&&(f=c),p(e.Jc[+h],r,u,f),u+=f,c-=f,o+=3}p(e.Jc[+d],r,u,c),r=u<i?0:5}if(0!=r)return Ge(e,r,"cannot parse partitions");for(r=m(u=e.m,7),o=P(u)?g(u,4):0,i=P(u)?g(u,4):0,c=P(u)?g(u,4):0,d=P(u)?g(u,4):0,u=P(u)?g(u,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var y=h.Zb[f];h.Fb||(y+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}y=r}var x=e.pb[f];x.Sc[0]=ea[He(y+o,127)],x.Sc[1]=ta[He(y+0,127)],x.Eb[0]=2*ea[He(y+i,127)],x.Eb[1]=101581*ta[He(y+c,127)]>>16,8>x.Eb[1]&&(x.Eb[1]=8),x.Qc[0]=ea[He(y+d,117)],x.Qc[1]=ta[He(y+u,127)],x.lc=y+u}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(P(s),l=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(i=0;3>i;++i)for(c=0;11>c;++c)d=A(s,la[r][o][i][c])?m(s,8):oa[r][o][i][c],l.Wc[r][o].Yb[i][c]=d;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][ca[o]]}return e.kc=P(s),e.kc&&(e.Bd=m(s,8)),e.cb=1}function Qe(e,t,n,r,a,i,o){var s=t[a].Yb[n];for(n=0;16>a;++a){if(!A(e,s[n+0]))return a;for(;!A(e,s[n+1]);)if(s=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(A(e,s[n+2])){var c=e,u=0;if(A(c,(h=s)[(d=n)+3]))if(A(c,h[d+6])){for(s=0,d=2*(u=A(c,h[d+8]))+(h=A(c,h[d+9+u])),u=0,h=ra[d];h[s];++s)u+=u+A(c,h[s]);u+=3+(8<<d)}else A(c,h[d+7])?(u=7+2*A(c,165),u+=A(c,145)):u=5+A(c,159);else u=A(c,h[d+4])?3+A(c,h[d+5]):2;s=l[2]}else u=1,s=l[1];l=o+aa[a],0>(c=e).b&&k(c);var d,h=c.b,f=(d=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(d+1&f)<<h,i[l]=((u^f)-f)*r[(0<a)+0]}return 16}function Je(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function et(e,t,n,r,a,i){Ze(e,t,0,n,r+a),Ze(e,t,1,n,r+i),Ze(e,t,2,n,r-i),Ze(e,t,3,n,r-a)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var a,o=0,s=i(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-tt(e[t+12]),d=tt(e[t+4])+(35468*e[t+12]>>16);s[o+0]=l+d,s[o+1]=c+u,s[o+2]=c-u,s[o+3]=l-d,o+=4,t++}for(a=o=0;4>a;++a)l=(e=s[o+0]+4)+s[o+8],c=e-s[o+8],u=(35468*s[o+4]>>16)-tt(s[o+12]),Ze(n,r,0,0,l+(d=tt(s[o+4])+(35468*s[o+12]>>16))),Ze(n,r,1,0,c+u),Ze(n,r,2,0,c-u),Ze(n,r,3,0,l-d),o++,r+=32}function rt(e,t,n,r){var a=e[t+0]+4,i=35468*e[t+4]>>16,o=tt(e[t+4]),s=35468*e[t+1]>>16;et(n,r,0,a+o,e=tt(e[t+1]),s),et(n,r,1,a+i,e,s),et(n,r,2,a-i,e,s),et(n,r,3,a-o,e,s)}function at(e,t,n,r,a){nt(e,t,n,r),a&&nt(e,t+16,n,r+4)}function it(e,t,n,r){ir(e,t+0,n,r,1),ir(e,t+32,n,r+128,1)}function ot(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)Ze(n,r,t,a,e)}function st(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var a,o=i(16);for(a=0;4>a;++a){var s=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],u=e[t+0+a]-e[t+12+a];o[0+a]=s+l,o[8+a]=s-l,o[4+a]=u+c,o[12+a]=u-c}for(a=0;4>a;++a)s=(e=o[0+4*a]+3)+o[3+4*a],l=o[1+4*a]+o[2+4*a],c=o[1+4*a]-o[2+4*a],u=e-o[3+4*a],n[r+0]=s+l>>3,n[r+16]=u+c>>3,n[r+32]=s-l>>3,n[r+48]=u-c>>3,r+=64}function ct(e,t,n){var r,a=t-32,i=Lr,o=255-e[a-1];for(r=0;r<n;++r){var s,l=i,c=o+e[t-1];for(s=0;s<n;++s)e[t+s]=l[c+e[a+s]];t+=32}}function ut(e,t){ct(e,t,4)}function dt(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function mt(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];mt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];mt(r>>4,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];mt(r>>4,e,t)}function bt(e,t){mt(128,e,t)}function vt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,a=t-32;for(a=new Uint8Array([vt(e[a-1],e[a+0],e[a+1]),vt(e[a+0],e[a+1],e[a+2]),vt(e[a+1],e[a+2],e[a+3]),vt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];E(e,t+0,16843009*vt(e[t-1-32],n,r)),E(e,t+32,16843009*vt(n,r,a)),E(e,t+64,16843009*vt(r,a,i)),E(e,t+96,16843009*vt(a,i,i))}function Nt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],o=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=vt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(i,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(o,i,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(s,o,i),e[t+3+32]=e[t+2+0]=vt(l,s,o),e[t+3+0]=vt(c,l,s)}function _t(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],i=e[t+4-32],o=e[t+5-32],s=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=vt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(r,a,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(a,i,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(i,o,s),e[t+3+64]=e[t+2+96]=vt(o,s,l),e[t+3+96]=vt(s,l,l)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],o=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=i+o+1>>1,e[t+1+0]=e[t+2+64]=o+s+1>>1,e[t+2+0]=e[t+3+64]=s+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=vt(a,r,n),e[t+0+64]=vt(r,n,i),e[t+0+32]=e[t+1+96]=vt(n,i,o),e[t+1+32]=e[t+2+96]=vt(i,o,s),e[t+2+32]=e[t+3+96]=vt(o,s,l),e[t+3+32]=vt(s,l,c)}function Pt(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],i=e[t+3-32],o=e[t+4-32],s=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+i+1>>1,e[t+3+0]=e[t+2+64]=i+o+1>>1,e[t+0+32]=vt(n,r,a),e[t+1+32]=e[t+0+96]=vt(r,a,i),e[t+2+32]=e[t+1+96]=vt(a,i,o),e[t+3+32]=e[t+2+96]=vt(i,o,s),e[t+3+64]=vt(o,s,l),e[t+3+96]=vt(s,l,c)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+i+1>>1,e[t+1+0]=vt(n,r,a),e[t+3+0]=e[t+1+32]=vt(r,a,i),e[t+3+32]=e[t+1+64]=vt(a,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96],o=e[t-1-32],s=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=i+a+1>>1,e[t+3+0]=vt(s,l,c),e[t+2+0]=vt(o,s,l),e[t+1+0]=e[t+3+32]=vt(n,o,s),e[t+1+32]=e[t+3+64]=vt(r,n,o),e[t+1+64]=e[t+3+96]=vt(a,r,n),e[t+1+96]=vt(i,a,r)}function Ot(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Ct(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Tt(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function Lt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Tt(r>>4,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Tt(r>>3,e,t)}function Ft(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Tt(r>>3,e,t)}function It(e,t){Tt(128,e,t)}function Rt(e,t,n){var r=e[t-n],a=e[t+0],i=3*(a-r)+Cr[1020+e[t-2*n]-e[t+n]],o=Tr[112+(i+4>>3)];e[t-n]=Lr[255+r+Tr[112+(i+3>>3)]],e[t+0]=Lr[255+a-o]}function Mt(e,t,n,r){var a=e[t+0],i=e[t+n];return Dr[255+e[t-2*n]-e[t-n]]>r||Dr[255+i-a]>r}function Bt(e,t,n,r){return 4*Dr[255+e[t-n]-e[t+0]]+Dr[255+e[t-2*n]-e[t+n]]<=r}function zt(e,t,n,r,a){var i=e[t-3*n],o=e[t-2*n],s=e[t-n],l=e[t+0],c=e[t+n],u=e[t+2*n],d=e[t+3*n];return 4*Dr[255+s-l]+Dr[255+o-c]>r?0:Dr[255+e[t-4*n]-i]<=a&&Dr[255+i-o]<=a&&Dr[255+o-s]<=a&&Dr[255+d-u]<=a&&Dr[255+u-c]<=a&&Dr[255+c-l]<=a}function Ut(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r,n,a)&&Rt(e,t+r,n)}function qt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r*n,1,a)&&Rt(e,t+r*n,1)}function $t(e,t,n,r){var a;for(a=3;0<a;--a)Ut(e,t+=4*n,n,r)}function Wt(e,t,n,r){var a;for(a=3;0<a;--a)qt(e,t+=4,n,r)}function Ht(e,t,n,r,a,i,o,s){for(i=2*i+1;0<a--;){if(zt(e,t,n,i,o))if(Mt(e,t,n,s))Rt(e,t,n);else{var l=e,c=t,u=n,d=l[c-2*u],h=l[c-u],f=l[c+0],p=l[c+u],m=l[c+2*u],g=27*(x=Cr[1020+3*(f-h)+Cr[1020+d-p]])+63>>7,y=18*x+63>>7,x=9*x+63>>7;l[c-3*u]=Lr[255+l[c-3*u]+x],l[c-2*u]=Lr[255+d+y],l[c-u]=Lr[255+h+g],l[c+0]=Lr[255+f-g],l[c+u]=Lr[255+p-y],l[c+2*u]=Lr[255+m-x]}t+=r}}function Kt(e,t,n,r,a,i,o,s){for(i=2*i+1;0<a--;){if(zt(e,t,n,i,o))if(Mt(e,t,n,s))Rt(e,t,n);else{var l=e,c=t,u=n,d=l[c-u],h=l[c+0],f=l[c+u],p=Tr[112+(4+(m=3*(h-d))>>3)],m=Tr[112+(m+3>>3)],g=p+1>>1;l[c-2*u]=Lr[255+l[c-2*u]+g],l[c-u]=Lr[255+d+m],l[c+0]=Lr[255+h-p],l[c+u]=Lr[255+f-g]}t+=r}}function Vt(e,t,n,r,a,i){Ht(e,t,n,1,16,r,a,i)}function Gt(e,t,n,r,a,i){Ht(e,t,1,n,16,r,a,i)}function Yt(e,t,n,r,a,i){var o;for(o=3;0<o;--o)Kt(e,t+=4*n,n,1,16,r,a,i)}function Xt(e,t,n,r,a,i){var o;for(o=3;0<o;--o)Kt(e,t+=4,1,n,16,r,a,i)}function Qt(e,t,n,r,a,i,o,s){Ht(e,t,a,1,8,i,o,s),Ht(n,r,a,1,8,i,o,s)}function Jt(e,t,n,r,a,i,o,s){Ht(e,t,1,a,8,i,o,s),Ht(n,r,1,a,8,i,o,s)}function Zt(e,t,n,r,a,i,o,s){Kt(e,t+4*a,a,1,8,i,o,s),Kt(n,r+4*a,a,1,8,i,o,s)}function en(e,t,n,r,a,i,o,s){Kt(e,t+4,1,a,8,i,o,s),Kt(n,r+4,1,a,8,i,o,s)}function tn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new d}function on(){this.xb=this.a=0,this.l=new Ke,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=o(4,rn),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ke,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,a,i,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)a[i+t]=e+n[r+t]&255,e=a[i+t]}function cn(e,t,n,r,a,i,o){var s;if(null==e)ln(null,null,n,r,a,i,o);else for(s=0;s<o;++s)a[i+s]=e[t+s]+n[r+s]&255}function un(e,t,n,r,a,i,o){if(null==e)ln(null,null,n,r,a,i,o);else{var s,l=e[t+0],c=l,u=l;for(s=0;s<o;++s)c=u+(l=e[t+s])-c,u=n[r+s]+(-256&c?0>c?0:255:c)&255,c=l,a[i+s]=u}}function dn(e,n,a,o){var s=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=o||a+o>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new sn,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=i(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var u=e.Fa,d=e.P,h=e.qc,f=e.mb,p=e.nb,m=d+1,g=h-1,x=c.l;if(t(null!=u&&null!=f&&null!=n),ma[0]=null,ma[1]=ln,ma[2]=cn,ma[3]=un,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&u[d+0],c.Z=u[d+0]>>2&3,c.Lc=u[d+0]>>4&3,d=u[d+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||d)n=0;else if(x.put=fe,x.ac=he,x.bc=pe,x.ma=c,x.width=n.width,x.height=n.height,x.Da=n.Da,x.v=n.v,x.va=n.va,x.j=n.j,x.o=n.o,c.$a)e:{t(1==c.$a),n=Ae();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,y(n.m,u,m,g),!Ee(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ne(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Oe(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:o=l-a}t(null!=e.ga),t(a+o<=l);e:{if(n=(u=e.ga).c,l=u.l.o,0==u.$a){if(m=e.rc,g=e.Vc,x=e.Fa,d=e.P+1+a*n,h=e.mb,f=e.nb+a*n,t(d<=e.P+e.qc),0!=u.Z)for(t(null!=ma[u.Z]),c=0;c<o;++c)ma[u.Z](m,g,x,d,h,f,n),m=h,g=f,f+=n,d+=n;else for(c=0;c<o;++c)r(h,f,x,d,n),m=h,g=f,f+=n,d+=n;e.rc=m,e.Vc=g}else{if(t(null!=u.mc),n=a+o,t(null!=(c=u.mc)),t(n<=c.i),c.C>=n)n=1;else if(u.ic||gn(),u.ic){u=c.V,m=c.Ba,g=c.c;var b=c.i,v=(x=1,d=c.$/g,h=c.$%g,f=c.m,p=c.s,c.$),w=g*b,j=g*n,S=p.wc,k=v<j?ve(p,h,d):null;t(v<=w),t(n<=b),t(Ne(p));t:for(;;){for(;!f.h&&v<j;){if(h&S||(k=ve(p,h,d)),t(null!=k),_(f),256>(b=xe(k.G[0],k.H[0],f)))u[m+v]=b,++v,++h>=g&&(h=0,++d<=n&&!(d%16)&&_e(c,d));else{if(!(280>b)){x=0;break t}b=ge(b-256,f);var P,A=xe(k.G[4],k.H[4],f);if(_(f),!(v>=(A=ye(g,A=ge(A,f)))&&w-v>=b)){x=0;break t}for(P=0;P<b;++P)u[m+v+P]=u[m+v+P-A];for(v+=b,h+=b;h>=g;)h-=g,++d<=n&&!(d%16)&&_e(c,d);v<j&&h&S&&(k=ve(p,h,d))}t(f.h==N(f))}_e(c,d>n?n:d);break t}!x||f.h&&v<w?(x=0,c.a=f.h?5:3):c.$=v,n=x}else n=ke(c,c.V,c.Ba,c.c,c.i,n,Ce);if(!n){o=0;break e}}a+o>=l&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*s}function hn(e,t,n,r,a,i){for(;0<a--;){var o,s=e,l=t+(n?1:0),c=e,u=t+(n?0:3);for(o=0;o<r;++o){var d=c[u+4*o];255!=d&&(d*=32897,s[l+4*o+0]=s[l+4*o+0]*d>>23,s[l+4*o+1]=s[l+4*o+1]*d>>23,s[l+4*o+2]=s[l+4*o+2]*d>>23)}t+=i}}function fn(e,t,n,r,a){for(;0<r--;){var i;for(i=0;i<n;++i){var o=e[t+2*i+0],s=15&(c=e[t+2*i+1]),l=4369*s,c=(240&c|c>>4)*l>>16;e[t+2*i+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,e[t+2*i+1]=240&c|s}t+=a}}function pn(e,t,n,r,a,i,o,s){var l,c,u=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var d=e[t+l];i[o+4*l]=d,u&=d}t+=n,o+=s}return 255!=u}function mn(e,t,n,r,a){var i;for(i=0;i<a;++i)n[r+i]=e[t+i]>>8}function gn(){jr=hn,Nr=fn,Sr=pn,_r=mn}function yn(n,r,a){e[n]=function(e,n,i,o,s,l,c,u,d,h,f,p,m,g,y,x,b){var v,w=b-1>>1,j=s[l+0]|c[u+0]<<16,N=d[h+0]|f[p+0]<<16;t(null!=e);var S=3*j+N+131074>>2;for(r(e[n+0],255&S,S>>16,m,g),null!=i&&(S=3*N+j+131074>>2,r(i[o+0],255&S,S>>16,y,x)),v=1;v<=w;++v){var _=s[l+v]|c[u+v]<<16,k=d[h+v]|f[p+v]<<16,P=j+_+N+k+524296,A=P+2*(_+N)>>3;S=A+j>>1,j=(P=P+2*(j+k)>>3)+_>>1,r(e[n+2*v-1],255&S,S>>16,m,g+(2*v-1)*a),r(e[n+2*v-0],255&j,j>>16,m,g+(2*v-0)*a),null!=i&&(S=P+N>>1,j=A+k>>1,r(i[o+2*v-1],255&S,S>>16,y,x+(2*v-1)*a),r(i[o+2*v+0],255&j,j>>16,y,x+(2*v+0)*a)),j=_,N=k}1&b||(S=3*j+N+131074>>2,r(e[n+b-1],255&S,S>>16,m,g+(b-1)*a),null!=i&&(S=3*N+j+131074>>2,r(i[o+b-1],255&S,S>>16,y,x+(b-1)*a)))}}function xn(){ga[Fr]=ya,ga[Ir]=ba,ga[Rr]=xa,ga[Mr]=va,ga[Br]=wa,ga[zr]=ja,ga[Ur]=Na,ga[qr]=ba,ga[$r]=va,ga[Wr]=wa,ga[Hr]=ja}function bn(e){return e&~Ea?0>e?0:255:e>>Aa}function vn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Nn(e,t,n,r,a){r[a+0]=vn(e,n),r[a+1]=wn(e,t,n),r[a+2]=jn(e,t)}function Sn(e,t,n,r,a){r[a+0]=jn(e,t),r[a+1]=wn(e,t,n),r[a+2]=vn(e,n)}function _n(e,t,n,r,a){var i=wn(e,t,n);t=i<<3&224|jn(e,t)>>3,r[a+0]=248&vn(e,n)|i>>5,r[a+1]=t}function kn(e,t,n,r,a){var i=240&jn(e,t)|15;r[a+0]=240&vn(e,n)|wn(e,t,n)>>4,r[a+1]=i}function Pn(e,t,n,r,a){r[a+0]=255,Nn(e,t,n,r,a+1)}function An(e,t,n,r,a){Sn(e,t,n,r,a),r[a+3]=255}function En(e,t,n,r,a){Nn(e,t,n,r,a),r[a+3]=255}function He(e,t){return 0>e?0:e>t?t:e}function On(t,n,r){e[t]=function(e,t,a,i,o,s,l,c,u){for(var d=c+(-2&u)*r;c!=d;)n(e[t+0],a[i+0],o[s+0],l,c),n(e[t+1],a[i+0],o[s+0],l,c+r),t+=2,++i,++s,c+=2*r;1&u&&n(e[t+0],a[i+0],o[s+0],l,c)}}function Cn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Tn(e,t,n,r,a){switch(e>>>30){case 3:ir(t,n,r,a,0);break;case 2:or(t,n,r,a);break;case 1:lr(t,n,r,a)}}function Ln(e,t){var n,i,o=t.M,s=t.Nb,l=e.oc,c=e.pc+40,u=e.oc,d=e.pc+584,h=e.oc,f=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[d+32*n-1]=129,h[f+32*n-1]=129;for(0<o?l[c-1-32]=u[d-1-32]=h[f-1-32]=129:(a(l,c-32-1,127,21),a(u,d-32-1,127,9),a(h,f-32-1,127,9)),i=0;i<e.za;++i){var p=t.ya[t.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,d+32*n-4,u,d+32*n+4,4),r(h,f+32*n-4,h,f+32*n+4,4)}var m=e.Gd,g=e.Hd+i,y=p.ad,x=p.Hc;if(0<o&&(r(l,c-32,m[g].y,0,16),r(u,d-32,m[g].f,0,8),r(h,f-32,m[g].ea,0,8)),p.Za){var b=l,v=c-32+16;for(0<o&&(i>=e.za-1?a(b,v,m[g].y[15],4):r(b,v,m[g+1].y,0,4)),n=0;4>n;n++)b[v+128+n]=b[v+256+n]=b[v+384+n]=b[v+0+n];for(n=0;16>n;++n,x<<=2)b=l,v=c+Ra[n],da[p.Ob[n]](b,v),Tn(x,y,16*+n,b,v)}else if(b=Cn(i,o,p.Ob[0]),ua[b](l,c),0!=x)for(n=0;16>n;++n,x<<=2)Tn(x,y,16*+n,l,c+Ra[n]);for(n=p.Gc,b=Cn(i,o,p.Dd),ha[b](u,d),ha[b](h,f),x=y,b=u,v=d,255&(p=0|n)&&(170&p?sr(x,256,b,v):cr(x,256,b,v)),p=h,x=f,255&(n>>=8)&&(170&n?sr(y,320,p,x):cr(y,320,p,x)),o<e.Ub-1&&(r(m[g].y,0,l,c+480,16),r(m[g].f,0,u,d+224,8),r(m[g].ea,0,h,f+224,8)),n=8*s*e.B,m=e.sa,g=e.ta+16*i+16*s*e.R,y=e.qa,p=e.ra+8*i+n,x=e.Ha,b=e.Ia+8*i+n,n=0;16>n;++n)r(m,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(y,p+n*e.B,u,d+32*n,8),r(x,b+n*e.B,h,f+32*n,8)}}function Dn(e,r,a,i,o,s,l,c,u){var d=[0],h=[0],f=0,p=null!=u?u.kd:0,m=null!=u?u:new nn;if(null==e||12>a)return 7;m.data=e,m.w=r,m.ha=a,r=[r],a=[a],m.gb=[m.gb];e:{var g=r,x=a,b=m.gb;if(t(null!=e),t(null!=x),t(null!=b),b[0]=0,12<=x[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){b=3;break e}var v=T(e,g[0]+4);if(12>v||4294967286<v){b=3;break e}if(p&&v>x[0]-8){b=7;break e}b[0]=v,g[0]+=12,x[0]-=12}b=0}if(0!=b)return b;for(v=0<m.gb[0],a=a[0];;){e:{var j=e;x=r,b=a;var N=d,S=h,_=g=[0];if((A=f=[f])[0]=0,8>b[0])b=7;else{if(!n(j,x[0],"VP8X")){if(10!=T(j,x[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var k=T(j,x[0]+8),P=1+C(j,x[0]+12);if(2147483648<=P*(j=1+C(j,x[0]+15))){b=3;break e}null!=_&&(_[0]=k),null!=N&&(N[0]=P),null!=S&&(S[0]=j),x[0]+=18,b[0]-=18,A[0]=1}b=0}}if(f=f[0],g=g[0],0!=b)return b;if(x=!!(2&g),!v&&f)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=l&&(l[0]=x),null!=c&&(c[0]=0),l=d[0],g=h[0],f&&x&&null==u){b=0;break}if(4>a){b=7;break}if(v&&f||!v&&!f&&!n(e,r[0],"ALPH")){a=[a],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{k=e,b=r,v=a;var A=m.gb;N=m.na,S=m.P,_=m.Sa,P=22,t(null!=k),t(null!=v),j=b[0];var E=v[0];for(t(null!=N),t(null!=_),N[0]=null,S[0]=null,_[0]=0;;){if(b[0]=j,v[0]=E,8>E){b=7;break e}var O=T(k,j+4);if(4294967286<O){b=3;break e}var L=8+O+1&-2;if(P+=L,0<A&&P>A){b=3;break e}if(!n(k,j,"VP8 ")||!n(k,j,"VP8L")){b=0;break e}if(E[0]<L){b=7;break e}n(k,j,"ALPH")||(N[0]=k,S[0]=j+8,_[0]=O),j+=L,E-=L}}if(a=a[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}a=[a],m.Ja=[m.Ja],m.xa=[m.xa];e:if(A=e,b=r,v=a,N=m.gb[0],S=m.Ja,_=m.xa,k=b[0],j=!n(A,k,"VP8 "),P=!n(A,k,"VP8L"),t(null!=A),t(null!=v),t(null!=S),t(null!=_),8>v[0])b=7;else{if(j||P){if(A=T(A,k+4),12<=N&&A>N-12){b=3;break e}if(p&&A>v[0]-8){b=7;break e}S[0]=A,b[0]+=8,v[0]-=8,_[0]=P}else _[0]=5<=v[0]&&47==A[k+0]&&!(A[k+4]>>5),S[0]=v[0];b=0}if(a=a[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==c||x||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>a){b=7;break}c=l,p=g,x=s,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(v=[0],A=[0],N=[0],y(S=new w,e,r,a),me(S,v,A,N)?(null!=c&&(c[0]=v[0]),null!=p&&(p[0]=A[0]),null!=x&&(x[0]=N[0]),e=1):e=0):e=0}else{if(10>a){b=7;break}c=g,null==e||10>a||!Ye(e,r+3,a-3)?e=0:(p=e[r+0]|e[r+1]<<8|e[r+2]<<16,x=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!x||!e?e=0:(l&&(l[0]=x),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],f&&(d[0]!=l||h[0]!=g))return 3;null!=u&&(u[0]=m,u.offset=r-u.w,t(4294967286>r-u.w),t(u.offset==u.ha-a));break}return 0==b||7==b&&f&&null==u?(null!=s&&(s[0]|=null!=m.na&&0<m.na.length),null!=i&&(i[0]=l),null!=o&&(o[0]=g),0):b}function Fn(e,t,n){var r=t.width,a=t.height,i=0,o=0,s=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,l=e.bd,i=e.v,o=e.j,11>n||(i&=-2,o&=-2),0>i||0>o||0>=s||0>=l||i+s>r||o+l>a))return 0;if(t.v=i,t.j=o,t.va=i+s,t.o=o+l,t.U=s,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!I(s,l,n=[e.ib],i=[e.hb]))return 0;t.ib=n[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function In(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Rn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,o=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=a||0>=o||s+a>e||l+o>t)return 2;e=a,t=o}if(n.da){if(!I(e,t,a=[n.ib],o=[n.hb]))return 2;e=a[0],t=o[0]}}r.width=e,r.height=t;e:{var c=r.width,u=r.height;if(e=r.S,0>=c||0>=u||!(e>=Fr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=o=a=t=0;var d=(l=c*za[e])*u;if(11>e||(o=(u+1)/2*(t=(c+1)/2),12==e&&(s=(a=c)*u)),null==(u=i(d+2*o+s))){e=1;break e}r.sd=u,11>e?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=d):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=d,c.f=u,c.N=0+d,c.Ab=t,c.Cd=o,c.ea=u,c.W=0+d+o,c.Db=t,c.Ed=o,12==e&&(c.F=u,c.J=0+d+2*o),c.Tc=s,c.lb=a)}if(t=1,a=r.S,o=r.width,s=r.height,a>=Fr&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(s-1)+o<=e.size,t&=l>=o*za[a],t&=null!=e.eb;else{e=r.f.kb,l=(o+1)/2,d=(s+1)/2,c=Math.abs(e.fa),u=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(s-1)+o;t&=c*(s-1)+o<=e.Fd,t&=u*(d-1)+l<=e.Cd,t=(t&=h*(d-1)+l<=e.Ed)&c>=o&u>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=f>=o,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=In(r)),e}var Mn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zn=24,Un=32,qn=8,$n=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return U(U(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return U(e,t[n-1])},e.Predictor7=function(e,t,n){return U(e,t[n+0])},e.Predictor8=function(e,t,n){return U(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return U(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return U(U(e,t[n-1]),U(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=W(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+W(r>>16&255,e>>16&255,t>>16&255)+W(r>>8&255,e>>8&255,t>>8&255)+W(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return($((e=U(e,t[n+0]))>>24&255,r>>24&255)<<24|$(e>>16&255,r>>16&255)<<16|$(e>>8&255,r>>8&255)<<8|$(255&e,255&r))>>>0};var Wn=e.PredictorAdd0;e.PredictorAdd1=H,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Hn=e.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Kn,Vn=e.ColorIndexInverseTransform,Gn=e.MapARGB,Yn=e.VP8LColorIndexInverseTransformAlpha,Xn=e.MapAlpha,Qn=e.VP8LPredictorsAdd=[];Qn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Jn,Zn,er,tr,nr,rr,ar,ir,or,sr,lr,cr,ur,dr,hr,fr,pr,mr,gr,yr,xr,br,vr,wr,jr,Nr,Sr,_r,kr=i(511),Pr=i(2041),Ar=i(225),Er=i(767),Or=0,Cr=Pr,Tr=Ar,Lr=Er,Dr=kr,Fr=0,Ir=1,Rr=2,Mr=3,Br=4,zr=5,Ur=6,qr=7,$r=8,Wr=9,Hr=10,Kr=[2,3,7],Vr=[3,3,11],Gr=[280,256,256,256,40],Yr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,ra=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ia=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ua=[],da=[],ha=[],fa=1,pa=2,ma=[],ga=[];yn("UpsampleRgbLinePair",Nn,3),yn("UpsampleBgrLinePair",Sn,3),yn("UpsampleRgbaLinePair",En,4),yn("UpsampleBgraLinePair",An,4),yn("UpsampleArgbLinePair",Pn,4),yn("UpsampleRgba4444LinePair",kn,2),yn("UpsampleRgb565LinePair",_n,2);var ya=e.UpsampleRgbLinePair,xa=e.UpsampleBgrLinePair,ba=e.UpsampleRgbaLinePair,va=e.UpsampleBgraLinePair,wa=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,Na=e.UpsampleRgb565LinePair,Sa=16,_a=1<<Sa-1,ka=-227,Pa=482,Aa=6,Ea=(256<<Aa)-1,Oa=0,Ca=i(256),Ta=i(256),La=i(256),Da=i(256),Fa=i(Pa-ka),Ia=i(Pa-ka);On("YuvToRgbRow",Nn,3),On("YuvToBgrRow",Sn,3),On("YuvToRgbaRow",En,4),On("YuvToBgraRow",An,4),On("YuvToArgbRow",Pn,4),On("YuvToRgba4444Row",kn,2),On("YuvToRgb565Row",_n,2);var Ra=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ma=[0,2,8],Ba=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,s,l,c){var u=Ir,d=new tn,h=new oe;d.ba=h,h.S=u,h.width=[h.width],h.height=[h.height];var f=h.width,p=h.height,m=new se;if(null==m||null==e)var g=2;else t(null!=m),g=Dn(e,n,s,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=g?f=0:(null!=f&&(f[0]=m.width[0]),null!=p&&(p[0]=m.height[0]),f=1),f){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ke,(c=new nn).data=e,c.w=n,c.ha=s,c.kd=1,n=[0],t(null!=c),(0==(e=Dn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=d),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=fe,l.ac=he,l.bc=pe,l.ma=d,c.xa){if(null==(e=Ae())){d=1;break e}if(function(e,n){var r=[0],a=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,y(e.m,n.data,n.w,n.ha),!me(e.m,r,a,i)){e.a=3;break t}if(e.xb=pa,n.width=r[0],n.height=a[0],!Ee(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Rn(l.width,l.height,d.Oa,d.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(s=l.l)),t(null!=(c=s.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Fn(c.Oa,s,Mr)){l.a=2;break n}if(!Oe(l,s.width))break n;if(s.da)break n;if((s.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!L(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!ke(l,l.V,l.Ba,l.c,l.i,s.o,je))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ve)){d=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Xe(e,l)){if(0==(n=Rn(l.width,l.height,d.Oa,d.ba))){if(e.Aa=0,s=d.Oa,t(null!=(c=e)),null!=s){if(0<(f=0>(f=s.Md)?0:100<f?255:255*f/100)){for(p=m=0;4>p;++p)12>(g=c.pb[p]).lc&&(g.ia=f*Ba[0>g.lc?0:g.lc]>>3),m|=g.ia;m&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=s.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Ma[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var u=e.Qa.Lb[s];e.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var d=e.gd[s][c],h=u;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),d.dd=f,d.tc=2*h+f,d.ld=40<=h?2:15<=h?1:0}else d.tc=0;d.La=c}}}s=0}else Ge(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=1);t:{s=e.Ic,l=4*(f=e.za);var p=32*f,m=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,y=(2==e.Aa?2:1)*f;if((d=l+832+(c=3*(16*s+Ma[e.L])/2*p)+(u=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)s=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=i(d),e.Fc=0,null==e.Ec){s=Ge(e,1,"no memory during frame initialization.");break t}e.Vb=d}d=e.Ec,h=e.Fc,e.Ac=d,e.Bc=h,h+=l,e.Gd=o(p,$e),e.Hd=0,e.rb=o(m+1,Be),e.sb=1,e.wa=g?o(g,Me):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=d,e.pc=h,h+=832,e.ya=o(y,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Ma[e.L])*e.R,p=p/2*e.B,e.sa=d,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*s*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+p,e.$c=0,h+=c,e.mb=u?d:null,e.nb=u?h:null,t(h+u<=e.Fc+e.Vb),Je(e),a(e.Ac,e.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Or){for(s=-255;255>=s;++s)kr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Pr[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Ar[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Er[255+s]=0>s?0:255<s?255:s;Or=1}ar=lt,ir=at,sr=it,lr=ot,cr=st,or=rt,ur=Vt,dr=Gt,hr=Qt,fr=Jt,pr=Yt,mr=Xt,gr=Zt,yr=en,xr=Ut,br=qt,vr=$t,wr=Wt,da[0]=Nt,da[1]=ut,da[2]=wt,da[3]=jt,da[4]=St,da[5]=kt,da[6]=_t,da[7]=Pt,da[8]=Et,da[9]=At,ua[0]=gt,ua[1]=ht,ua[2]=ft,ua[3]=pt,ua[4]=yt,ua[5]=xt,ua[6]=bt,ha[0]=Lt,ha[1]=dt,ha[2]=Ot,ha[3]=Ct,ha[4]=Ft,ha[5]=Dt,ha[6]=It,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,s=e.Jc[e.M&e.Xb],l=e.m,c=e;for(o=0;o<c.za;++o){var u=l,d=c,h=d.Ac,f=d.Bc+4*o,p=d.zc,m=d.ya[d.aa+o];if(d.Qa.Bb?m.$b=A(u,d.Pa.jb[0])?2+A(u,d.Pa.jb[2]):A(u,d.Pa.jb[1]):m.$b=0,d.kc&&(m.Ad=A(u,d.Bd)),m.Za=!A(u,145)+0,m.Za){var g=m.Ob,y=0;for(d=0;4>d;++d){var x,b=p[0+d];for(x=0;4>x;++x){b=sa[h[f+x]][b];for(var v=ia[A(u,b[0])];0<v;)v=ia[2*v+A(u,b[v])];b=-v,h[f+x]=b}r(g,y,h,f,4),y+=4,p[0+d]=b}}else b=A(u,156)?A(u,128)?1:3:A(u,163)?2:0,m.Ob[0]=b,a(h,f,b,4),a(p,0,b,4);m.Dd=A(u,142)?A(u,114)?A(u,183)?1:3:2:0}if(c.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,u=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],f=l.kc?o.Ad:0)u.la=h.la=0,o.Za||(u.Na=h.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var w,j;if(u=h,h=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],d=p.ad,g=0,y=l.rb[l.sb-1],b=x=0,a(d,g,0,384),p.Za)var N=0,S=f[3];else{v=i(16);var _=u.Na+y.Na;if(_=na(h,f[1],_,m.Eb,0,v,0),u.Na=y.Na=(0<_)+0,1<_)ar(v,0,d,g);else{var k=v[0]+3>>3;for(v=0;256>v;v+=16)d[g+v]=k}N=1,S=f[0]}var P=15&u.la,E=15&y.la;for(v=0;4>v;++v){var O=1&E;for(k=j=0;4>k;++k)P=P>>1|(O=(_=na(h,S,_=O+(1&P),m.Sc,N,d,g))>N)<<7,j=j<<2|(3<_?3:1<_?2:0!=d[g+0]),g+=16;P>>=4,E=E>>1|O<<7,x=(x<<8|j)>>>0}for(S=P,N=E>>4,w=0;4>w;w+=2){for(j=0,P=u.la>>4+w,E=y.la>>4+w,v=0;2>v;++v){for(O=1&E,k=0;2>k;++k)_=O+(1&P),P=P>>1|(O=0<(_=na(h,f[2],_,m.Qc,0,d,g)))<<3,j=j<<2|(3<_?3:1<_?2:0!=d[g+0]),g+=16;P>>=2,E=E>>1|O<<5}b|=j<<4*w,S|=P<<4<<w,N|=(240&E)<<w}u.la=S,y.la=N,p.Hc=x,p.Gc=b,p.ia=43690&b?0:m.ia,f=!(x|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Je(e),l=n,c=1,o=(s=e).D,u=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)t:{if(o.M=s.M,o.uc=u,Ln(s,o),c=1,o=(j=s.D).Nb,u=(b=Ma[s.L])*s.R,h=b/2*s.B,v=16*o*s.R,k=8*o*s.B,f=s.sa,p=s.ta-u+v,m=s.qa,d=s.ra-h+k,g=s.Ha,y=s.Ia-h+k,E=0==(P=j.M),x=P>=s.Va-1,2==s.Aa&&Ln(s,j),j.uc)for(O=(_=s).D.M,t(_.D.uc),j=_.yb;j<_.Hb;++j){N=j,S=O;var C=(T=(U=_).D).Nb;w=U.R;var T=T.wa[T.Y+N],L=U.sa,D=U.ta+16*C*w+16*N,F=T.dd,I=T.tc;if(0!=I)if(t(3<=I),1==U.L)0<N&&br(L,D,w,I+4),T.La&&wr(L,D,w,I),0<S&&xr(L,D,w,I+4),T.La&&vr(L,D,w,I);else{var R=U.B,M=U.qa,B=U.ra+8*C*R+8*N,z=U.Ha,U=U.Ia+8*C*R+8*N;C=T.ld,0<N&&(dr(L,D,w,I+4,F,C),fr(M,B,z,U,R,I+4,F,C)),T.La&&(mr(L,D,w,I,F,C),yr(M,B,z,U,R,I,F,C)),0<S&&(ur(L,D,w,I+4,F,C),hr(M,B,z,U,R,I+4,F,C)),T.La&&(pr(L,D,w,I,F,C),gr(M,B,z,U,R,I,F,C))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*P,P=16*(P+1),E?(l.y=s.sa,l.O=s.ta+v,l.f=s.qa,l.N=s.ra+k,l.ea=s.Ha,l.W=s.Ia+k):(j-=b,l.y=f,l.O=p,l.f=m,l.N=d,l.ea=g,l.W=y),x||(P-=b),P>l.o&&(P=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&j<P&&(l.J=dn(s,l,j,P-j),l.F=s.mb,null==l.F&&0==l.F.length)){c=Ge(s,3,"Could not decode alpha data.");break t}j<l.j&&(b=l.j-j,j=l.j,t(!(1&b)),l.O+=s.R*b,l.N+=s.B*(b>>1),l.W+=s.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),j<P&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=P-j,c=l.put(l))}o+1!=s.Ic||x||(r(s.sa,s.ta-u,f,p+16*s.R,u),r(s.qa,s.ra-h,m,d+8*s.B,h),r(s.Ha,s.Ia-h,g,y+8*s.B,h))}if(!c)return Ge(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=d.Oa&&d.Oa.fd&&(n=In(d.ba))}d=n}u=0!=d?null:11>u?h.f.RGBA.eb:h.f.kb.y}else u=null;return u};var za=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function u(e,t){return e[t+0]|e[t+1]<<8}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var f=[0],p=[0],m=[],g=new l,y=e,x=function(e,t){var n={},r=0,a=!1,i=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var s=c(e,t),l=h(e,t+=4);t+=4;var f=l+(1&l);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=a?o:t-8,g.src_size=i+l+8,r++,a&&(a=!1,i=0,o=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var p=t+4;g.canvas_width=1+d(e,p),p+=3,g.canvas_height=1+d(e,p),p+=3;break;case"ALPH":a=!0,i=f+8,o=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),p=t+4,g.loop_count=u(e,p),p+=2;break;case"ANMF":var m,g;(g=n.frames[r]={}).offset_x=2*d(e,t),t+=3,g.offset_y=2*d(e,t),t+=3,g.width=1+d(e,t),t+=3,g.height=1+d(e,t),t+=3,g.duration=d(e,t),t+=3,m=e[t++],g.dispose=1&m,g.blend=m>>1&1}"ANMF"!=s&&(t+=f)}return n}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,v=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],p=[b.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var j=v[0],N=g.WebPDecodeRGBA(y,j.src_off,j.src_size,p,f);j.rgba=N,j.imgwidth=p[0],j.imgheight=f[0];for(var S=0;S<p[0]*f[0]*4;S++)m[S]=N[S];return this.width=p,this.height=f,this.data=m,this}!function(e){var t,n,r,a,i,o,s,l,c,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof u&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null,p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){f=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],a=t[4];t[5];var i=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===o?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var s=function(e){var t,n,r=[],a=e.trim();if(""===a)return JE;if(a in ME)return[ME[a]];for(;""!==a;){switch(n=null,t=(a=zE(a)).charAt(0)){case'"':case"'":n=UE(a.substring(1),t);break;default:n=qE(a)}if(null===n)return JE;if(r.push(n[0]),""!==(a=zE(n[1]))&&","!==a.charAt(0))return JE;a=a.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t){if(null===f){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());f=function(e){for(var t={},n=0;n<e.length;++n){var r=FE(e[n]),a=r.family,i=r.stretch,o=r.style,s=r.weight;t[a]=t[a]||{},t[a][i]=t[a][i]||{},t[a][i][o]=t[a][i][o]||{},t[a][i][o][s]=r}return t}(n.concat(t))}return f}(this.pdf,this.fontFaces),c=s.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})),u=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},RE,n.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=FE(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+BE(i)+"' and default family '"+r+"'.");if(o=function(e,t){if(t[e])return t[e];var n=TE[e],r=n<=TE.normal?-1:1,a=IE(t,CE,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(i.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=OE[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(i.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=DE[e],r=IE(t,LE,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+BE(i)+"'.");return o}(l,c);this.pdf.setFont(u.ref.name,u.ref.style)}else{var d="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(d="bold"),"italic"===n&&(d+="italic"),0===d.length&&(d="normal");for(var h="",p={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},m=0;m<s.length;m++){if(void 0!==this.pdf.internal.getFont(s[m],d,{noFallback:!0,disableWarning:!0})){h=s[m];break}if("bolditalic"===d&&void 0!==this.pdf.internal.getFont(s[m],"bold",{noFallback:!0,disableWarning:!0}))h=s[m],d="bold";else if(void 0!==this.pdf.internal.getFont(s[m],"normal",{noFallback:!0,disableWarning:!0})){h=s[m],d="normal";break}}if(""===h)for(var g=0;g<s.length;g++)if(p[s[g]]){h=p[s[g]];break}h=""===h?"Times":h,this.pdf.setFont(h,d)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){v.call(this,"fill",!1)},d.prototype.stroke=function(){v.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw dA.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},d.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,eN.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw dA.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw dA.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new o(n,r)),i=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},d.prototype.bezierCurveTo=function(e,t,n,r,a,i){if(isNaN(a)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw dA.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new o(a,i)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},d.prototype.arc=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw dA.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:i})},d.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},d.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw dA.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw dA.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},d.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw dA.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},d.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw dA.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},d.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},d.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=parseFloat(i[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new gA(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};d.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw dA.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var a=D(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;A.call(this,{text:e,x:t,y:n,scale:i,angle:a,align:this.textAlign,maxWidth:r})}},d.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw dA.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var a=D(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;A.call(this,{text:e,x:t,y:n,scale:i,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},d.prototype.measureText=function(e){if("string"!=typeof e)throw dA.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw dA.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.rotate=function(e){if(isNaN(e))throw dA.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw dA.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.transform=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i))throw dA.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(e,t,n,r,a,i);this.ctx.transform=this.ctx.transform.multiply(o)},d.prototype.setTransform=function(e,t,n,r,a,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,n,r,a,i)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,n,r,a,i,o,c,u){var d=this.pdf.getImageProperties(e),h=1,f=1,p=1,y=1;void 0!==r&&void 0!==c&&(p=c/r,y=u/a,h=d.width/r*c/r,f=d.height/a*u/a),void 0===i&&(i=t,o=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,u=a),void 0===r&&void 0===c&&(c=d.width,u=d.height);for(var v,j=this.ctx.transform.decompose(),N=D(j.rotate.shx),S=new l,_=(S=(S=(S=S.multiply(j.translate)).multiply(j.skew)).multiply(j.scale)).applyToRectangle(new s(i-t*p,o-n*y,r*h,a*f)),k=g.call(this,_),P=[],A=0;A<k.length;A+=1)-1===P.indexOf(k[A])&&P.push(k[A]);if(b(P),this.autoPaging)for(var E=P[0],O=P[P.length-1],C=E;C<O+1;C++){this.pdf.setPage(C);var T=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===C?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===C?0:F+(C-2)*I;if(0!==this.ctx.clip_path.length){var M=this.path;v=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(v,this.posX+this.margin[3],-R+L+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=M}var B=JSON.parse(JSON.stringify(_));B=x([B],this.posX+this.margin[3],-R+L+this.ctx.prevPageLastElemOffset)[0];var z=(C>E||C<O)&&m.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,I,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,N),z&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",_.x,_.y,_.w,_.h,null,null,N)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var i=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+a)/n)+1),r.push(Math.floor((i.y+i.h+a)/n)+1);break;case"bct":var o=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+a)/n)+1),r.push(Math.floor((o.y+o.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)y.call(this);return r},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=i},x=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort((function(e,t){return e-t}))},v=function(e,t){for(var n,r,a=this.fillStyle,i=this.strokeStyle,o=this.lineCap,s=this.lineWidth,l=Math.abs(s*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<d.length;f++)if(void 0!==d[f].x)for(var p=g.call(this,d[f]),v=0;v<p.length;v+=1)-1===h.indexOf(p[v])&&h.push(p[v]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)y.call(this);if(b(h),this.autoPaging)for(var N=h[0],S=h[h.length-1],_=N;_<S+1;_++){this.pdf.setPage(_),this.fillStyle=a,this.strokeStyle=i,this.lineCap=o,this.lineWidth=l,this.lineJoin=c;var k=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],P=1===_?this.posY+this.margin[0]:this.margin[0],A=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],O=1===_?0:A+(_-2)*E;if(0!==this.ctx.clip_path.length){var C=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(n,this.posX+this.margin[3],-O+P+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=C}if(r=JSON.parse(JSON.stringify(u)),this.path=x(r,this.posX+this.margin[3],-O+P+this.ctx.prevPageLastElemOffset),!1===t||0===_){var T=(_>N||_<S)&&m.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],k,E,null).clip().discardPath()),w.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=s;this.path=u},w=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,a=[],i=this.path,o=0;o<i.length;o++){var s=i[o];switch(s.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:s,deltas:[],abs:[]});break;case"lt":var l=a.length;if(i[o-1]&&!isNaN(i[o-1].x)&&(n=[s.x-i[o-1].x,s.y-i[o-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(s);break}break;case"bct":n=[s.x1-i[o-1].x,s.y1-i[o-1].y,s.x2-i[o-1].x,s.y2-i[o-1].y,s.x-i[o-1].x,s.y-i[o-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=i[o-1].x+2/3*(s.x1-i[o-1].x),u=i[o-1].y+2/3*(s.y1-i[o-1].y),d=s.x+2/3*(s.x1-s.x),h=s.y+2/3*(s.y1-s.y),m=s.x,g=s.y;n=[c-i[o-1].x,u-i[o-1].y,d-i[o-1].x,h-i[o-1].y,m-i[o-1].x,g-i[o-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var y=!1,x=0;x<a.length;x++)if(a[x].arc)for(var b=a[x].abs,v=0;v<b.length;v++){var w=b[v];"arc"===w.type?S.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!y):E.call(this,w.x,w.y),y=!0}else if(!0===a[x].close)this.pdf.internal.out("h"),y=!1;else if(!0!==a[x].begin){var j=a[x].start.x,N=a[x].start.y;O.call(this,a[x].deltas,j,N),y=!0}r&&_.call(this,r),t&&k.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,n,r,a,i,o,s,l){for(var c=T.call(this,n,r,a,i),u=0;u<c.length;u++){var d=c[u];0===u&&(l?P.call(this,d.x1+e,d.y1+t):E.call(this,d.x1+e,d.y1+t)),C.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}s?k.call(this):_.call(this,o)},_=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},A=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=j.call(this,e.y),a=N.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new o(e.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var d,h,f,p=this.ctx.transform.applyToRectangle(new s(e.x,r,n.w,n.h)),y=u.applyToRectangle(new s(e.x,a,n.w,n.h)),v=g.call(this,y),S=[],_=0;_<v.length;_+=1)-1===S.indexOf(v[_])&&S.push(v[_]);if(b(S),this.autoPaging)for(var k=S[0],P=S[S.length-1],A=k;A<P+1;A++){this.pdf.setPage(A);var E=1===A?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C=this.pdf.internal.pageSize.height-this.margin[2],T=C-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],D=L-this.margin[3],F=1===A?0:O+(A-2)*T;if(0!==this.ctx.clip_path.length){var I=this.path;d=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(d,this.posX+this.margin[3],-1*F+E),w.call(this,"fill",!0),this.path=I}var R=x([JSON.parse(JSON.stringify(y))],this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var M="text"!==this.autoPaging;if(M||R.y+R.h<=C){if(M||R.y>=E&&R.x<=L){var B=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||L-R.x)[0],z=x([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset)[0],U=M&&(A>k||A<P)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],D,T,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else R.y<C&&(this.ctx.prevPageLastElemOffset+=C-R.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)},E=function(e,t,a,i){a=a||0,i=i||0,this.pdf.internal.out(n(e+a)+" "+r(t+i)+" l")},O=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},C=function(e,n,r,o,s,l,c,u){this.pdf.internal.out([t(a(r+e)),t(i(o+n)),t(a(s+e)),t(i(l+n)),t(a(c+e)),t(i(u+n)),"c"].join(" "))},T=function(e,t,n,r){for(var a=2*Math.PI,i=Math.PI/2;t>n;)t-=a;var o=Math.abs(n-t);o<a&&r&&(o=a-o);for(var s=[],l=r?-1:1,c=t;o>1e-5;){var u=c+l*Math.min(o,i);s.push(L.call(this,e,c,u)),o-=Math.abs(u-c),c=u}return s},L=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),i=e*Math.sin(r),o=a,s=-i,l=o*o+s*s,c=l+o*a+s*i,u=4/3*(Math.sqrt(2*l*c)-c)/(o*i-s*a),d=o-u*s,h=s+u*o,f=d,p=-h,m=r+t,g=Math.cos(m),y=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*g-h*y,y2:d*y+h*g,x3:f*g-p*y,y3:f*y+p*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},D=function(e){return 180*e/Math.PI},F=function(e,t,n,r,a,i){var o=e+.5*(n-e),l=t+.5*(r-t),c=a+.5*(n-a),u=i+.5*(r-i),d=Math.min(e,a,o,c),h=Math.max(e,a,o,c),f=Math.min(t,i,l,u),p=Math.max(t,i,l,u);return new s(d,f,h-d,p-f)},I=function(e,t,n,r,a,i,o,l){var c,u,d,h,f,p,m,g,y,x,b,v,w,j,N=n-e,S=r-t,_=a-n,k=i-r,P=o-a,A=l-i;for(u=0;u<41;u++)y=(m=(d=e+(c=u/40)*N)+c*((f=n+c*_)-d))+c*(f+c*(a+c*P-f)-m),x=(g=(h=t+c*S)+c*((p=r+c*k)-h))+c*(p+c*(i+c*A-p)-g),0==u?(b=y,v=x,w=y,j=x):(b=Math.min(b,y),v=Math.min(v,x),w=Math.max(w,y),j=Math.max(j,x));return new s(Math.round(b),Math.round(v),Math.round(w-b),Math.round(j-v))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(qA.API),function(e){var t=function(e){var t,n,r,a,i,o,s,l,c,u;for(/[^\x00-\xFF]/.test(e),n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(o=(i=((i=((i=((i=(i-(u=i%85))/85)-(c=i%85))/85)-(l=i%85))/85)-(s=i%85))/85)%85,n.push(o+33,s+33,l+33,c+33,u+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,i,o=String,s="length",l=255,c="charCodeAt",u="slice",d="replace";for(e[u](-2),e=e[u](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),r=[],a=0,i=(e+=t="uuuuu"[u](e[s]%5||5))[s];i>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),o.fromCharCode.apply(o,r)},r=function(e){return e.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=MN(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var s=0,l=e||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(qA.API),(QE=qA.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,i=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,n)}catch(pN){}return r}(e,t,n)},QE.loadImageFile=QE.loadFile,function(e){function t(){return(cA.html2canvas?Promise.resolve(cA.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function r(){return(cA.DOMPurify?Promise.resolve(cA.DOMPurify):n.e(977).then(n.bind(n,7977))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var a=function(e){var t=(0,eN.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then((function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var o=n[i],s=o.src.find((function(e){return"truetype"===e.format}));s&&t.addFont(s.url,o.ref.name,o.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},s.prototype.get=function(e,t){return this.then((function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},s.prototype.setMargin=function(e){return this.then((function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||qA.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},s.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:s.convert(Object.assign({},r),Promise.prototype),i=n.call(a,e,t);return s.convert(i,r.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,qA.getPageSize=function(e,t,n){if("object"===(0,eN.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,i=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var s,l=0,c=0;if(o.hasOwnProperty(i))l=o[i][1]/a,c=o[i][0]/a;else try{l=n[1],c=n[0]}catch(gA){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(s=c,c=l,l=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(s=c,c=l,l=s)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(FE):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(qA.API),qA.API.addJS=function(e){return HE=e,this.internal.events.subscribe("postPutResources",(function(){$E=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($E+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+HE+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==$E&&void 0!==WE&&this.internal.out("/Names <</JavaScript "+$E+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var i=r[a],o=n.exec(i);if(null!=o){var s=o[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var u=e.internal.newObject();c.push(u);var d=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var i=this.count=this.count_r({count:0},a);if(i>0&&this.line("/Count "+i),a.options&&a.options.pageNumber){var o=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(qA.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,i,o){var s,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,i={width:0,height:0,numcomponents:1},o=4;o<a;o+=2){if(o+=r,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),i={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),s.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(qA.API),qA.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=function(e,t){return new sA(e,t).decode()}(e,{checkCrc:!0}),o=i.width,s=i.height,l=i.channels,c=i.palette,u=i.depth;a=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,a=e.palette,i=e.depth,o=!1,s=[],l=[],c=void 0,u=!1,d=0,h=0;h<a.length;h++){var f=UN(a[h],4),p=f[0],m=f[1],g=f[2],y=f[3];s.push(p,m,g),null!=y&&(0===y?(d++,l.length<1&&l.push(h)):y<255&&(u=!0))}if(u||d>1){o=!0,l=void 0;var x=t*n;c=new Uint8Array(x);for(var b=new DataView(r.buffer),v=0;v<x;v++){var w=UN(a[sO(b,v,i)],4)[3];c[v]=w}}else 0===d&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:o?8:void 0,colorBytes:r,alphaBytes:c,needSMask:o,palette:s,mask:l}}(i):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,a=e.channels,i=e.depth,o=2===a?"DeviceGray":"DeviceRGB",s=a-1,l=n*r,c=s,u=l*c,d=1*l,h=Math.ceil(u*i/8),f=Math.ceil(d*i/8),p=new Uint8Array(h),m=new Uint8Array(f),g=new DataView(t.buffer),y=new DataView(p.buffer),x=new DataView(m.buffer),b=!1,v=0;v<l;v++){for(var w=v*a,j=0;j<c;j++)lO(y,sO(g,w+j,i),v*c+j,i);var N=sO(g,w+c,i);N<(1<<i)-1&&(b=!0),lO(x,N,1*v,i)}return{colorSpace:o,colorsPerPixel:s,sMaskBitsPerComponent:b?i:void 0,colorBytes:p,alphaBytes:m,needSMask:b}}(i):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),a=0;a<t;a++)r.setUint16(2*a,e[a],!1);return n}(t):t,needSMask:!1}}(i);var d,h,f,p=a,m=p.colorSpace,g=p.colorsPerPixel,y=p.sMaskBitsPerComponent,x=p.colorBytes,b=p.alphaBytes,v=p.needSMask,w=p.palette,j=p.mask,N=null;return r!==qA.API.image_compression.NONE?(N=function(e){var t;switch(e){case qA.API.image_compression.FAST:t=11;break;case qA.API.image_compression.MEDIUM:t=13;break;case qA.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," /Colors ").concat(g," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=ZE(x,Math.ceil(o*g*u/8),g,u,r),v&&(f=ZE(b,Math.ceil(o*y/8),1,y,r))):(d=void 0,h=void 0,e=x,v&&(f=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:d,decodeParameters:h,transparency:j,palette:w,sMask:f,predictor:N,width:o,height:s,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:m}}},function(e){e.processGIF89A=function(t,n,r,a){var i=new uO(t),o=i.width,s=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},u=new hO(100).encode(c,100);return e.processJPEG.call(this,u,n,r,a)},e.processGIF87A=e.processGIF89A}(qA.API),fO.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fO.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){dA.log("bit decode error:"+n)}},fO.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var l=this.palette[i>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}0!==n&&(this.pos+=4-n)}},fO.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*a*4,s=i>>4,l=15&i,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},fO.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},fO.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=r*this.width*4+4*a;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},fO.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},fO.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},fO.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=o}},fO.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var i=new fO(t,!1),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},c=new hO(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(qA.API),pO.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var i=new pO(t),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},c=new hO(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(qA.API),qA.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,l=0,c=0;c<a;c+=4){var u=r[c],d=r[c+1],h=r[c+2],f=r[c+3];i[s++]=u,i[s++]=d,i[s++]=h,o[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qA.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},KE=qA.API,VE=KE.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=!1!==t.doKerning,h=0,f=e.length,p=0,m=s[0]||l,g=[];for(n=0;n<f;n++)r=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(h=d&&"object"===(0,eN.A)(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,g.push((s[r]||m)/l+h)),p=r;return g},GE=KE.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return KE.processArabic&&(e=KE.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:VE.apply(this,arguments).reduce((function(e,t){return e+t}),0)},YE=function(e,t,n,r){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<n;)s+=t[i],i++;a.push(e.slice(0,i));var l=i;for(s=0;i!==o;)s+t[i]>r&&(a.push(e.slice(l,i)),s=0,l=i),s+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},XE=function(e,t,n){n||(n={});var r,a,i,o,s,l,c,u=[],d=[u],h=n.textIndent||0,f=0,p=0,m=e.split(" "),g=VE.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];m.map((function(e){(e=e.split(/\s*\n/)).length>1?x=x.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):x.push(e[0])})),m=x,l=GE.apply(this,[y,n])}for(i=0,o=m.length;i<o;i++){var b=0;if(r=m[i],l&&"\n"==r[0]&&(r=r.substr(1),b=1),h+f+(p=(a=VE.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||b){if(p>t){for(s=YE.apply(this,[r,a,t-(h+f),t]),u.push(s.shift()),u=[s.pop()];s.length;)d.push([s.shift()]);p=a.slice(r.length-(u[0]?u[0].length:0)).reduce((function(e,t){return e+t}),0)}else u=[r];d.push(u),h=p+l,f=g}else u.push(r),h+=f+p,f=g}return c=l?function(e,t){return(t?y:"")+e.join(" ")}:function(e){return e.join(" ")},d.map(c)},KE.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(XE.apply(this,[r[s],o,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[n[i]]=t[i],a[t[i]]=n[i];var o=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,r,i,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+a[n.slice(-1)]),"number"==typeof t)t<0?(r=o(t).slice(3),i="-"):(r=o(t).slice(2),i=""),r=i+r.slice(0,-1)+a[r.slice(-1)];else{if("object"!==(0,eN.A)(t))throw new Error("Don't know what to do with value type "+(0,eN.A)(t)+".");r=s(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,a,i,o={},s=1,l=o,c=[],u="",d="",h=e.length-1,f=1;f<h;f+=1)"'"==(i=e[f])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(c.push([l,a]),l={},a=void 0):"}"==i?((n=c.pop())[0][n[1]]=l,a=void 0,l=n[0]):"-"==i?s=-1:void 0===a?r.hasOwnProperty(i)?(u+=r[i],a=parseInt(u,16)*s,s=1,u=""):u+=i:r.hasOwnProperty(i)?(d+=r[i],l[a]=parseInt(d,16)*s,s=1,a=void 0,d=""):d+=i;return o},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(qA.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(a.postScriptName)?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(yA(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,r)}}])}(qA),qA.API.addSvgAsImage=function(e,t,r,a,i,o,s,l){if(isNaN(t)||isNaN(r))throw dA.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw dA.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(cA.canvg?Promise.resolve(cA.canvg):n.e(732).then(n.bind(n,3732))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e})).then((function(t){return t.fromString(u,e,d)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(d)})).then((function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,a,i,s,l)}))},qA.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},qA.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,u=0,d=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=s.length;for(d=0;d<f;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if("object"===(0,eN.A)(e))for(a in e)if(i=e[a],h(s,a)&&void 0!==i){if("boolean"===n[a].type&&"boolean"==typeof i)n[a].value=i;else if("name"===n[a].type&&h(n[a].valueSet,i))n[a].value=i;else if("integer"===n[a].type&&Number.isInteger(i))n[a].value=i;else if("array"===n[a].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)"number"!=typeof i[c][u]&&(r=!1);!0===r&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+a.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(qA.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],i=[""],o=0,s=e.length;o<s;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(a[4-n.length],n)}return i.join("")},r=function(e){var t,n,r,a,i,o,s;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,s=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;o<s;o++)t=n[o],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var d=i();o({data:c,addLength1:!0,objectId:d}),a("endobj");var h=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var f=i();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+IA(n.fontName)),a("/FontFile2 "+d+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var p=i();a("<<"),a("/Type /Font"),a("/BaseFont /"+IA(n.fontName)),a("/FontDescriptor "+f+" 0 R"),a("/W "+e.API.PDFObject.convert(s)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=i(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+IA(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+p+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,l="",c=0;c<s.length;c++)l+=String.fromCharCode(s[c]);var u=i();o({data:l,addLength1:!0,objectId:u}),a("endobj");var d=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),a("endobj");var h=i();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+u+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+IA(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=i();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+IA(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,i=e.y,o=e.options||{},s=e.mutex||{},l=s.pdfEscape,c=s.activeFontKey,u=s.fonts,d=c,h="",f=0,p="",m=u[d].encoding;if("Identity-H"!==u[d].encoding)return{text:r,x:a,y:i,options:o,mutex:s};for(p=r,d=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[d].metadata.hasOwnProperty("cmap")&&(t=u[d].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&u[d].metadata.hasOwnProperty("Unicode")?h+=p[f]:h+="";var g="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,d).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===m&&(g=n(h,u[d])),s.isHex=!0,{text:g,x:a,y:i,options:o,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?n.push([a(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):n.push(a(Object.assign({},r,{text:t[i]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(qA),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(qA.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,i,o,s,l,c=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,y=0;this.__bidiEngine__={};var x=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=x(e.charAt(n))))return!1;if("R"===t)return!0}return!1},v=function(e,t,o,s){var l,c,u,d,h=t[s];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(l=o[s-1])&&"AN"!==l||"EN"!==(c=t[s+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=s>0?o[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===o[s-1]){h="EN";break}if(g){h="N";break}for(u=s+1,d=t.length;u<d&&"ET"===t[u];)u++;h=u<d&&"EN"===t[u]?"EN":"N";break;case"NSM":if(a&&!i){for(d=t.length,u=s+1;u<d&&"NSM"===t[u];)u++;if(u<d){var f=e[s],p=f>=1425&&f<=2303||64286===f;if(l=t[u],p&&("R"===l||"AL"===l)){h="R";break}}}h=s<1||"B"===(l=t[s-1])?"N":o[s-1];break;case"B":g=!1,n=!0,h=y;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&j(r,n,{hiLevel:y}),r.reverse(),t&&t.reverse(),r.join("")},j=function(e,t,a){var i,o,s,l,c,f=-1,p=e.length,m=0,b=[],w=y?d:u,j=[];for(g=!1,n=!1,r=!1,o=0;o<p;o++)j[o]=x(e[o]);for(s=0;s<p;s++){if(c=m,b[s]=v(e,j,b,s),i=240&(m=w[c][h[b[s]]]),m&=15,t[s]=l=w[m][5],i>0)if(16===i){for(o=f;o<s;o++)t[o]=1;f=-1}else f=-1;if(w[m][6])-1===f&&(f=s);else if(f>-1){for(o=f;o<s;o++)t[o]=l;f=-1}"B"===j[s]&&(t[s]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=y;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=y}}(j,t,p)},N=function(e,t,r,a,i){if(!(i.hiLevel<e)){if(1===e&&1===y&&!n)return t.reverse(),void(r&&r.reverse());for(var o,s,l,c,u=t.length,d=0;d<u;){if(a[d]>=e){for(l=d+1;l<u&&a[l]>=e;)l++;for(c=d,s=l-1;c<s;c++,s--)o=t[c],t[c]=t[s],t[s]=o,r&&(o=r[c],r[c]=r[s],r[s]=o);d=l}d++}}},S=function(e,t,n){var r=e.split(""),a={hiLevel:y};return n||(n=[]),j(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=p.indexOf(e[a]))>=0&&(e[a]=p[r+1])}(r,n,a),N(2,r,t,n,a),N(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===i&&(i=b(e)),void 0===s&&(s=b(e))}(e,t),a||!o||s)if(a&&o&&i^s)y=i?1:0,e=w(e,t,n);else if(!a&&o&&s)y=i?1:0,e=S(e,t,n),e=w(e,t);else if(!a||i||o||s){if(a&&!o&&i^s)e=w(e,t),i?(y=0,e=S(e,t,n)):(y=1,e=S(e,t,n),e=w(e,t));else if(a&&i&&!o&&s)y=1,e=S(e,t,n),e=w(e,t);else if(!a&&!o&&i^s){var r=l;i?(y=1,e=S(e,t,n),y=0,l=!1,e=S(e,t,n),l=r):(y=0,e=S(e,t,n),e=w(e,t),y=1,l=!1,e=S(e,t,n),l=r,e=w(e,t))}}else y=0,e=S(e,t,n);else y=i?1:0,e=S(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,o=e.isOutputVisual,i=e.isInputRtl,s=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var a=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(a=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?a.push([n.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):a.push([n.doBidiReorder(t[i])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(qA),qA.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new gO(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new FO(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new yO(this.contents),this.head=new vO(this),this.name=new PO(this),this.cmap=new jO(this),this.toUnicode={},this.hhea=new NO(this),this.maxp=new AO(this),this.hmtx=new EO(this),this.post=new _O(this),this.os2=new SO(this),this.loca=new DO(this),this.glyf=new CO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,i,o;for(i=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)r=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var mO,gO=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,i,o,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^i)+256*(255^o)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*i+256*o+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),yO=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,i,o,s,l,c,u,d,h,f,p;for(p in h=Object.keys(t).length,s=Math.log(2),u=16*Math.floor(Math.log(h)/s),i=Math.floor(u/s),c=16*h-u,(r=new gO).writeInt(this.scalarType),r.writeShort(h),r.writeShort(u),r.writeShort(i),r.writeShort(c),a=16*h,l=r.pos+a,o=null,f=[],t)for(d=t[p],r.writeString(p),r.writeInt(e(d)),r.writeInt(l),r.writeInt(d.length),f=f.concat(d),"head"===p&&(o=l),l+=d.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=OO.call(e);e.length%4;)e.push(0);for(r=new gO(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),xO={}.hasOwnProperty,bO=function(e,t){for(var n in t)xO.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};mO=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var vO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new gO).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),wO=function(){function e(e,t){var n,r,a,i,o,s,l,c,u,d,h,f,p,m,g,y,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,a=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,p=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=d?t<d:t>d;s=0<=d?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,x=a.length;g<x;s=++g)for(m=a[s],n=y=f=p[s];f<=m?y<=m:y>=m;n=f<=m?++y:--y)0===c[s]?i=n+l[s]:0!==(i=o[c[s]/2+(n-f)-(d-s)]||0)&&(i+=l[s]),this.codeMap[n]=65535&i}e.pos=u}return e.encode=function(e,t){var n,r,a,i,o,s,l,c,u,d,h,f,p,m,g,y,x,b,v,w,j,N,S,_,k,P,A,E,O,C,T,L,D,F,I,R,M,B,z,U,q,$,W,H,K,V;switch(E=new gO,i=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(p=0,m=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),y={0:0},a={},O=0,D=i.length;O<D;O++)null==y[W=e[r=i[O]]]&&(y[W]=++p),a[r]={old:e[r],new:y[e[r]]},m[r]=y[e[r]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(m),{charMap:a,subtable:E.data,maxGlyphID:p+1};case"unicode":for(P=[],u=[],x=0,y={},n={},g=l=null,C=0,F=i.length;C<F;C++)null==y[v=e[r=i[C]]]&&(y[v]=++x),n[r]={old:v,new:y[v]},o=y[v]-r,null!=g&&o===l||(g&&u.push(g),P.push(r),l=o),g=r;for(g&&u.push(g),u.push(65535),P.push(65535),_=2*(S=P.length),N=2*Math.pow(Math.log(S)/Math.LN2,2),d=Math.log(N/2)/Math.LN2,j=2*S-N,s=[],w=[],h=[],f=T=0,I=P.length;T<I;f=++T){if(k=P[f],c=u[f],65535===k){s.push(0),w.push(0);break}if(k-(A=n[k].new)>=32768)for(s.push(0),w.push(2*(h.length+S-f)),r=L=k;k<=c?L<=c:L>=c;r=k<=c?++L:--L)h.push(n[r].new);else s.push(A-k),w.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*S+2*h.length),E.writeUInt16(0),E.writeUInt16(_),E.writeUInt16(N),E.writeUInt16(d),E.writeUInt16(j),q=0,R=u.length;q<R;q++)r=u[q],E.writeUInt16(r);for(E.writeUInt16(0),$=0,M=P.length;$<M;$++)r=P[$],E.writeUInt16(r);for(H=0,B=s.length;H<B;H++)o=s[H],E.writeUInt16(o);for(K=0,z=w.length;K<z;K++)b=w[K],E.writeUInt16(b);for(V=0,U=h.length;V<U;V++)p=h[V],E.writeUInt16(p);return{charMap:n,subtable:E.data,maxGlyphID:x+1}}},e}(),jO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new wO(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=wO.encode(e,t),(r=new gO).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),NO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),SO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),_O=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),kO=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},PO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,i,o,s,l,c,u,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(s={},a=c=0,u=n.length;c<u;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),i=new kO(l,r),null==s[d=r.nameID]&&(s[d]=[]),s[r.nameID].push(i);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(yA){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),AO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),EO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,i,o,s;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),OO=[].slice,CO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,i,o,s,l,c,u;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,i=(o=new gO(t.read(r))).readShort(),l=o.readShort(),u=o.readShort(),s=o.readShort(),c=o.readShort(),this.cache[e]=-1===i?new LO(o,l,u,s,c):new TO(o,i,l,u,s,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,i,o,s;for(i=[],a=[],o=0,s=t.length;o<s;o++)r=e[t[o]],a.push(i.length),r&&(i=i.concat(r.encode(n)));return a.push(i.length),{table:i,offsets:a}},e}(),TO=function(){function e(e,t,n,r,a,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),LO=function(){function e(e,t,n,r,a){var i,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new gO(OO.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),DO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bO(e,mO),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,i=0;i<n.length;++i)if(n[i]=r,a<t.length&&t[a]==i){++a,n[i]=r;var o=this.offsets[i],s=this.offsets[i+1]-o;s>0&&(r+=s)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),FO=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,i,o,s;for(r={},i=0,o=e.length;i<o;i++)r[a=e[i]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in s=this.glyphsFor(t))n=s[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,i,o,s,l,c,u,d,h,f,p,m,g;for(r in n=jO.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),h={0:0},g=n.charMap)h[(s=g[r]).old]=s.new;for(f in d=n.maxGlyphID,i)f in h||(h[f]=d++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),u=Object.keys(c).sort((function(e,t){return e-t})),p=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)o=u[e],n.push(c[o]);return n}(),a=this.font.glyf.encode(i,p,h),l=this.font.loca.encode(a.offsets,p),m={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();function IO(e,t,n,r,a){r=r||{};var i=a.internal.scaleFactor,o=a.internal.getFontSize()/i,s=o*(a.getLineHeightFactor?a.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=o*(2-1.15),"middle"===r.valign?n-=c/2*s:"bottom"===r.valign&&(n-=c*s),"center"===r.halign||"right"===r.halign){var u=o;if("center"===r.halign&&(u*=.5),l&&c>=1){for(var d=0;d<l.length;d++)a.text(l[d],t-a.getStringUnitWidth(l[d])*u,n),n+=s;return a}t-=a.getStringUnitWidth(e)*u}return"justify"===r.halign?a.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(e,t,n),a}qA.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,i,o;if(Array.isArray(n))return"["+function(){var e,a,i;for(i=[],e=0,a=n.length;e<a;e++)r=n[e],i.push(t.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in i=["<<"],n)o=n[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join("\n")}return""+n},t}();var RO={},MO=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:RO=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,a,i;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){s=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(s)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),s=c[0])}if(this.jsPDFDocument.setFont(l,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var u=e.unifyColor(t.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),(u=e.unifyColor(t.textColor))&&(a=this.jsPDFDocument).setTextColor.apply(a,u),(u=e.unifyColor(t.lineColor))&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,a){return this.jsPDFDocument.rect(e,t,n,r,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return RO||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),BO=function(e,t){return BO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},BO(e,t)};function zO(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}BO(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}"function"===typeof SuppressedError&&SuppressedError;var UO=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return zO(t,e),t}(Array);function qO(e,t,n){n.applyStyles(t,!0);var r=(Array.isArray(e)?e:[e]).map((function(e){return n.getTextWidth(e)})).reduce((function(e,t){return Math.max(e,t)}),0);return r}function $O(e,t,n,r){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=WO(a,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function WO(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function HO(e,t){var n,r,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(a=e.right)&&void 0!==a?a:t,bottom:null!==(i=e.bottom)&&void 0!==i?i:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function KO(e,t){var n=HO(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function VO(e,t,n,r,a){var i={},o=96/72,s=GO(t,(function(e){return a.getComputedStyle(e).backgroundColor}));null!=s&&(i.fillColor=s);var l=GO(t,(function(e){return a.getComputedStyle(e).color}));null!=l&&(i.textColor=l);var c=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=n.map((function(e){return parseInt(e||"0")/r})),o=HO(i,0);a>o.top&&(o.top=a);a>o.bottom&&(o.bottom=a);return o}(r,n);c&&(i.cellPadding=c);var u="borderTopColor",d=o*n,h=r.borderTopWidth;if(r.borderBottomWidth===h&&r.borderRightWidth===h&&r.borderLeftWidth===h){var f=(parseFloat(h)||0)/d;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var p=GO(t,(function(e){return a.getComputedStyle(e)[u]}));null!=p&&(i.lineColor=p);var m=["left","right","center","justify"];-1!==m.indexOf(r.textAlign)&&(i.halign=r.textAlign),-1!==(m=["middle","bottom","top"]).indexOf(r.verticalAlign)&&(i.valign=r.verticalAlign);var g=parseInt(r.fontSize||"");isNaN(g)||(i.fontSize=g/o);var y=function(e){var t="";("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold");"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic");return t}(r);y&&(i.fontStyle=y);var x=(r.fontFamily||"").toLowerCase();return-1!==e.indexOf(x)&&(i.font=x),i}function GO(e,t){var n=YO(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function YO(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:YO(e.parentElement,t):n}function XO(e,t,n,r,a){var i,o,s;void 0===r&&(r=!1),void 0===a&&(a=!1),s="string"===typeof t?n.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],d=[],h=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var f=0;f<s.rows.length;f++){var p=s.rows[f],m=null===(o=null===(i=null===p||void 0===p?void 0:p.parentElement)||void 0===i?void 0:i.tagName)||void 0===o?void 0:o.toLowerCase(),g=QO(l,c,n,p,r,a);g&&("thead"===m?u.push(g):"tfoot"===m?h.push(g):d.push(g))}return{head:u,body:d,foot:h}}function QO(e,t,n,r,a,i){for(var o=new UO(r),s=0;s<r.cells.length;s++){var l=r.cells[s],c=n.getComputedStyle(l);if(a||"none"!==c.display){var u=void 0;i&&(u=VO(e,l,t,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:JO(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(a||"none"!==d.display))return o}function JO(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map((function(e){return e.trim()})).join("\n"),t.innerText||t.textContent||""}function ZO(e,t,n,r,a){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(null!=s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i}function eC(e,t){var n=new MO(e),r=n.getDocumentOptions(),a=n.getGlobalOptions();!function(e,t,n){for(var r=0,a=[e,t,n];r<a.length;r++){var i=a[r];i&&"object"!==typeof i&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&"number"!==typeof i.startY&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}(a,r,t);var i,o=ZO({},a,r,t);"undefined"!==typeof window&&(i=window);var s=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var i=e[a],o=t[a],s=n[a];r.columnStyles=ZO({},i,o,s)}else{var l=[e,t,n].map((function(e){return e[a]||{}}));r[a]=ZO({},l[0],l[1],l[2])}},i=0,o=Object.keys(r);i<o.length;i++){a(o[i])}return r}(a,r,t),l=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=[e,t,n];a<i.length;a++){var o=i[a];o.didParseCell&&r.didParseCell.push(o.didParseCell),o.willDrawCell&&r.willDrawCell.push(o.willDrawCell),o.didDrawCell&&r.didDrawCell.push(o.didDrawCell),o.willDrawPage&&r.willDrawPage.push(o.willDrawPage),o.didDrawPage&&r.didDrawPage.push(o.didDrawPage)}return r}(a,r,t),c=function(e,t){var n,r,a,i,o,s,l,c,u,d,h,f,p,m,g=HO(t.margin,40/e.scaleFactor()),y=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),a=e.pageNumber(),i=!1;if(n&&n.startPageNumber){i=n.startPageNumber+n.pageNumber-1===a}if("number"===typeof t)return t;if((null==t||!1===t)&&i&&null!=(null===n||void 0===n?void 0:n.finalY))return n.finalY+20/r;return null}(e,t.startY))&&void 0!==n?n:g.top;p=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage";m=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(a=t.showHead)&&void 0!==a?a:"everyPage";var x=null!==(i=t.useCss)&&void 0!==i&&i,b=t.theme||(x?"plain":"striped"),v=!!t.horizontalPageBreak,w=null!==(o=t.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(s=t.includeHiddenHtml)&&void 0!==s&&s,useCss:x,theme:b,startY:y,margin:g,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:m,showFoot:p,tableLineWidth:null!==(d=t.tableLineWidth)&&void 0!==d?d:0,tableLineColor:null!==(h=t.tableLineColor)&&void 0!==h?h:200,horizontalPageBreak:v,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(f=t.horizontalPageBreakBehaviour)&&void 0!==f?f:"afterAllRows"}}(n,o),u=function(e,t,n){var r=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var s=XO(e,t.html,n,o,t.useCss)||{};r=s.head||r,a=s.body||r,i=s.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],a=[];return Object.keys(r).filter((function(e){return"_element"!==e})).forEach((function(e){var t,n=1;"object"!==typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null===t||void 0===t?void 0:t.colSpan)||1);for(var i=0;i<n;i++){var o={dataKey:Array.isArray(r)?a.length:e+(i>0?"_".concat(i):"")};a.push(o)}})),a}(r,a,i);return{columns:l,head:r,body:a,foot:i}}(n,o,i);return{id:t.tableId,content:u,hooks:l,styles:s,settings:c}}var tC,nC=function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()},rC=function(e){function t(t,n,r,a,i,o){var s=e.call(this,t,n,o)||this;return s.cell=r,s.row=a,s.column=i,s.section=a.section,s}return zO(t,e),t}(nC),aC=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce((function(t,n){return t+n.getMaxCellHeight(e)}),0)},e.prototype.getFootHeight=function(e){return this.foot.reduce((function(t,n){return t+n.getMaxCellHeight(e)}),0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,a,i){for(var o=0,s=t;o<s.length;o++){var l=!1===(0,s[o])(new rC(e,this,n,r,a,i));if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){(0,r[n])(new nC(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){(0,r[n])(new nC(e,this,t))}},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce((function(e,t){return e+t.wrappedWidth}),0);var t=this.settings.margin;return e-t.left-t.right},e}(),iC=function(){function e(e,t,n,r,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof UO&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce((function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)}),0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter((function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1})).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce((function(e,r){var a=n.cells[r.index];if(!a)return 0;var i=t.getLineHeight(a.styles.fontSize),o=a.padding("vertical")+i;return o>e?o:e}),0)},e}(),oC=function(){function e(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(r=e.content)&&void 0!==r?r:e,e._element&&(this.raw=e._element));var i=null!=a?""+a:"";this.text=i.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=HO(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),sC=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var a=r[n].cells[this.index];a&&"number"===typeof a.styles.cellWidth&&(t=Math.max(t,a.styles.cellWidth))}return t},e}();function lC(e,t){!function(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,a=KO(e,t);t.allRows().forEach((function(i){for(var o=0,s=t.columns;o<s.length;o++){var l=s[o],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var d=c.padding("horizontal");c.contentWidth=qO(c.text,c.styles,e)+d;var h=qO(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),"number"===typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===r)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/n;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}})),t.allRows().forEach((function(e){for(var n=0,r=t.columns;n<r.length;n++){var a=r[n],i=e.cells[a.index];if(i&&1===i.colSpan)a.wrappedWidth=Math.max(a.wrappedWidth,i.wrappedWidth),a.minWidth=Math.max(a.minWidth,i.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,i.minReadableWidth);else{var o=t.styles.columnStyles[a.dataKey]||t.styles.columnStyles[a.index]||{},s=o.cellWidth||o.minCellWidth;s&&"number"===typeof s&&(a.minWidth=s,a.wrappedWidth=s)}i&&(i.colSpan>1&&!a.minWidth&&(a.minWidth=i.minWidth),i.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=i.minWidth))}}))}(e,t);var n=[],r=0;t.columns.forEach((function(e){var a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,n.push(e)),r+=e.width}));var a=t.getWidth(e.pageSize().width)-r;a&&(a=cC(n,a,(function(e){return Math.max(e.minReadableWidth,e.minWidth)}))),a&&(a=cC(n,a,(function(e){return e.minWidth}))),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],a=null,i=0,o=0,s=0;s<e.columns.length;s++){var l=e.columns[s];if((o-=1)>1&&e.columns[s+1])i+=l.width,delete r.cells[l.index];else if(a){var c=a;delete r.cells[l.index],a=null,c.width=l.width+i}else{if(!(c=r.cells[l.index]))continue;if(o=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}(t),function(e,t){for(var n={count:0,height:0},r=0,a=e.allRows();r<a.length;r++){for(var i=a[r],o=0,s=e.columns;o<s.length;o++){var l=s[o],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=uC(c.text,u,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=uC(c.text,u,c.styles,t,"");else if("function"===typeof c.styles.overflow){var d=c.styles.overflow(c.text,u);c.text="string"===typeof d?[d]:d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<h*c.rowSpan?n={height:h,count:c.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>i.height&&(i.height=h)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),a=0;a<r.length;a++)for(var i=r[a],o=0,s=e.columns;o<s.length;o++){var l=s[o],c=t[l.index];if(n>1)n--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,n=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var d=r.length-a,h=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}(t)}function cC(e,t,n){for(var r=t,a=e.reduce((function(e,t){return e+t.wrappedWidth}),0),i=0;i<e.length;i++){var o=e[i],s=r*(o.wrappedWidth/a),l=o.width+s,c=n(o),u=l<c?c:l;t-=u-o.width,o.width=u}if(t=Math.round(1e10*t)/1e10){var d=e.filter((function(e){return!(t<0)||e.width>n(e)}));d.length&&(t=cC(d,t,n))}return t}function uC(e,t,n,r,a){return e.map((function(e){return function(e,t,n,r,a){var i=1e4*r.scaleFactor();if(t=Math.ceil(t*i)/i,t>=qO(e,n,r))return e;for(;t<qO(e+a,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,n,r,a)}))}function dC(e,t){var n=new MO(e),r=function(e,t){var n=e.content,r=function(e){return e.map((function(e,t){var n,r;return r="object"===typeof e&&null!==(n=e.dataKey)&&void 0!==n?n:t,new sC(r,e,t)}))}(n.columns);if(0===n.head.length){(a=fC(r,"head"))&&n.head.push(a)}if(0===n.foot.length){var a;(a=fC(r,"foot"))&&n.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:r,head:hC("head",n.head,r,o,i,t),body:hC("body",n.body,r,o,i,t),foot:hC("foot",n.foot,r,o,i,t)}}(t,n.scaleFactor()),a=new aC(t,r);return lC(n,a),n.applyStyles(n.userStyles),a}function hC(e,t,n,r,a,i){var o={};return t.map((function(t,s){for(var l=0,c={},u=0,d=0,h=0,f=n;h<f.length;h++){var p=f[h];if(null==o[p.index]||0===o[p.index].left)if(0===d){var m=void 0,g={};"object"!==typeof(m=Array.isArray(t)?t[p.index-u-l]:t[p.dataKey])||Array.isArray(m)||(g=(null===m||void 0===m?void 0:m.styles)||{});var y=pC(e,p,s,a,r,i,g),x=new oC(m,y,e);c[p.dataKey]=x,c[p.index]=x,d=x.colSpan-1,o[p.index]={left:x.rowSpan-1,times:d}}else d--,u++;else o[p.index].left--,d=o[p.index].times,l++}return new iC(t,s,e,c)}))}function fC(e,t){var n={};return e.forEach((function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"===typeof t)return t.header||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}})),Object.keys(n).length>0?n:null}function pC(e,t,n,r,a,i,o){var s,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[r];"head"===e?s=a.headStyles:"body"===e?s=a.bodyStyles:"foot"===e&&(s=a.footStyles);var c=ZO({},l.table,l[e],a.styles,s),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},d="body"===e?u:{},h="body"===e&&n%2===0?ZO({},l.alternateRow,a.alternateRowStyles):{},f=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(i),p=ZO({},f,c,h,d);return ZO(p,o)}function mC(e,t,n){var r;void 0===n&&(n={});var a=KO(e,t),i=new Map,o=[],s=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach((function(e){var n=t.columns.find((function(t){return t.dataKey===e||t.index===e}));n&&!i.has(n.index)&&(i.set(n.index,!0),o.push(n.index),s.push(t.columns[n.index]),a-=n.wrappedWidth)}));for(var c=!0,u=null!==(r=null===n||void 0===n?void 0:n.start)&&void 0!==r?r:0;u<t.columns.length;)if(i.has(u))u++;else{var d=t.columns[u].wrappedWidth;if(!(c||a>=d))break;c=!1,o.push(u),s.push(t.columns[u]),a-=d,u++}return{colIndexes:o,columns:s,lastIndex:u-1}}function gC(e,t){var n=t.settings,r=n.startY,a=n.margin,i={x:a.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=r+a.bottom+o;"avoid"===n.pageBreak&&(s+=t.body.reduce((function(e,t){return e+t.height}),0));var l=new MO(e);("always"===n.pageBreak||null!=n.startY&&s>l.pageSize().height)&&(kC(l),i.y=a.top),t.callWillDrawPageHooks(l,i);var c=ZO({},i);t.startPageNumber=l.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var a=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var a=mC(e,t,{start:r});a.columns.length&&(n.push(a),r=a.lastIndex)}return n}(e,t),i=t.settings;if("afterAllRows"===i.horizontalPageBreakBehaviour)a.forEach((function(a,i){e.applyStyles(e.userStyles),i>0?_C(e,t,n,r,a.columns,!0):yC(e,t,r,a.columns),function(e,t,n,r,a){e.applyStyles(e.userStyles),t.body.forEach((function(i,o){var s=o===t.body.length-1;wC(e,t,i,s,n,r,a)}))}(e,t,n,r,a.columns),bC(e,t,r,a.columns)}));else for(var o=-1,s=a[0],l=function(){var i=o;if(s){e.applyStyles(e.userStyles);var l=s.columns;o>=0?_C(e,t,n,r,l,!0):yC(e,t,r,l),i=xC(e,t,o+1,r,l),bC(e,t,r,l)}var c=i-o;a.slice(1).forEach((function(a){e.applyStyles(e.userStyles),_C(e,t,n,r,a.columns,!0),xC(e,t,o+1,r,a.columns,c),bC(e,t,r,a.columns)})),o=i};o<t.body.length-1;)l()}(l,t,c,i):(l.applyStyles(l.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach((function(e){return jC(l,t,e,i,t.columns)})),l.applyStyles(l.userStyles),t.body.forEach((function(e,n){var r=n===t.body.length-1;wC(l,t,e,r,c,i,t.columns)})),l.applyStyles(l.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach((function(e){return jC(l,t,e,i,t.columns)}))),$O(l,t,c,i),t.callEndPageHooks(l,i),t.finalY=i.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function yC(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"firstPage"!==a.showHead&&"everyPage"!==a.showHead||t.head.forEach((function(a){return jC(e,t,a,n,r)}))}function xC(e,t,n,r,a,i){e.applyStyles(e.userStyles),i=null!==i&&void 0!==i?i:t.body.length;var o=Math.min(n+i,t.body.length),s=-1;return t.body.slice(n,o).forEach((function(i,o){var l=n+o===t.body.length-1,c=SC(e,t,l,r);i.canEntireRowFit(c,a)&&(jC(e,t,i,r,a),s=n+o)})),s}function bC(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),"lastPage"!==a.showFoot&&"everyPage"!==a.showFoot||t.foot.forEach((function(a){return jC(e,t,a,n,r)}))}function vC(e,t,n){var r=n.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/r);return Math.max(0,i)}function wC(e,t,n,r,a,i,o){var s=SC(e,t,r,i);if(n.canEntireRowFit(s,o))jC(e,t,n,i,o);else if(function(e,t,n,r){var a=e.pageSize().height,i=r.settings.margin,o=a-(i.top+i.bottom);"body"===t.section&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var s=t.getMinimumRowHeight(r.columns,e),l=s<n;if(s>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>o?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(e,n,s,t)){var l=function(e,t,n,r){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,s=n.columns;o<s.length;o++){var l=s[o];if(g=e.cells[l.index]){Array.isArray(g.text)||(g.text=[g.text]),(m=ZO(m=new oC(g.raw,g.styles,g.section),g)).text=[];var c=vC(g,t,r);g.text.length>c&&(m.text=g.text.splice(c,g.text.length));var u=r.scaleFactor(),d=r.getLineHeightFactor();g.contentHeight=g.getContentHeight(u,d),g.contentHeight>=t&&(g.contentHeight=t,m.styles.minCellHeight-=t),g.contentHeight>e.height&&(e.height=g.contentHeight),m.contentHeight=m.getContentHeight(u,d),m.contentHeight>i&&(i=m.contentHeight),a[l.index]=m}}var h=new iC(e.raw,-1,e.section,a,!0);h.height=i;for(var f=0,p=n.columns;f<p.length;f++){var m,g;l=p[f],(m=h.cells[l.index])&&(m.height=h.height),(g=e.cells[l.index])&&(g.height=e.height)}return h}(n,s,t,e);jC(e,t,n,i,o),_C(e,t,a,i,o),wC(e,t,l,r,a,i,o)}else _C(e,t,a,i,o),wC(e,t,n,r,a,i,o)}function jC(e,t,n,r,a){r.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var s=o[i],l=n.cells[s.index];if(l)if(e.applyStyles(l.styles),l.x=r.x,l.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,n,s,r)){NC(e,l,r);var c=l.getTextPos();IO(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,s,r),r.x+=s.width}else r.x+=s.width;else r.x+=s.width}r.y+=n.height}function NC(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof r.lineWidth){var a=WO(r.lineWidth,r.fillColor);a&&e.rect(t.x,n.y,t.width,t.height,a)}else"object"===typeof r.lineWidth&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var a,i,o,s;r.top&&(a=n.x,i=n.y,o=n.x+t.width,s=n.y,r.right&&(o+=.5*r.right),r.left&&(a-=.5*r.left),l(r.top,a,i,o,s));r.bottom&&(a=n.x,i=n.y+t.height,o=n.x+t.width,s=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(a-=.5*r.left),l(r.bottom,a,i,o,s));r.left&&(a=n.x,i=n.y,o=n.x,s=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.left,a,i,o,s));r.right&&(a=n.x+t.width,i=n.y,o=n.x+t.width,s=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.right,a,i,o,s));function l(t,n,r,a,i){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,a,i,"S")}}(e,t,n,r.lineWidth))}function SC(e,t,n,r){var a=t.settings.margin.bottom,i=t.settings.showFoot;return("everyPage"===i||"lastPage"===i&&n)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-a}function _C(e,t,n,r,a,i){void 0===a&&(a=[]),void 0===i&&(i=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||i||t.foot.forEach((function(n){return jC(e,t,n,r,a)})),t.callEndPageHooks(e,r);var o=t.settings.margin;$O(e,t,n,r),kC(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),"everyPage"===t.settings.showHead&&(t.head.forEach((function(n){return jC(e,t,n,r,a)})),e.applyStyles(e.userStyles))}function kC(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}try{if("undefined"!==typeof window&&window){var PC=window,AC=PC.jsPDF||(null===(tC=PC.jspdf)||void 0===tC?void 0:tC.jsPDF);AC&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gC(this,dC(this,eC(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,r){IO(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return MO.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){MO.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=XO(new MO(this),e,window,t,!1),a=r.head,i=r.body,o=(null===(n=a[0])||void 0===n?void 0:n.map((function(e){return e.content})))||[];return{columns:o,rows:i,data:i}}}(AC)}}catch(ZC){console.error("Could not apply autoTable plugin",ZC)}const EC={path:null,dataUrl:null},OC=async e=>{if(!e)return null;try{const t=String(e||"");(t.includes("/client/public/")||t.includes("public/logo"))&&(e="/logo.png")}catch(QC){}try{if(EC.path===e&&EC.dataUrl)return EC.dataUrl;const t=await fetch(e,{cache:"no-cache"});if(!t.ok)return null;const n=await t.blob(),r=await new Promise(((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)}));return EC.path=e,EC.dataUrl=r,r}catch(QC){return null}};(async()=>{try{await OC("/logo.png")}catch(QC){}})();const CC=(e,t,n)=>{if(!e&&!t)return"-";if(n)return e||"-";if(t){const e=t.toString();return e.includes("-")?e:`INV-${e}`}return e&&e.length<20?e:e||"-"},TC=async function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=new qA("p","mm","a4"),o=i.internal.pageSize.getWidth(),s=i.internal.pageSize.getHeight(),l=10,c={date:18,ref:18,description:75,debit:20,credit:20,balance:20};let u=l,d=a.logoDataUrl||null;if(!d){const e=a.logoPath||"/logo.png";d=await OC(e)}const h=()=>{if(u=l,d)try{i.addImage(d,"PNG",l,u,15,12)}catch(QC){i.setFillColor(41,128,185),i.rect(l,u,15,12,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont(void 0,"bold"),i.text("AR",14,u+7.5,{align:"center"})}else i.setFillColor(41,128,185),i.rect(l,u,15,12,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont(void 0,"bold"),i.text("AR",14,u+7.5,{align:"center"});i.setTextColor(0,0,0),i.setFontSize(14),i.setFont(void 0,"bold"),i.text(String(a.companyName||"A-Rauf Textile"),30,u+3),i.setFontSize(9),i.setFont(void 0,"normal"),i.setTextColor(60,60,60),i.text("General Ledger Statement",30,u+8),i.setDrawColor(41,128,185),i.setLineWidth(.5),i.line(l,u+13,o-l,u+13),u+=16,i.setFontSize(10),i.setFont(void 0,"bold"),i.setTextColor(41,128,185),i.text("Customer Information",l,u),u+=5,i.setFontSize(9),i.setFont(void 0,"normal"),i.setTextColor(0,0,0);[`Customer Name: ${(null===t||void 0===t?void 0:t.customer_name)||(null===t||void 0===t?void 0:t.customer)||"N/A"}`,`Customer ID: ${(null===t||void 0===t?void 0:t.customer_id)||"N/A"}`,"Account Type: General Ledger"].forEach((e=>{i.text(String(e),l,u),u+=4.5})),u+=2,i.setFont(void 0,"bold"),i.setTextColor(41,128,185),i.text("Report Details",l,u),u+=5,i.setFont(void 0,"normal"),i.setTextColor(0,0,0);[n&&r?`Period: ${LC(n)} to ${LC(r)}`:`Report Date: ${LC((new Date).toISOString().split("T")[0])}`,`Generated: ${(new Date).toLocaleString("en-PK")}`,`Total Entries: ${e.length}`].forEach((e=>{i.text(String(e),l,u),u+=4.5})),u+=5},f=function(){u+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:25)>s-l-16&&(i.addPage(),h(),p())},p=()=>{const e=["Date","Ref #","Description","Debit (PKR)","Credit (PKR)","Balance (PKR)"],t=["date","ref","description","debit","credit","balance"];i.setFillColor(41,128,185);let n=l;e.forEach(((e,r)=>{const a=c[t[r]];i.rect(n,u,a,12,"F"),n+=a})),i.setTextColor(255,255,255),i.setFont(void 0,"bold"),i.setFontSize(7.5),n=l,e.forEach(((e,r)=>{const a=c[t[r]],o=u+7;2===r?i.text(String(e),n+.5,o,{maxWidth:a-1,align:"left"}):i.text(String(e),n+a/2,o,{maxWidth:a-1,align:"center"}),n+=a})),i.setDrawColor(41,128,185),i.setLineWidth(.3),n=l,e.forEach(((e,r)=>{const a=c[t[r]];i.rect(n,u,a,12,"S"),n+=a})),i.setTextColor(0,0,0),i.setFont(void 0,"normal"),u+=12},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=["date","ref","description","debit","credit","balance"];arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(i.setFillColor(230,240,250),i.setFont(void 0,"bold"),i.setFontSize(8),i.setTextColor(41,128,185)):t?(i.setFillColor(245,248,250),i.setFont(void 0,"normal"),i.setFontSize(8),i.setTextColor(0,0,0)):(i.setFillColor(255,255,255),i.setFont(void 0,"normal"),i.setFontSize(8),i.setTextColor(0,0,0));let r=l;n.forEach((e=>{const t=c[e];i.rect(r,u,t,12,"F"),r+=t})),i.setDrawColor(180,180,180),i.setLineWidth(.2),r=l,n.forEach((e=>{const t=c[e];i.rect(r,u,t,12,"S"),r+=t})),r=l;n.forEach((t=>{const n=c[t];let a=String(e[t]||"-");const o={date:10,ref:15,description:60,debit:14,credit:14,balance:14};a.length>(o[t]||15)&&(a=a.substring(0,(o[t]||15)-2)+"..");const s=u+6.5;"debit"===t||"credit"===t||"balance"===t?i.text(a,r+n-1,s,{align:"right",maxWidth:n-2}):"description"===t?i.text(a,r+1,s,{maxWidth:n-2,align:"left"}):i.text(a,r+n/2,s,{maxWidth:n-2,align:"center"}),r+=n})),u+=12};h(),p();let g=0;const y=[];e.forEach((e=>{y.push(e),f(10);let t="-";if(e.itemsDetails&&e.itemsDetails.trim().length>0){const n=e.itemsDetails.split(":::").map((e=>{const t=e.split("|||");return{description:t[0]||"",quantity:t[1]?Number(t[1]):0,rate:t[2]?Number(t[2]):0}}));t=n.map((e=>`\u2022 ${e.description}${e.quantity?` (${e.quantity})`:""}`)).join(" | ")}else e.description&&(t=e.description);const n={date:LC(e.date),ref:CC(e.billNo,e.invoiceId,e.isManualEntry),description:t,debit:e._displayDebit?DC(e._displayDebit):"-",credit:e._displayCredit?DC(e._displayCredit):"-",balance:DC(e.balance)};m(n,g%2===1,!1),g++}));const x=y.reduce(((e,t)=>e+(null!==t._displayDebit&&void 0!==t._displayDebit?parseFloat(t._displayDebit):0)),0),b=y.reduce(((e,t)=>e+(null!==t._displayCredit&&void 0!==t._displayCredit?parseFloat(t._displayCredit):0)),0),v=y.length>0&&parseFloat(y[y.length-1].balance)||0;f(10);const w={date:"",ref:"",description:"TOTAL",debit:DC(x),credit:DC(b),balance:DC(v)};m(w,!1,!0),u+=10,i.setFontSize(11),i.setFont(void 0,"bold"),i.setTextColor(41,128,185),i.text("Account Summary",l,u),u+=8,i.setFontSize(9),i.setFont(void 0,"normal"),i.setTextColor(0,0,0);[["Total Entries:",`${y.length}`],["Total Debits:",DC(x)],["Total Credits:",DC(b)],["Account Balance:",DC(v)],["Balance Type:",v>0?"Customer Owes Us (Receivable)":v<0?"We Owe Customer (Payable)":"Zero Balance"]].forEach((e=>{let[t,n]=e;i.setFont(void 0,"bold"),i.text(String(t),l,u,{maxWidth:40}),i.setFont(void 0,"normal"),i.text(String(n),60,u),u+=5})),u+=5,i.setDrawColor(200,200,200),i.setLineWidth(.3),i.line(l,u,o-l,u),u+=6,i.setFontSize(8),i.setTextColor(100,100,100),i.setFont(void 0,"italic"),i.text("This is a computer-generated report and does not require a signature.",l,u);const j=i.internal.getNumberOfPages();for(let S=1;S<=j;S++)i.setPage(S),i.setFontSize(7),i.setTextColor(150,150,150),i.setFont(void 0,"normal"),i.text(`Page ${S} of ${j}`,o-l-15,s-l+3),i.setDrawColor(200,200,200),i.setLineWidth(.2),i.line(l,s-l,o-l,s-l);const N=`Ledger_${(null===t||void 0===t?void 0:t.customer_name)||(null===t||void 0===t?void 0:t.customer)||"Report"}_${(new Date).toISOString().split("T")[0]}.pdf`;i.save(N)},LC=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("en-PK",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(QC){return"-"}},DC=e=>{if(!e||isNaN(e))return"-";const t=parseFloat(e)||0;return new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},FC=()=>{const[e,t]=(0,r.useState)(null),[n]=(0,r.useState)((new Date).toISOString().split("T")[0]),[a,i]=(0,r.useState)([]),[o,s]=(0,r.useState)({}),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)((new Date).getMonth()+1),[p,m]=(0,r.useState)((new Date).getFullYear()),[g,y]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[S,_]=(0,r.useState)(!1),[k,P]=(0,r.useState)(null),[A,E]=(0,r.useState)(!1),[O,C]=(0,r.useState)({taxReturnPeriodFrom:"2024-07-01",taxReturnPeriodTo:"2025-10-30"}),[T,L]=(0,r.useState)({taxReturnPeriodFrom:"2024-07-01",taxReturnPeriodTo:"2025-10-30",companyName:"A-Rauf Textile",fiscalYearStart:"2024-07-01",fiscalYearEnd:"2025-06-30",currency:"PKR",decimalPlaces:"2",dateFormat:"DD/MM/YYYY",defaultPaymentMode:"Cash",autoBalance:!0,daysCalculation:!0,allowFutureDates:!1}),[D,F]=(0,r.useState)({date:"",particulars:"",description:"",mtr:"",rate:"",billNo:"",paymentMode:"Cash",chequeNo:"",entryType:"debit",salesTaxRate:0}),[I,R]=(0,r.useState)([{id:1,description:"",quantity:0,rate:0,type:"material",amount:0}]),[M,B]=(0,r.useState)(!1),z=Z(),U=te();(0,r.useEffect)((()=>{const e=localStorage.getItem("ledgerSettings");if(e)try{const t=JSON.parse(e);C({taxReturnPeriodFrom:t.taxReturnPeriodFrom||"2024-07-01",taxReturnPeriodTo:t.taxReturnPeriodTo||"2025-10-30"}),L({taxReturnPeriodFrom:t.taxReturnPeriodFrom||"2024-07-01",taxReturnPeriodTo:t.taxReturnPeriodTo||"2025-10-30",companyName:t.companyName||"A-Rauf Textile",fiscalYearStart:t.fiscalYearStart||"2024-07-01",fiscalYearEnd:t.fiscalYearEnd||"2025-06-30",currency:t.currency||"PKR",decimalPlaces:t.decimalPlaces||"2",dateFormat:t.dateFormat||"DD/MM/YYYY",defaultPaymentMode:t.defaultPaymentMode||"Cash",autoBalance:!1!==t.autoBalance,daysCalculation:!1!==t.daysCalculation,allowFutureDates:!0===t.allowFutureDates})}catch(t){console.error("Error loading ledger settings:",t)}}),[]);(0,r.useEffect)((()=>{c(!0);(async()=>{try{const e=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/v1/customertable`);if(!e.ok)throw new Error("Failed to fetch customers");const n=await e.json();if(i(n||[]),n&&n.length>0){const e=new URLSearchParams(z.search).get("customerId");e&&n.find((t=>String(t.customer_id)===String(e)))?t(String(e)):t(String(n[0].customer_id))}d(null)}catch(e){console.error("Error fetching customers:",e),d("Failed to load customers")}finally{c(!1)}})()}),[z.search]),(0,r.useEffect)((()=>{if(!e)return;c(!0);(async()=>{try{console.log(`[GeneralLedger] \ud83d\udce1 Fetching ledger-data for customer: ${e}`);let t=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/ledger-data/${e}`;const n=new URLSearchParams;g&&n.append("fromDate",g),x&&n.append("toDate",x),n.toString()&&(t+=`?${n.toString()}`);const r=await fetch(t);if(!r.ok)throw new Error("Failed to fetch invoice data");const a=await r.json();console.log("[GeneralLedger] \ud83d\udce6 Invoice API response:",a);const i=a.success&&a.data||[];console.log(`[GeneralLedger] \ud83d\udcca Parsed ${i.length} invoices from response`);let o=[];try{const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/ledger-entries/customer/${e}`);if(t.ok){const e=await t.json();e.success&&e.data&&e.data.entries&&(o=e.data.entries.map((e=>({date:e.entry_date,particulars:e.description||"Manual Entry",description:e.description||"",mtr:null!==e.mtr&&void 0!==e.mtr?parseFloat(e.mtr):null,rate:null!==e.rate&&void 0!==e.rate?parseFloat(e.rate):null,billNo:e.bill_no||"-",paymentMode:e.payment_mode||null,payment_mode:e.payment_mode||null,chequeNo:e.cheque_no||null,cheque_no:e.cheque_no||null,invoiceId:e.entry_id,dueDate:e.due_date,totalAmount:(parseFloat(e.debit_amount)||0)+(parseFloat(e.credit_amount)||0),subtotal:(parseFloat(e.debit_amount)||0)+(parseFloat(e.credit_amount)||0),debit:parseFloat(e.debit_amount)||0,credit:parseFloat(e.credit_amount)||0,type:"Manual Entry",status:e.status||"pending",taxRate:parseFloat(e.sales_tax_rate)||0,taxAmount:parseFloat(e.sales_tax_amount)||0,balance:parseFloat(e.balance)||0,isManualEntry:!0,entry_id:e.entry_id}))),console.log(`[GeneralLedger] \u2705 Loaded ${o.length} manual ledger entries from database`),console.log("[GeneralLedger] \ud83d\udccb Mapped manual entries:",o),o.forEach(((e,t)=>{console.log(`[GeneralLedger] Entry ${t}: payment_mode="${e.payment_mode}", paymentMode="${e.paymentMode}", cheque_no="${e.cheque_no}"`)})))}}catch(QC){console.warn("[GeneralLedger] Could not fetch manual ledger entries:",QC.message)}const l=[...i,...o];console.log(`[GeneralLedger] \u2705 Received ${i.length} invoice entries + ${o.length} manual entries = ${l.length} total for customer ${e}`),console.log("[GeneralLedger] \ud83d\udccb Combined entries:",l),s((t=>({...t,[e]:l}))),d(null)}catch(t){console.error("[GeneralLedger] Error fetching ledger data:",t),d("Failed to load ledger data"),s((t=>({...t,[e]:[]})))}finally{c(!1)}})()}),[e,g,x]);const q=(0,r.useMemo)((()=>{let t=o[e]||[];g&&x&&(t=t.filter((e=>{const t=new Date(e.date),n=new Date(g),r=new Date(x);return t>=n&&t<=r}))),t=t.sort(((e,t)=>new Date(e.date)-new Date(t.date)));let n=0;return t.map((e=>{const t=parseFloat(e.debit)||parseFloat(e.debit_amount)||0,r=parseFloat(e.credit)||parseFloat(e.credit_amount)||0,a=t>0?t:null,i=r>0?r:null;return{...e,_displayDebit:a,_displayCredit:i,balance:n+=(a||0)-(i||0)}}))}),[o,e,g,x]),$=(0,r.useMemo)((()=>{const e=q,t=e.reduce(((e,t)=>e+(null!==t._displayDebit&&parseFloat(t._displayDebit)||0)),0),n=e.reduce(((e,t)=>e+(null!==t._displayCredit&&parseFloat(t._displayCredit)||0)),0),r=t-n,a=e.length>0?r:0,i=e.filter((e=>e.dueDate&&new Date(e.dueDate)<new Date&&(parseFloat(e.balance)||0)>0)).length,o=e.filter((e=>null!==e.days)).reduce(((e,t)=>e+(parseFloat(t.days)||0)),0)/e.filter((e=>null!==e.days)).length||0,s=e.reduce(((e,t)=>e+(parseFloat(t.cash)||0)),0),l=e.reduce(((e,t)=>e+(parseFloat(t.online)||0)),0),c=e.reduce(((e,t)=>e+(parseFloat(t.cheque)||0)),0);return{totalDebit:t,totalCredit:n,currentBalance:a,netBalance:r,overdueEntries:i,totalEntries:e.length,averageDays:Math.round(o),totalCash:s,totalOnline:l,totalCheque:c}}),[q]),W=e=>{if(null===e||void 0===e||isNaN(e))return"Rs 0";const t=parseFloat(e)||0;return new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},H=(e,t,n)=>{R(I.map((r=>{if(r.id===e){const e={...r,[t]:n};return"quantity"!==t&&"rate"!==t||(e.amount=(Number(e.quantity)||0)*(Number(e.rate)||0)),e}return r})))},K=()=>I.reduce(((e,t)=>e+(t.amount||(Number(t.quantity)||0)*(Number(t.rate)||0))),0),V=()=>I.map((e=>`${e.description}|||${e.quantity}|||${e.rate}|||${e.type}`)).join(":::"),G=e=>{if(!e||"Invalid Date"===e)return"-";try{const t=new Date(e);return isNaN(t)?"-":t.toLocaleDateString("en-PK",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(QC){return"-"}},Y=(e,t,n)=>{if(!e&&!t)return"-";if(n)return e||"-";if(t){const e=t.toString();return e.includes("-")?e:`INV-${e}`}return e&&e.length<20?e:e||"-"};return l&&0===a.length?(0,Te.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-gray-600 font-semibold",children:"Loading ledger data..."})]})}):u?(0,Te.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Te.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Te.jsx)("h3",{className:"text-red-800 font-bold text-lg",children:"Error Loading Data"})]}),(0,Te.jsx)("p",{className:"text-red-700",children:u}),(0,Te.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})}):(0,Te.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4 sm:p-6 md:p-8",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,Te.jsx)("div",{className:"mb-8",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("button",{onClick:()=>U(-1),className:"inline-flex items-center justify-center w-10 h-10 rounded-lg bg-white hover:bg-slate-100 text-slate-600 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-200",children:(0,Te.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent",children:"General Ledger"}),(0,Te.jsxs)("p",{className:"text-slate-500 text-sm mt-1 font-medium",children:["Account Statement \u2022 ",new Date(n).toLocaleDateString("en-PK",{year:"numeric",month:"long",day:"numeric"}),(g||x)&&(0,Te.jsxs)("span",{className:"ml-3 text-blue-600 font-semibold",children:["\ud83d\udcc5 ",g?new Date(g).toLocaleDateString("en-PK",{day:"2-digit",month:"2-digit",year:"numeric"}):"Start"," \u2192 ",x?new Date(x).toLocaleDateString("en-PK",{day:"2-digit",month:"2-digit",year:"numeric"}):"End"]})]}),(a||[]).find((t=>String(t.customer_id)===String(e)))?(()=>{const t=(a||[]).find((t=>String(t.customer_id)===String(e)));return(0,Te.jsxs)("div",{className:"mt-2",children:[(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:"Customer"}),(0,Te.jsx)("div",{className:"flex items-baseline gap-3",children:(0,Te.jsx)("h2",{className:"text-xl md:text-2xl font-extrabold text-slate-900",children:t.customer_name||t.customer||"Unknown"})})]})})():null]})]}),(0,Te.jsx)("div",{className:"flex items-center gap-3",children:(0,Te.jsx)("button",{onClick:()=>N(!j),className:"inline-flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-200 border shadow-sm "+(j?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:shadow-md"),title:"Filter",children:(0,Te.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})})]})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,Te.jsx)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-200 group",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-slate-600 text-xs font-bold uppercase tracking-wider mb-2",children:"Total Debit"}),(0,Te.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:W($.totalDebit)})]}),(0,Te.jsx)("div",{className:"w-14 h-14 bg-red-50 rounded-xl flex items-center justify-center group-hover:bg-red-100 transition-colors duration-200",children:(0,Te.jsx)("svg",{className:"w-7 h-7 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4m0 0L3 5m0 0v8m0-8l4 4"})})})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-200 group",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-slate-600 text-xs font-bold uppercase tracking-wider mb-2",children:"Total Credit"}),(0,Te.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:W($.totalCredit)})]}),(0,Te.jsx)("div",{className:"w-14 h-14 bg-green-50 rounded-xl flex items-center justify-center group-hover:bg-green-100 transition-colors duration-200",children:(0,Te.jsx)("svg",{className:"w-7 h-7 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7H5v12a1 1 0 001 1h12a1 1 0 001-1V7m0 0V5a2 2 0 012 2v2m0 0h2a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V7m0 0h14"})})})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-200 group",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-slate-600 text-xs font-bold uppercase tracking-wider mb-2",children:"Balance"}),(0,Te.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-blue-600",children:W($.currentBalance)})]}),(0,Te.jsx)("div",{className:"w-14 h-14 bg-blue-50 rounded-xl flex items-center justify-center group-hover:bg-blue-100 transition-colors duration-200",children:(0,Te.jsx)("svg",{className:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-200 group",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-slate-600 text-xs font-bold uppercase tracking-wider mb-2",children:"Avg Days Out"}),(0,Te.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:$.averageDays})]}),(0,Te.jsx)("div",{className:"w-14 h-14 bg-purple-50 rounded-xl flex items-center justify-center group-hover:bg-purple-100 transition-colors duration-200",children:(0,Te.jsx)("svg",{className:"w-7 h-7 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,Te.jsxs)("div",{className:"px-6 py-5 border-b border-slate-200 flex items-center justify-between bg-gradient-to-r from-slate-50 to-slate-50",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:"Ledger Entries"}),(0,Te.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Showing ",q.length," transaction",1!==q.length?"s":""]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsxs)("button",{onClick:()=>TC(q,a.find((t=>String(t.customer_id)===String(e))),g,x,T),className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-bold shadow-md hover:shadow-lg transition-all duration-200",title:"Download PDF",children:[(0,Te.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2m0 0v-8m0 8H3m6-8h6"})}),"PDF"]}),(0,Te.jsx)("button",{onClick:()=>N(!j),className:"inline-flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-200 border shadow-sm "+(j?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:shadow-md"),title:"Filter",children:(0,Te.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),(0,Te.jsxs)("button",{onClick:()=>E(!A),className:"px-4 py-2 rounded-lg bg-slate-200 hover:bg-slate-300 text-slate-700 font-medium transition-all duration-200 flex items-center gap-2 text-sm",title:A?"Collapse table":"Expand table",children:[(0,Te.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A?(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),A?"Collapse":"Expand"]}),!j&&(0,Te.jsxs)("button",{onClick:()=>w(!0),className:"px-5 py-2.5 rounded-lg bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold transition-all duration-200 shadow-md hover:shadow-lg flex items-center gap-2 text-sm",children:[(0,Te.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})}),"New Entry"]})]})]}),j&&(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 bg-blue-50",children:[(0,Te.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-3 uppercase tracking-wider",children:"\ud83d\udcc5 Date Range"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,Te.jsx)("input",{type:"date",value:g,onChange:e=>y(e.target.value),className:"px-3 py-2.5 rounded-lg bg-white text-gray-900 border border-slate-300 hover:border-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 text-sm",placeholder:"From"}),(0,Te.jsx)("input",{type:"date",value:x,onChange:e=>b(e.target.value),className:"px-3 py-2.5 rounded-lg bg-white text-gray-900 border border-slate-300 hover:border-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 text-sm",placeholder:"To"}),(0,Te.jsx)("button",{onClick:()=>{y(""),b("")},className:"px-4 py-2.5 rounded-lg bg-slate-300 hover:bg-slate-400 text-slate-700 font-medium transition-all text-sm border border-slate-400",children:"Clear"}),(0,Te.jsxs)("button",{onClick:()=>w(!0),className:"px-5 py-2.5 rounded-lg bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold transition-all text-sm flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[(0,Te.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})}),"Add Entry"]})]})]}),(0,Te.jsx)("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg shadow-sm",children:(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-sm font-bold text-slate-800 mb-2",children:"Balance Legend:"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,Te.jsxs)("span",{className:"text-sm text-slate-700",children:[(0,Te.jsx)("strong",{children:"Positive Balance:"})," Customer owes us money"]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,Te.jsxs)("span",{className:"text-sm text-slate-700",children:[(0,Te.jsx)("strong",{children:"Negative Balance:"})," We owe the customer money (overpayment/credit)"]})]})]})]}),(0,Te.jsx)("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Te.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})]})}),(0,Te.jsx)("div",{className:"w-full "+(A?"max-h-[70vh] overflow-y-auto":""),children:(0,Te.jsxs)("table",{className:"w-full text-sm",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gradient-to-r from-slate-800 to-slate-900 border-b-2 border-slate-300 sticky top-0",children:[(0,Te.jsx)("th",{className:"px-6 py-4 text-left font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Date"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-left font-bold text-white text-xs uppercase tracking-wider",children:"Description"}),A&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("th",{className:"px-6 py-4 text-center font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Qty"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-center font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Rate"})]}),(0,Te.jsx)("th",{className:"px-6 py-4 text-center font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Ref #"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-center font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-center font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Payment"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-right font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Debit"}),(0,Te.jsx)("th",{className:"px-6 py-4 text-right font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Credit"}),(0,Te.jsx)("th",{className:"px-8 py-4 text-right font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider min-w-[140px]",children:"Balance"}),A&&(0,Te.jsx)("th",{className:"px-6 py-4 text-center font-bold text-white whitespace-nowrap text-xs uppercase tracking-wider",children:"Days"})]})}),(0,Te.jsx)("tbody",{className:"divide-y divide-slate-200",children:q.length>0?q.map(((e,t)=>{const r=(e=>{if(!e.invoiceId||"Draft"===e.status||"-"===e.billNo)return{status:"draft",label:"\u2022 Draft",color:"bg-slate-100 text-slate-700",badge:"bg-slate-200"};if("Paid"===e.status||"paid"===e.status||(e.credit||0)>=(e.debit||0))return{status:"paid",label:"\u2713 Paid",color:"bg-green-100 text-green-800",badge:"bg-green-200"};if(e.dueDate&&e.debit>0){const t=new Date(e.dueDate),r=new Date(n),a=Math.floor((r-t)/864e5);if(a>0)return{status:"overdue",label:`Overdue by ${a}d`,color:"bg-red-100 text-red-800",badge:"bg-red-200",daysOverdue:a};if(0===a)return{status:"due-today",label:"Due Today",color:"bg-orange-100 text-orange-800",badge:"bg-orange-200"}}return{status:"pending",label:"Pending",color:"bg-blue-100 text-blue-700",badge:"bg-blue-200"}})(e),a="paid"!==r.status&&"draft"!==r.status,i="overdue"===r.status;return(0,Te.jsxs)("tr",{className:"transition-all duration-300 border-l-4 "+(i?"bg-white hover:bg-slate-50 border-l-red-600":a?"bg-white hover:bg-slate-50 border-l-slate-400":"bg-white hover:bg-slate-50 border-l-slate-300"),children:[(0,Te.jsx)("td",{className:"px-6 py-4 text-slate-800 whitespace-nowrap text-sm font-semibold",children:G(e.date)}),(0,Te.jsx)("td",{className:"px-6 py-4 text-slate-700 text-sm",children:(()=>{const t=e.itemsDetails?e.itemsDetails.split(":::").map((e=>{const t=e.split("|||");return{desc:t[0]||"",qty:t[1]?Number(t[1]):null,rate:t[2]?Number(t[2]):null,type:t[3]||"material",amount:t[1]&&t[2]?Number(t[1])*Number(t[2]):0}})):e.description?e.description.split(", ").map((e=>({desc:e,qty:null,rate:null,type:"material",amount:0}))):[];if(0===t.length)return(0,Te.jsx)("span",{className:"text-slate-500",children:e.description||e.type||"-"});return 1===t.length?(0,Te.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Te.jsx)("div",{className:"font-semibold text-slate-900",children:t[0].desc}),null!=t[0].qty&&(0,Te.jsxs)("div",{className:"text-xs text-slate-500",children:[t[0].qty," \xd7 ",W(t[0].rate)," = ",W(t[0].amount)]})]}):(0,Te.jsx)("div",{className:"w-full",children:(0,Te.jsxs)("div",{className:"space-y-2",children:[t.map(((e,t)=>(0,Te.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Te.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-slate-300 text-slate-700 text-xs font-bold flex-shrink-0 text-center",style:{fontSize:"0.65rem"},children:t+1}),(0,Te.jsx)("div",{className:"flex-1 min-w-0",children:(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-800",children:e.desc})})]},t))),(0,Te.jsx)("div",{className:"border-t border-slate-200 pt-2 mt-2",children:(0,Te.jsxs)("div",{className:"text-xs text-slate-600 font-semibold",children:["Total: ",W(t.reduce(((e,t)=>e+t.amount),0))]})})]})})})()}),A&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("td",{className:"px-6 py-4 text-center text-slate-700 text-sm font-medium",children:e.mtr?e.mtr.toLocaleString():"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 text-center text-slate-700 text-sm font-medium",children:e.rate?e.rate.toLocaleString():"-"})]}),(0,Te.jsx)("td",{className:"px-6 py-4 text-center text-slate-900 text-sm font-bold",children:Y(e.billNo,e.invoiceId,e.isManualEntry)}),(0,Te.jsx)("td",{className:"px-6 py-4 text-center",children:"paid"===e.status&&e._displayDebit&&e._displayDebit>0?(0,Te.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-amber-100 text-amber-700 border border-amber-300",children:"PAID"}):(0,Te.jsx)("span",{className:`inline-flex items-center px-3 py-1.5 rounded text-xs font-medium ${r.color}`,children:r.label})}),(0,Te.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Te.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 rounded text-xs font-medium "+((e.payment_mode||e.paymentMode)&&"Pending"!==(e.payment_mode||e.paymentMode)?"bg-green-100 text-green-700":e.cash>0||e.online>0||e.cheque>0?"bg-slate-200 text-slate-700":"bg-slate-100 text-slate-600"),children:e.payment_mode&&"Pending"!==e.payment_mode?`via ${e.payment_mode}${"Cheque"===e.payment_mode&&(e.chequeNo||e.cheque_no)?` (${e.chequeNo||e.cheque_no})`:""}`:e.paymentMode&&"Pending"!==e.paymentMode?`via ${e.paymentMode}${"Cheque"===e.paymentMode&&(e.chequeNo||e.cheque_no)?` (${e.chequeNo||e.cheque_no})`:""}`:e.cash>0?"via Cash":e.online>0?"via Online":e.cheque>0?"via Cheque"+(e.chequeNo?` (${e.chequeNo})`:""):"-"})}),(0,Te.jsx)("td",{className:"px-6 py-4 text-right font-semibold text-slate-900",children:null!==e._displayDebit&&e._displayDebit>0?W(e._displayDebit):"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 text-right font-semibold text-slate-900",children:null!==e._displayCredit&&e._displayCredit>0?W(e._displayCredit):"-"}),(0,Te.jsx)("td",{className:"px-8 py-4 text-right font-bold text-slate-900 bg-slate-100 rounded-lg min-w-[140px]",children:W(e.balance)}),A&&(0,Te.jsx)("td",{className:"px-6 py-4 text-center font-semibold text-sm text-slate-700",children:e.days?`${e.days}d`:"-"})]},t)})):(0,Te.jsx)("tr",{children:(0,Te.jsxs)("td",{colSpan:"13",className:"px-6 py-16 text-center",children:[(0,Te.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-30 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Te.jsx)("p",{className:"font-semibold text-slate-600 text-lg",children:"No ledger entries found"}),(0,Te.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Try adjusting your filters or add new entries"})]})})}),(0,Te.jsx)("tfoot",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white border-t-2 border-slate-300",children:(0,Te.jsxs)("tr",{className:"font-bold",children:[(0,Te.jsx)("td",{colSpan:"4",className:"px-6 py-5 text-right text-sm uppercase tracking-wide",children:"Totals:"}),A&&(0,Te.jsx)("td",{colSpan:"2"}),(0,Te.jsx)("td",{colSpan:"1"}),(0,Te.jsx)("td",{className:"px-6 py-5 text-right text-lg",children:W($.totalDebit)}),(0,Te.jsx)("td",{className:"px-6 py-5 text-right text-lg",children:W($.totalCredit)}),(0,Te.jsx)("td",{className:"px-6 py-5 text-right text-lg",children:W($.netBalance)}),A&&(0,Te.jsx)("td",{colSpan:"1"})]})})]})})]}),v&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 px-8 py-6 flex items-center justify-between border-b border-slate-700",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New Ledger Entry"}),(0,Te.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Record a new transaction"})]}),(0,Te.jsx)("button",{onClick:()=>w(!1),className:"w-9 h-9 rounded-lg bg-slate-700 hover:bg-slate-600 flex items-center justify-center text-slate-300 hover:text-white transition-all",children:(0,Te.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Te.jsxs)("div",{className:"p-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Te.jsx)("h3",{className:"text-base font-bold text-slate-900",children:"Entry Mode"}),(0,Te.jsx)("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Select how to record"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>{B(!1),R([{id:1,description:"",quantity:0,rate:0,type:"material",amount:0}])},className:"p-4 rounded-lg border-2 transition-all text-left "+(M?"border-slate-200 bg-white hover:border-slate-300":"border-blue-500 bg-blue-50"),children:[(0,Te.jsx)("div",{className:"font-bold text-slate-900",children:"Single Entry"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Simple transaction record"})]}),(0,Te.jsxs)("button",{onClick:()=>{B(!0),R([{id:1,description:"",quantity:0,rate:0,type:"material",amount:0}])},className:"p-4 rounded-lg border-2 transition-all text-left "+(M?"border-blue-500 bg-blue-50":"border-slate-200 bg-white hover:border-slate-300"),children:[(0,Te.jsx)("div",{className:"font-bold text-slate-900",children:"Multiple Items"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Add multiple descriptions/rates"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-6 mb-6 border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider",children:"Transaction Details"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Date"}),(0,Te.jsx)("input",{type:"date",value:D.date,onChange:e=>F({...D,date:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all font-medium text-slate-900 bg-white"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bill #"}),(0,Te.jsx)("input",{type:"text",placeholder:"INV-1001",value:D.billNo,onChange:e=>F({...D,billNo:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all font-medium text-slate-900 bg-white placeholder-slate-400"})]})]})]}),M?(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsxs)("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bill #"}),(0,Te.jsx)("input",{type:"text",placeholder:"INV-1001",value:D.billNo,onChange:e=>F({...D,billNo:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all font-medium text-slate-900 bg-white"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("div",{children:(0,Te.jsx)("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-wider",children:"Line Items"})}),(0,Te.jsxs)("button",{onClick:()=>{const e=Math.max(...I.map((e=>e.id||0)),0)+1;R([...I,{id:e,description:"",quantity:0,rate:0,type:"material",amount:0}])},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold rounded-lg transition-all flex items-center gap-2",children:[(0,Te.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Item"]})]}),(0,Te.jsx)("div",{className:"space-y-3 max-h-[65vh] overflow-y-auto",children:I.map(((e,t)=>(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4 hover:border-slate-300 transition-all",children:[(0,Te.jsxs)("div",{className:"mb-3",children:[(0,Te.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 uppercase",children:"Description / Reference"}),(0,Te.jsx)("textarea",{placeholder:"e.g., Invoice INV-001, Reference details, Material description, etc.",value:e.description,onChange:t=>H(e.id,"description",t.target.value),rows:"2",className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all resize-none"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 mb-3",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 uppercase",children:"Qty"}),(0,Te.jsx)("input",{type:"number",placeholder:"0",value:e.quantity,onChange:t=>H(e.id,"quantity",t.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 uppercase",children:"Rate"}),(0,Te.jsx)("input",{type:"number",placeholder:"0",value:e.rate,onChange:t=>H(e.id,"rate",t.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 uppercase",children:"Tax %"}),(0,Te.jsx)("input",{type:"number",placeholder:"0",value:e.taxRate||0,onChange:t=>H(e.id,"taxRate",t.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 uppercase",children:"Amount"}),(0,Te.jsx)("div",{className:"px-3 py-2 bg-slate-100 rounded text-sm font-bold text-slate-900 border border-slate-300",children:W(e.amount)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 uppercase",children:"Total + Tax"}),(0,Te.jsx)("div",{className:"px-3 py-2 bg-blue-100 rounded text-sm font-bold text-blue-900 border border-blue-300",children:W(e.amount*(1+(e.taxRate||0)/100))})]}),(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 uppercase",children:"Action"}),(0,Te.jsx)("div",{className:"flex items-center gap-2 h-full",children:I.length>1&&(0,Te.jsx)("button",{onClick:()=>{return t=e.id,void(1!==I.length?R(I.filter((e=>e.id!==t))):alert("At least one item is required"));var t},className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-600 rounded transition-all font-semibold text-sm w-full",title:"Remove",children:(0,Te.jsx)("svg",{className:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]})]})]},e.id)))}),(0,Te.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 mt-4 text-white",children:(0,Te.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs font-semibold opacity-90",children:"Items"}),(0,Te.jsx)("p",{className:"text-2xl font-bold",children:I.length})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs font-semibold opacity-90",children:"Total Qty"}),(0,Te.jsx)("p",{className:"text-2xl font-bold",children:I.reduce(((e,t)=>e+Number(t.quantity)),0)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs font-semibold opacity-90",children:"Amount"}),(0,Te.jsx)("p",{className:"text-2xl font-bold",children:W(K())})]})]})})]}):(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-6 mb-6 border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider",children:"Material Details"}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),(0,Te.jsx)("textarea",{placeholder:"e.g., Cotton Fabric",value:D.description,onChange:e=>F({...D,description:e.target.value}),rows:"2",className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all font-medium text-slate-900 bg-white placeholder-slate-400 resize-none"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,Te.jsxs)("div",{className:"md:col-span-1",children:[(0,Te.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase",children:"Bill #"}),(0,Te.jsx)("input",{type:"text",placeholder:"INV-1001",value:D.billNo,onChange:e=>F({...D,billNo:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase",children:"Qty"}),(0,Te.jsx)("input",{type:"number",placeholder:"0",value:D.mtr,onChange:e=>F({...D,mtr:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase",children:"Rate"}),(0,Te.jsx)("input",{type:"number",placeholder:"0",value:D.rate,onChange:e=>F({...D,rate:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase",children:"Tax %"}),(0,Te.jsx)("input",{type:"number",placeholder:"0",value:D.salesTaxRate,onChange:e=>F({...D,salesTaxRate:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded bg-white text-slate-900 text-sm font-medium focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase",children:"Amount"}),(0,Te.jsx)("div",{className:"px-3 py-2 bg-slate-100 rounded text-sm font-bold text-slate-900 border border-slate-300",children:W((Number(D.mtr)||0)*(Number(D.rate)||0))})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase",children:"Total + Tax"}),(0,Te.jsx)("div",{className:"px-3 py-2 bg-blue-100 rounded text-sm font-bold text-blue-900 border border-blue-300",children:W((Number(D.mtr)||0)*(Number(D.rate)||0)*(1+(Number(D.salesTaxRate)||0)/100))})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-6 mb-6 border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider",children:"Transaction Type"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("label",{className:"flex items-center cursor-pointer p-3 rounded-lg hover:bg-white transition-all border-2 border-transparent hover:border-red-200",onClick:()=>F({...D,entryType:"debit"}),children:[(0,Te.jsx)("input",{type:"checkbox",checked:"debit"===D.entryType,onChange:()=>F({...D,entryType:"debit"}),className:"w-5 h-5 rounded border-slate-300 text-red-600 cursor-pointer"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("div",{className:"font-bold text-slate-900 text-lg",children:"\ud83d\udce5 Debit"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Amount In / Invoice - Customer owes us"})]})]}),(0,Te.jsxs)("label",{className:"flex items-center cursor-pointer p-3 rounded-lg hover:bg-white transition-all border-2 border-transparent hover:border-green-200",onClick:()=>F({...D,entryType:"credit"}),children:[(0,Te.jsx)("input",{type:"checkbox",checked:"credit"===D.entryType,onChange:()=>F({...D,entryType:"credit"}),className:"w-5 h-5 rounded border-slate-300 text-green-600 cursor-pointer"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("div",{className:"font-bold text-slate-900 text-lg",children:"\ud83d\udce4 Credit"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Amount Out / Payment - We owe customer"})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider",children:"Payment Details"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment Mode"}),(0,Te.jsxs)("select",{value:D.paymentMode||"Cash",onChange:e=>{const t=e.target.value;F({...D,paymentMode:t,chequeNo:"Cheque"===t||"Online"===t?D.chequeNo:""})},className:"w-full px-4 py-2.5 rounded-lg border-2 border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all font-medium text-slate-900 bg-white",children:[(0,Te.jsx)("option",{value:"Cash",children:"\ud83d\udcb5 Cash - Direct Payment"}),(0,Te.jsx)("option",{value:"Online",children:"\ud83c\udf10 Online - Bank Transfer"}),(0,Te.jsx)("option",{value:"Cheque",children:"\u2713 Cheque - Cheque Payment"})]})]}),("Cheque"===D.paymentMode||"Online"===D.paymentMode)&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Online"===D.paymentMode?"Transaction ID":"Cheque Number"," (Last 5 Digits)"]}),(0,Te.jsx)("input",{type:"text",placeholder:"e.g., 12345",value:D.chequeNo||"",onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,5);F({...D,chequeNo:t})},maxLength:"5",className:"w-full px-4 py-2.5 rounded-lg border-2 border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all font-medium text-slate-900 bg-white placeholder-slate-400"})]})]})]})]}),(0,Te.jsxs)("div",{className:"sticky bottom-0 bg-slate-50 border-t border-slate-200 px-8 py-4 flex justify-end gap-3",children:[(0,Te.jsx)("button",{onClick:()=>w(!1),className:"px-6 py-2.5 rounded-lg bg-slate-200 hover:bg-slate-300 text-slate-900 font-semibold transition-all",children:"Cancel"}),(0,Te.jsxs)("button",{onClick:async()=>{if(!D.date)return void alert("Please select an Entry Date");const t=[],n="debit"===D.entryType,r=parseFloat(D.salesTaxRate)||0,a=o[e]||[],i=a.length>0&&parseFloat(a[a.length-1].balance)||0;if(M){if(!I||0===I.length)return void alert("Please add at least one line item");for(let t=0;t<I.length;t++){const e=I[t];if(!e.description||""===String(e.description).trim())return void alert(`Please add a description for item ${t+1}`);if((Number(e.quantity)||0)<=0)return void alert(`Please enter a quantity greater than 0 for item ${t+1}`);if((Number(e.rate)||0)<=0)return void alert(`Please enter a rate greater than 0 for item ${t+1}`)}const e=K(),a=e*r/100,o=e,s=i+(n?o:-o),l={date:D.date,particulars:D.description||D.billNo||`Entry-${(new Date).getTime()}`,description:D.description||null,itemsDetails:V(),mtr:null,rate:null,billNo:D.billNo||null,cash:"Cash"===D.paymentMode?o:0,online:"Online"===D.paymentMode?o:0,cheque:"Cheque"===D.paymentMode?o:0,chequeNo:D.chequeNo||null,debit:n?o:0,credit:n?0:o,balance:s,days:0,dueDate:null,has_multiple_items:!0,isManualEntry:!0};if(t.push(l),r>0){const e=s+(n?a:-a);t.push({date:D.date,particulars:`Sales Tax @ ${r}%`,description:`${r}% sales tax on invoice`,itemsDetails:null,mtr:null,rate:null,billNo:D.billNo?`TAX-${D.billNo}`:"TAX",cash:0,online:0,cheque:0,chequeNo:null,debit:n?a:0,credit:n?0:a,balance:e,days:0,dueDate:null,has_multiple_items:!1,isManualEntry:!0})}}else{if(!D.mtr||Number(D.mtr)<=0)return void alert("Please enter Quantity (Mtr) greater than 0");if(!D.rate||Number(D.rate)<=0)return void alert("Please enter Rate greater than 0");const e=(Number(D.mtr)||0)*(Number(D.rate)||0),a=e*r/100,o=i+(n?e:-e),s={date:D.date,particulars:D.description||D.billNo||`Entry-${(new Date).getTime()}`,description:D.description||null,mtr:Number(D.mtr),rate:Number(D.rate),billNo:D.billNo||null,cash:"Cash"===D.paymentMode?e:0,online:"Online"===D.paymentMode?e:0,cheque:"Cheque"===D.paymentMode?e:0,chequeNo:D.chequeNo||null,debit:n?e:0,credit:n?0:e,balance:o,days:0,dueDate:null,has_multiple_items:!1,isManualEntry:!0};if(t.push(s),r>0){const e=o+(n?a:-a);t.push({date:D.date,particulars:`Sales Tax @ ${r}%`,description:`${r}% sales tax on material`,mtr:null,rate:null,billNo:D.billNo?`TAX-${D.billNo}`:"TAX",cash:0,online:0,cheque:0,chequeNo:null,debit:n?a:0,credit:n?0:a,balance:e,days:0,dueDate:null,has_multiple_items:!1,isManualEntry:!0})}}try{console.log("[GeneralLedger] Saving entries to backend:",t);const n=t.map((e=>{let t=[];return M&&!e.particulars.includes("Sales Tax")&&(t=I.map((e=>({description:e.description,quantity:Number(e.quantity)||0,rate:Number(e.rate)||0,type:e.type||"material",taxRate:Number(e.taxRate)||0})))),{entryDate:e.date,description:e.particulars,billNo:e.billNo,paymentMode:D.paymentMode,chequeNo:e.chequeNo,debitAmount:e.debit,creditAmount:e.credit,dueDate:e.dueDate,status:"paid",salesTaxRate:e.particulars.includes("Sales Tax")||M?0:parseFloat(D.salesTaxRate)||0,salesTaxAmount:e.particulars.includes("Sales Tax")?e.debit:0,useLineItems:M&&!e.particulars.includes("Sales Tax"),mtr:e.mtr,rate:e.rate,isTaxEntry:e.particulars.includes("Sales Tax"),lineItems:t.length>0?t:void 0,isMainEntry:!e.particulars.includes("Sales Tax"),isTaxEntry:e.particulars.includes("Sales Tax")}}));console.log("[GeneralLedger] \ud83d\udce4 Posting to backend with payload:",n);const r=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/ledger-entries/customer/${e}/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entries:n})});if(r.ok){const e=await r.json();console.log("[GeneralLedger] \u2705 Bulk entries saved to backend:",e)}else{console.warn("[GeneralLedger] Bulk endpoint not available, falling back to individual inserts");for(let t of n){const n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/ledger-entries/customer/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to save entry")}const r=await n.json();console.log("[GeneralLedger] \u2705 Entry saved to backend:",r)}}alert("\u2705 Entries saved successfully!")}catch(l){console.error("[GeneralLedger] \u274c Error saving entries to backend:",l),alert(`\u26a0\ufe0f Error saving to backend: ${l.message}\n\nEntries saved locally. Check server connection.`)}s((n=>({...n,[e]:[...n[e]||[],...t]}))),F({date:"",particulars:"",description:"",mtr:"",rate:"",billNo:"",paymentMode:"Cash",chequeNo:"",entryType:"debit",salesTaxRate:0}),R([{id:1,description:"",quantity:0,rate:0,type:"material",amount:0}]),w(!1),setTimeout((()=>{console.log("[GeneralLedger] \ud83d\udd04 Auto-refreshing ledger data after new entry..."),window.location.reload()}),500)},className:"px-6 py-2.5 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold transition-all shadow-md hover:shadow-lg flex items-center gap-2",children:[(0,Te.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})}),"Add Entry"]})]})]})})]})})},IC=()=>(0,Te.jsx)("div",{className:"min-h-screen bg-white",children:(0,Te.jsx)(FC,{})});var RC=n(7122),MC=n.n(RC);const BC=qe("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),zC=e=>{let{isOpen:t,onClose:n,onSuccess:a,initialData:i=null}=e;const[o,s]=(0,r.useState)({item_name:"",quantity:"",unit:"KG",price_per_unit:"",supplier_name:"",supplier_email:"",supplier_phone:"",purchase_date:(new Date).toISOString().split("T")[0],expiry_date:"",status:"Active"}),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),p=St((()=>{t&&m()}),t);(0,r.useEffect)((()=>{document.body.style.overflow=t?"hidden":"unset"}),[t]),(0,r.useEffect)((()=>{i&&t&&s({item_name:i.item_name||"",quantity:i.quantity||"",unit:i.unit||"KG",price_per_unit:i.price_per_unit||"",supplier_name:i.supplier_name||"",supplier_email:i.supplier_email||"",supplier_phone:i.supplier_phone||"",purchase_date:i.purchase_date||(new Date).toISOString().split("T")[0],expiry_date:i.expiry_date||"",status:i.status||"Active"})}),[i,t]);const m=()=>{s({item_name:"",quantity:"",unit:"KG",price_per_unit:"",supplier_name:"",supplier_email:"",supplier_phone:"",purchase_date:(new Date).toISOString().split("T")[0],expiry_date:"",status:"Active"}),d(null),f(!1),n()},g=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Te.jsxs)("div",{ref:p,className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,Te.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Stock Item"}),(0,Te.jsx)("button",{onClick:m,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,Te.jsx)(ut,{className:"w-6 h-6"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.item_name.trim())if(!o.quantity||parseFloat(o.quantity)<=0)d("Quantity must be greater than 0");else try{c(!0),d(null);const e=i&&i.id?"PUT":"POST",t=i&&i.id?`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/stock/${i.id}`:`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api"}/stock`,n=await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,quantity:parseFloat(o.quantity),price_per_unit:parseFloat(o.price_per_unit)||0})});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to add stock")}f(!0),s({item_name:"",quantity:"",unit:"KG",price_per_unit:"",supplier_name:"",supplier_email:"",supplier_phone:"",purchase_date:(new Date).toISOString().split("T")[0],expiry_date:"",status:"Active"}),setTimeout((()=>{a&&a(),m()}),1500)}catch(t){d(t.message||"Failed to add stock item"),console.error("Error adding stock:",t)}finally{c(!1)}else d("Item name is required")},className:"p-6 space-y-6",children:[h&&(0,Te.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,Te.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Stock item added successfully!"})]}),u&&(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[(0,Te.jsx)(kj,{className:"w-5 h-5 text-red-500"}),(0,Te.jsx)("p",{className:"text-red-700 text-sm",children:u})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-gray-900 mb-4 text-sm",children:"Item Details"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),(0,Te.jsx)("input",{type:"text",name:"item_name",value:o.item_name,onChange:g,placeholder:"e.g., Cotton Fabric Roll",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,Te.jsx)("input",{type:"number",name:"quantity",value:o.quantity,onChange:g,placeholder:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,Te.jsxs)("select",{name:"unit",value:o.unit,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Te.jsx)("option",{children:"KG"}),(0,Te.jsx)("option",{children:"LB"}),(0,Te.jsx)("option",{children:"MTR"}),(0,Te.jsx)("option",{children:"PCS"}),(0,Te.jsx)("option",{children:"BOX"}),(0,Te.jsx)("option",{children:"ROLL"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Per Unit (PKR)"}),(0,Te.jsx)("input",{type:"number",name:"price_per_unit",value:o.price_per_unit,onChange:g,placeholder:"0.00",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-gray-900 mb-4 text-sm",children:"Dates"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),(0,Te.jsx)("input",{type:"date",name:"purchase_date",value:o.purchase_date,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,Te.jsx)("input",{type:"date",name:"expiry_date",value:o.expiry_date,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-gray-900 mb-4 text-sm",children:"Supplier Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name"}),(0,Te.jsx)("input",{type:"text",name:"supplier_name",value:o.supplier_name,onChange:g,placeholder:"e.g., ABC Textiles Ltd",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Email"}),(0,Te.jsx)("input",{type:"email",name:"supplier_email",value:o.supplier_email,onChange:g,placeholder:"supplier@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Phone"}),(0,Te.jsx)("input",{type:"tel",name:"supplier_phone",value:o.supplier_phone,onChange:g,placeholder:"+92-XXX-XXXXXXX",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Te.jsxs)("select",{name:"status",value:o.status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Te.jsx)("option",{children:"Active"}),(0,Te.jsx)("option",{children:"Inactive"}),(0,Te.jsx)("option",{children:"Low Stock"}),(0,Te.jsx)("option",{children:"Discontinued"})]})]}),(0,Te.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[(0,Te.jsx)("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",disabled:l,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Adding Stock...":"Add Stock Item"})]})]})]})}):null},UC=e=>{let{isOpen:t,onClose:n,onSuccess:a,initialData:i=null}=e;const[o,s]=(0,r.useState)({item_name:"",quantity:"",unit:"KG",price_per_unit:"",supplier_name:"",supplier_email:"",supplier_phone:"",purchase_date:(new Date).toISOString().split("T")[0],expiry_date:"",status:"Active"}),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1);(0,r.useEffect)((()=>{i&&s({item_name:i.item_name||"",quantity:i.quantity||"",unit:i.unit||"KG",price_per_unit:i.price_per_unit||"",supplier_name:i.supplier_name||"",supplier_email:i.supplier_email||"",supplier_phone:i.supplier_phone||"",purchase_date:i.purchase_date||(new Date).toISOString().split("T")[0],expiry_date:i.expiry_date||"",status:i.status||"Active"})}),[i,t]),(0,r.useEffect)((()=>{t||setTimeout((()=>{s({item_name:"",quantity:"",unit:"KG",price_per_unit:"",supplier_name:"",supplier_email:"",supplier_phone:"",purchase_date:(new Date).toISOString().split("T")[0],expiry_date:"",status:"Active"}),d(null),f(!1)}),300)}),[t]);const p=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return t?(0,Te.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,Te.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:n}),(0,Te.jsxs)("div",{className:"relative ml-auto w-full max-w-md h-full bg-white shadow-xl overflow-y-auto transform transition-transform duration-300",children:[(0,Te.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:i?"Edit Stock Item":"Add New Stock Item"}),(0,Te.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,Te.jsx)(ut,{className:"w-5 h-5"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(null),o.item_name.trim())if(!o.quantity||Number(o.quantity)<=0)d("Quantity must be greater than 0");else try{c(!0);const e=i&&i.id?"PUT":"POST",t=i&&i.id?Ge.STOCK.UPDATE(i.id):Ge.STOCK.CREATE,r=await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,quantity:Number(o.quantity)||0,price_per_unit:Number(o.price_per_unit)||0})});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to add stock")}f(!0),setTimeout((()=>{a&&a(),n()}),700)}catch(t){d(t.message||"Failed to add stock item"),console.error("Error adding stock:",t)}finally{c(!1)}else d("Item name is required")},className:"p-6 space-y-6",children:[h&&(0,Te.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,Te.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Stock item added successfully!"})]}),u&&(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[(0,Te.jsx)(kj,{className:"w-5 h-5 text-red-500"}),(0,Te.jsx)("p",{className:"text-red-700 text-sm",children:u})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),(0,Te.jsx)("input",{type:"text",name:"item_name",value:o.item_name,onChange:p,placeholder:"e.g., Cotton Fabric Roll",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,Te.jsx)("input",{type:"number",name:"quantity",value:o.quantity,onChange:p,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,Te.jsxs)("select",{name:"unit",value:o.unit,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{children:"KG"}),(0,Te.jsx)("option",{children:"LB"}),(0,Te.jsx)("option",{children:"MTR"}),(0,Te.jsx)("option",{children:"PCS"}),(0,Te.jsx)("option",{children:"BOX"}),(0,Te.jsx)("option",{children:"ROLL"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Per Unit (PKR)"}),(0,Te.jsx)("input",{type:"number",name:"price_per_unit",value:o.price_per_unit,onChange:p,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),(0,Te.jsx)("input",{type:"date",name:"purchase_date",value:o.purchase_date,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,Te.jsx)("input",{type:"date",name:"expiry_date",value:o.expiry_date,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name"}),(0,Te.jsx)("input",{type:"text",name:"supplier_name",value:o.supplier_name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{className:"pt-4 border-t border-gray-200 flex justify-end gap-3",children:[(0,Te.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-100 rounded-lg",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:l?"Saving...":i?"Save Changes":"Add Stock"})]})]})]})]}):null},qC=e=>{let{isOpen:t,onClose:n,stock:r,onEdit:a}=e;return t&&r?(0,Te.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,Te.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:n}),(0,Te.jsxs)("div",{className:"relative ml-auto w-full max-w-md h-full bg-white shadow-xl overflow-y-auto transform transition-transform duration-300",children:[(0,Te.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:r.item_name}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-xs text-gray-700",children:r.status})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("button",{onClick:()=>a&&a(r),className:"px-2 py-1 text-blue-600 hover:bg-blue-50 rounded",children:(0,Te.jsx)(BC,{className:"w-4 h-4"})}),(0,Te.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,Te.jsx)(ut,{className:"w-5 h-5"})})]})]}),(0,Te.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Te.jsx)("p",{className:"text-gray-900",children:r.category||"-"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,Te.jsx)("p",{className:"text-gray-900",children:Number(r.quantity||0)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,Te.jsx)("p",{className:"text-gray-900",children:r.unit||"-"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Price / Unit"}),(0,Te.jsxs)("p",{className:"text-gray-900",children:["PKR ",(Number(r.price_per_unit)||0).toFixed(2)]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Total Value"}),(0,Te.jsxs)("p",{className:"text-gray-900",children:["PKR ",(Number(r.quantity||0)*(Number(r.price_per_unit)||0)).toFixed(2)]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),(0,Te.jsx)("p",{className:"text-gray-900",children:r.supplier_name||"-"}),r.supplier_email&&(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:r.supplier_email})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,Te.jsx)("p",{className:"text-gray-900",children:r.location||"-"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Te.jsx)("p",{className:"text-gray-900",children:r.description||"-"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Created At"}),(0,Te.jsx)("p",{className:"text-gray-900",children:r.created_at||"-"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Updated At"}),(0,Te.jsx)("p",{className:"text-gray-900",children:r.updated_at||"-"})]})]})]})]})]}):null},$C=e=>{let{openAddSidebar:t,openEditStock:n,refreshKey:a}=e;const[i,o]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)("All"),[y,x]=(0,r.useState)("All"),[b,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[N,S]=(0,r.useState)(null),[_,k]=(0,r.useState)(!1),[P,A]=(0,r.useState)(null),[E,O]=(0,r.useState)(1),[C,T]=(0,r.useState)("item_name"),[L,D]=(0,r.useState)("asc"),[F,I]=(0,r.useState)(0),[R,M]=(0,r.useState)(0),[B,z]=(0,r.useState)(0),[U,q]=(0,r.useState)(null);(0,r.useEffect)((()=>{$()}),[a]),(0,r.useEffect)((()=>{W()}),[i,f,m,y,C,L]);const $=async()=>{try{u(!0);const e=await fetch(Ge.STOCK.LIST);if(!e.ok)throw new Error("Failed to fetch stocks");const t=await e.json();o(t||[]);const n=t.reduce(((e,t)=>e+(parseFloat(t.quantity)||0)),0),r=t.reduce(((e,t)=>e+(parseFloat(t.quantity)||0)*(parseFloat(t.price_per_unit)||0)),0),a=t.filter((e=>Number(e.quantity)<=5)).length,i=t.reduce(((e,t)=>{const n=t.purchase_date||t.created_at||null;return n&&(!e||new Date(n)>new Date(e))?n:e}),null);I(n),M(r),z(a),q(i),h(null)}catch(e){h(e.message),console.error("Error fetching stocks:",e)}finally{u(!1)}},W=()=>{let e=[...i];f&&(e=e.filter((e=>{var t,n,r;return(null===(t=e.item_name)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(n=e.category)||void 0===n?void 0:n.toLowerCase().includes(f.toLowerCase()))||(null===(r=e.supplier_name)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))}))),"All"!==m&&(e=e.filter((e=>e.category===m))),"All"!==y&&(e=e.filter((e=>e.status===y))),e.sort(((e,t)=>{let n=e[C]||"",r=t[C]||"";return"string"===typeof n&&(n=n.toLowerCase(),r=r.toLowerCase()),"asc"===L?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0})),l(e),O(1)},H=s.slice(10*(E-1),10*E),K=Math.ceil(s.length/10);return c?(0,Te.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Te.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"Total Stock Items"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:F})]}),(0,Te.jsx)(Sn,{className:"w-10 h-10 text-blue-400 opacity-50"})]})}),(0,Te.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-4 border border-indigo-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-indigo-600 font-medium",children:"Total Stock Value"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-indigo-900 mt-2",children:(V=R,`PKR ${Number(V||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`)})]}),(0,Te.jsx)(Sn,{className:"w-10 h-10 text-indigo-400 opacity-50"})]})}),(0,Te.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-yellow-600 font-medium",children:"Low Stock"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-yellow-900 mt-2",children:B})]}),(0,Te.jsx)(Aj,{className:"w-10 h-10 text-yellow-400 opacity-50"})]})}),(0,Te.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-purple-600 font-medium",children:"Last Updated"}),(0,Te.jsx)("p",{className:"text-lg font-bold text-purple-900 mt-2",children:U?new Date(U).toLocaleDateString():(new Date).toLocaleDateString()})]}),(0,Te.jsx)("div",{className:"w-10 h-10 bg-purple-400 opacity-20 rounded-full"})]})})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Registered Stock"}),(0,Te.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Manage all company stock items"})]}),(0,Te.jsxs)("button",{onClick:()=>{S(null),"function"===typeof t?t(null):j(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 font-medium",children:[(0,Te.jsx)(bt,{className:"w-5 h-5"}),"Add Stock"]})]}),d&&(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[(0,Te.jsx)(kj,{className:"w-5 h-5 text-red-500"}),(0,Te.jsx)("p",{className:"text-red-700",children:d})]}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(xt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search stocks...",value:f,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsx)("select",{value:m,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:(()=>{const e=new Set(i.map((e=>e.category)).filter(Boolean));return["All",...Array.from(e)]})().map((e=>(0,Te.jsx)("option",{value:e,children:e},e)))}),(0,Te.jsx)("select",{value:y,onChange:e=>x(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:(()=>{const e=new Set(i.map((e=>e.status)).filter(Boolean));return["All",...Array.from(e)]})().map((e=>(0,Te.jsx)("option",{value:e,children:e},e)))}),(0,Te.jsxs)("select",{value:C,onChange:e=>T(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"item_name",children:"Sort by Name"}),(0,Te.jsx)("option",{value:"quantity",children:"Sort by Quantity"}),(0,Te.jsx)("option",{value:"price_per_unit",children:"Sort by Price"}),(0,Te.jsx)("option",{value:"purchase_date",children:"Sort by Date"})]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:0===s.length?(0,Te.jsx)("div",{className:"p-8 text-center",children:(0,Te.jsx)("p",{className:"text-gray-500",children:"No stock items found"})}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"w-full text-sm",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Item Name"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Category"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Quantity"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Unit"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Price/Unit"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Total Value"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-gray-700",children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:H.map(((e,t)=>{const r=Number(e.quantity)||0,a=Number(e.price_per_unit)||0,i=r*a;return(0,Te.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900 cursor-pointer",onClick:()=>{A(e),k(!0)},children:e.item_name}),(0,Te.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.category||"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.quantity}),(0,Te.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.unit||"-"}),(0,Te.jsxs)("td",{className:"px-6 py-4 text-gray-600",children:["PKR ",a.toFixed(2)]}),(0,Te.jsxs)("td",{className:"px-6 py-4 font-medium text-gray-900",children:["PKR ",i.toFixed(2)]}),(0,Te.jsx)("td",{className:"px-6 py-4",children:(0,Te.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("Active"===e.status?"bg-green-100 text-green-700":"Low Stock"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.status})}),(0,Te.jsx)("td",{className:"px-6 py-4",children:(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsx)("button",{onClick:()=>{"function"===typeof n?n(e):(S(e),j(!0))},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:(0,Te.jsx)(BC,{className:"w-4 h-4"})}),(0,Te.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this stock item?"))try{if(!(await fetch(Ge.STOCK.DELETE(e),{method:"DELETE"})).ok)throw new Error("Failed to delete stock");$()}catch(t){h(t.message)}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:(0,Te.jsx)(Nt,{className:"w-4 h-4"})})]})})]},e.id||t)}))})]})}),K>1&&(0,Te.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",10*(E-1)+1," to ",Math.min(10*E,s.length)," of ",s.length]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsx)("button",{onClick:()=>O((e=>Math.max(e-1,1))),disabled:1===E,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Te.jsx)(At,{className:"w-5 h-5"})}),(0,Te.jsxs)("span",{className:"px-3 py-2 text-sm text-gray-700 font-medium",children:["Page ",E," of ",K]}),(0,Te.jsx)("button",{onClick:()=>O((e=>Math.min(e+1,K))),disabled:E===K,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Te.jsx)(Et,{className:"w-5 h-5"})})]})]})]})}),(0,Te.jsx)(zC,{isOpen:b,onClose:()=>{v(!1),S(null)},onSuccess:()=>{$()}}),!t&&(0,Te.jsx)(UC,{isOpen:w,onClose:()=>{j(!1),S(null)},onSuccess:()=>{$()},initialData:N}),(0,Te.jsx)(qC,{isOpen:_,onClose:()=>k(!1),stock:P,onEdit:e=>{k(!1),S(e),j(!0)}})]});var V},WC=()=>{const[e,t]=(0,r.useState)("registered"),[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[s,l]=(0,r.useState)(0),c=function(){o((arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||null),a(!0)};return(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("main",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)($C,{openAddSidebar:c,openEditStock:e=>c(e),refreshKey:s}),(0,Te.jsx)(pt,{})]}),(0,Te.jsx)(UC,{isOpen:n,initialData:i,onClose:()=>{a(!1),o(null)},onSuccess:()=>{l((e=>e+1)),a(!1),o(null)}})]})},HC=[{month:"Jan",revenue:12e4,expenses:9e4},{month:"Feb",revenue:15e4,expenses:11e4},{month:"Mar",revenue:14e4,expenses:95e3},{month:"Apr",revenue:18e4,expenses:12e4},{month:"May",revenue:2e5,expenses:145e3},{month:"Jun",revenue:22e4,expenses:16e4},{month:"Jul",revenue:21e4,expenses:18e4},{month:"Aug",revenue:23e4,expenses:17e4},{month:"Sep",revenue:24e4,expenses:2e5},{month:"Oct",revenue:26e4,expenses:215e3},{month:"Nov",revenue:28e4,expenses:225e3},{month:"Dec",revenue:3e5,expenses:25e4}],KC=()=>{const[e,t]=(0,r.useState)("1y"),[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),d=te(),[h,f]=(0,r.useState)(HC),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[x,b]=(0,r.useState)([]),[v,w]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),S=e=>{if(!e)return"";try{if(e.includes("-")&&10===e.length){const[t,n,r]=e.split("-");return`${r}/${n}/${t}`}return new Date(e).toLocaleDateString("en-GB")}catch(QC){return e}};(0,r.useEffect)((()=>{(async()=>{m(!0);try{const e=await fetch(Ge.DASHBOARD.MONTHLY_FINANCIALS);if(!e.ok)throw new Error("No monthly financials API");const t=await e.json();t&&t.data?(f(t.data),y(null)):f(HC)}catch(e){f(HC)}finally{m(!1)}})();(async()=>{try{const e=await fetch(Ge.FINANCIAL_REPORTS.STORAGE_LIST);if(e.ok){const t=await e.json();if(t.success&&Array.isArray(t.data)){const e=t.data.map((e=>({id:e.report_id,generated:e.generated_at,description:e.description,range:e.range_type,start:e.start_date,end:e.end_date,shortId:e.short_id,dbId:e.id})));b(e)}}else b([])}catch(QC){console.warn("Failed to fetch reports from database:",QC),b([])}})()}),[]);const _=e=>{try{const t=e?new Date(e).getTime():Date.now();return`FR-${t.toString(36).slice(-5).toUpperCase()}`}catch(QC){return`FR-${String(e).slice(0,5)}`}};(0,r.useEffect)((()=>{const e=e=>{e.target.closest&&(e.target.closest(".report-menu")||e.target.closest(".report-menu-btn"))||w(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[]);"3m"===e?h.slice(-3):"6m"===e?h.slice(-6):"1y"===e&&h.slice(-12);return(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("main",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)("div",{className:"mb-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Company Financial Progress"}),(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:"At a glance progress of revenue, expenses and profitability"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsxs)("button",{onClick:()=>a(!n),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,Te.jsx)(vt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{className:"text-sm",children:"3m"===e?"3 months":"6m"===e?"6 months":"1y"===e?"1 year":"custom"===e?s&&c?`${S(s)} \u2192 ${S(c)}`:"Custom Range":"All"}),(0,Te.jsx)(ot,{className:"w-4 h-4 "+(n?"rotate-180":"")})]}),n&&(0,Te.jsxs)("div",{className:"absolute right-0 mt-2 w-72 bg-white border border-gray-100 rounded-md shadow-lg overflow-hidden z-20",children:[["3m","6m","1y","all"].map((n=>(0,Te.jsx)("button",{onClick:()=>{t(n),a(!1),o(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 "+(e===n?"bg-blue-50 text-blue-600":"text-gray-700"),children:"3m"===n?"3 Months":"6m"===n?"6 Months":"1y"===n?"1 Year":"All Time"},n))),(0,Te.jsxs)("div",{className:"border-t mt-1 pt-1",children:[(0,Te.jsx)("button",{onClick:()=>{o((e=>!e)),a(!0)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 "+(i?"bg-blue-50 text-blue-600":"text-gray-700"),children:"Custom Range"}),i&&(0,Te.jsx)("div",{className:"p-3 bg-gray-50 border-t border-gray-100",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("label",{className:"text-xs text-gray-600 font-medium",children:"From"}),(0,Te.jsxs)("div",{className:"mt-1 relative",children:[(0,Te.jsx)("input",{type:"date",value:s,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)(Kt,{className:"w-4 h-4 text-gray-400 absolute left-3 top-3"})]})]}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("label",{className:"text-xs text-gray-600 font-medium",children:"To"}),(0,Te.jsxs)("div",{className:"mt-1 relative",children:[(0,Te.jsx)("input",{type:"date",value:c,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)(Kt,{className:"w-4 h-4 text-gray-400 absolute left-3 top-3"})]})]}),s&&c&&(0,Te.jsxs)("div",{className:"p-2 bg-blue-50 rounded text-xs text-blue-700",children:[(0,Te.jsx)("strong",{className:"text-sm",children:"Selected:"})," ",S(s)," \u2192 ",S(c)]}),(0,Te.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Te.jsx)("button",{onClick:()=>{o(!1),l(""),u(""),a(!1)},className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),(0,Te.jsx)("button",{onClick:()=>{if(!s||!c)return void alert("Please select both start and end dates");new Date(s)>new Date(c)?alert("Start date must be before end date"):(t("custom"),o(!1),a(!1))},disabled:!s||!c,className:"px-3 py-1 rounded text-sm "+(s&&c?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:"Apply"})]})]})})]})]})]}),(0,Te.jsxs)("button",{onClick:async()=>{const t=(new Date).toISOString(),n=_(t);try{const r=await fetch(Ge.FINANCIAL_REPORTS.GENERATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportId:t,shortId:n,description:"A-Rauf Financial Report",rangeType:e,startDate:"custom"===e?s:null,endDate:"custom"===e?c:null,totalDebit:0,totalCredit:0,contacts:[],generatedBy:"user"})});if(r.ok){const a=await r.json(),i={id:t,generated:t,description:"A-Rauf Financial Report",range:e,start:"custom"===e?s:void 0,end:"custom"===e?c:void 0,shortId:n,dbId:a.data.id};b([i,...x])}else alert("Failed to save report")}catch(r){console.error("Error generating report:",r),alert("Error generating report")}},className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2",children:[(0,Te.jsx)(jj,{className:"w-4 h-4"}),"Generate Report"]})]})]})}),(0,Te.jsx)(VC,{openMenuId:v,menuRect:j,reports:x,onClose:()=>w(null),navigate:d,setReports:b}),(0,Te.jsxs)("div",{className:"mt-6 bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"Financial Report"}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500",children:["Generated: ",(new Date).toLocaleString()]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"w-full text-sm",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[(0,Te.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Financial ID"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Generated date & time"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Range"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Description"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Action"})]})}),(0,Te.jsx)("tbody",{children:0===x.length?(0,Te.jsx)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:(0,Te.jsxs)("td",{className:"px-4 py-3",colSpan:5,children:["No reports generated yet. Click ",(0,Te.jsx)("strong",{children:"Generate Report"})," to create one."]})}):x.map((e=>(0,Te.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50 relative",children:[(0,Te.jsx)("td",{className:"px-4 py-3 font-mono text-sm",title:e.id,children:e.shortId||_(e.generated||e.id)}),(0,Te.jsx)("td",{className:"px-4 py-3",children:new Date(e.generated).toLocaleString()}),(0,Te.jsx)("td",{className:"px-4 py-3",children:"custom"===e.range&&e.start&&e.end?`${S(e.start)} \u2192 ${S(e.end)}`:"3m"===e.range?"3 Months":"6m"===e.range?"6 Months":"1y"===e.range?"1 Year":e.range||"All"}),(0,Te.jsx)("td",{className:"px-4 py-3",children:e.description}),(0,Te.jsx)("td",{className:"px-4 py-3",children:(0,Te.jsx)("div",{className:"relative inline-block",children:(0,Te.jsx)("button",{onClick:t=>{t.stopPropagation();const n=t.currentTarget.getBoundingClientRect();N(n),w(v===e.id?null:e.id)},className:"p-2 rounded-md hover:bg-gray-100 report-menu-btn",children:(0,Te.jsx)(kn,{className:"w-5 h-5 text-gray-600"})})})})]},e.id)))})]})})]}),(0,Te.jsx)(pt,{})]})]})};function VC(e){let{openMenuId:t,menuRect:n,reports:r,onClose:a,navigate:i,setReports:s}=e;if(!t||!n)return null;const l=r.find((e=>e.id===t));if(!l)return null;const c={position:"fixed",left:Math.max(8,n.right-160),top:n.bottom+8,width:160,zIndex:9999};return(0,o.createPortal)((0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded-md shadow-lg report-menu",style:c,onClick:e=>e.stopPropagation(),children:[(0,Te.jsx)("button",{onClick:()=>{a(),i(`/financial-report?generated=${encodeURIComponent(l.generated)}&id=${encodeURIComponent(l.shortId||l.id)}&range=${encodeURIComponent(l.range||"all")}${l.start&&l.end?`&start=${encodeURIComponent(l.start)}&end=${encodeURIComponent(l.end)}`:""}`)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",children:"View"}),(0,Te.jsx)("button",{onClick:()=>{a(),window.open(`/financial-report?generated=${encodeURIComponent(l.generated)}&id=${encodeURIComponent(l.shortId||l.id)}&download=1${l.start&&l.end?`&start=${encodeURIComponent(l.start)}&end=${encodeURIComponent(l.end)}`:""}`,"_blank")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",children:"Download"}),(0,Te.jsx)("button",{onClick:()=>{var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(l.shortId||l.id),a()},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",children:"Copy ID"}),(0,Te.jsx)("button",{onClick:async()=>{if(a(),window.confirm("Delete this report? This action cannot be undone."))try{(await fetch(Ge.FINANCIAL_REPORTS.STORAGE_GET(l.shortId||l.id),{method:"DELETE"})).ok?s((e=>e.filter((e=>e.id!==l.id)))):alert("Failed to delete report")}catch(e){console.error("Error deleting report:",e),alert("Error deleting report")}},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:"Delete"})]}),document.body)}const GC=()=>{const e=te(),{search:t}=Z(),n=new URLSearchParams(t),a=n.get("generated"),i=a?new Date(a):new Date,o=n.get("id"),s=n.get("range"),l=n.get("start"),c=n.get("end"),u=n.get("download"),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)({debit:0,credit:0}),[y,x]=(0,r.useState)(!0),[b,v]=(0,r.useState)(null),w=m.debit-m.credit;(0,r.useEffect)((()=>{(async()=>{try{x(!0),v(null);const e=new URLSearchParams;s&&e.append("range",s),"custom"===s&&l&&c&&(e.append("startDate",l),e.append("endDate",c));const t=await fetch(`${Ge.FINANCIAL_REPORTS.CONTACT_BALANCES}?${e}`);if(!t.ok)throw new Error("Failed to fetch financial data");const n=await t.json();if(!n.success)throw new Error(n.error||"Failed to load data");{const e=n.data.contacts.map((e=>({id:e.customer_id,name:e.company_name||e.contact_name,contact:e.contact_name,email:e.email,phone:e.phone,debit:Number(e.total_debit||0),credit:Number(e.total_credit||0)})));p(e),g({debit:Number(n.data.totals.debit||0),credit:Number(n.data.totals.credit||0)})}}catch(e){console.error("Error fetching financial data:",e),v(e.message),p([]),g({debit:0,credit:0})}finally{x(!1)}})()}),[s,l,c]);const j=e=>`PKR ${Number(e||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,N=e=>{try{return new Date(e).toLocaleDateString("en-GB")}catch(QC){return e||""}},S=()=>{try{const e=new qA("p","mm","a4"),t=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),r=14,a=12,u=()=>{e.setDrawColor(52,115,214),e.setLineWidth(.5),e.line(r,12,t-r,12),e.setFontSize(16),e.setTextColor(52,115,214),e.setFont(void 0,"bold"),e.text("A-RAUF TEXTILE",r,20),e.setFontSize(14),e.setTextColor(34,34,34),e.setFont(void 0,"normal"),e.text("Financial Report",t/2,20,{align:"center"}),e.setFontSize(9),e.setTextColor(100,100,100),e.text(`Generated: ${i.toLocaleString()}`,t-r,17,{align:"right"}),o&&e.text(`Report ID: ${o}`,t-r,21,{align:"right"}),e.setDrawColor(200,200,200),e.setLineWidth(.3),e.line(r,24,t-r,24)};u();let d=28;if(e.setFontSize(11),e.setTextColor(52,115,214),e.setFont(void 0,"bold"),e.text("Summary",r,d),d+=6,e.setFillColor(245,247,250),e.rect(r,d,t-2*r,20,"F"),e.setFontSize(10),e.setTextColor(34,34,34),e.setFont(void 0,"normal"),e.text(`Total Debit: ${j(m.debit)}`,r+3,d+6),e.text(`Total Credit: ${j(m.credit)}`,r+3,d+12),e.text(`Total Balance: ${j(w)}`,r+3,d+18),s){const n="custom"===s&&l&&c?`Period: ${N(l)} to ${N(c)}`:`Period: ${s}`;e.text(n,t-r-50,d+6)}d+=26,e.setFontSize(11),e.setTextColor(52,115,214),e.setFont(void 0,"bold"),e.text("Contact Balances",r,d),d+=5;const h=[["Contact Person","Company/Name","Debit (PKR)","Credit (PKR)","Balance (PKR)"]],p=f.map((e=>[e.contact||"-",e.name||"-",e.debit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),e.credit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),(e.debit-e.credit).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]));p.push(["","TOTALS",m.debit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),m.credit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),w.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]),function(e,t){gC(e,dC(e,eC(e,t)))}(e,{head:h,body:p,startY:d,margin:{top:35,right:r,bottom:a+5,left:r},pageBreak:"auto",theme:"grid",headStyles:{fillColor:[52,115,214],textColor:[255,255,255],halign:"center",valign:"middle",lineColor:[52,115,214],lineWidth:.5,fontStyle:"bold"},bodyStyles:{textColor:[34,34,34],lineColor:[220,220,220],lineWidth:.3,halign:"right"},footStyles:{fillColor:[245,247,250],textColor:[34,34,34],fontStyle:"bold",lineColor:[52,115,214],lineWidth:.5},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didDrawPage:a=>{const i=e.internal.getNumberOfPages();i>1&&u();const o=n-8;e.setDrawColor(200,200,200),e.setLineWidth(.3),e.line(r,o-3,t-r,o-3),e.setFontSize(8),e.setTextColor(120,120,120),e.text(`Page ${i}`,t/2,o,{align:"center"}),e.text("\xa9 2025 A-Rauf Textile. All rights reserved.",r,o+3)}}),e.save("A-Rauf-Textile-Financial-Report.pdf")}catch(e){console.error("Error generating PDF:",e),alert("Error generating PDF: "+e.message)}};return(0,r.useEffect)((()=>{u&&(h(!0),setTimeout((()=>{try{S()}finally{h(!1)}}),250))}),[u]),(0,Te.jsxs)("div",{className:"flex bg-[#F5F5F5] min-h-screen p-4",children:[(0,Te.jsx)("div",{className:"hidden md:block fixed h-screen w-64 z-20",children:(0,Te.jsx)(rt,{})}),(0,Te.jsxs)("main",{className:"flex-1 p-6 bg-[#F5F5F5] md:ml-64",children:[(0,Te.jsx)(ft,{}),(0,Te.jsx)("div",{className:"mb-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Report"}),(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:"Generated report details"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Report ID"}),(0,Te.jsx)("p",{className:"font-mono text-sm",children:o||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Range"}),(0,Te.jsx)("p",{className:"text-sm",children:"custom"===s&&l&&c?`${N(l)} \u2192 ${N(c)}`:s||"All"})]}),(0,Te.jsx)("div",{children:(0,Te.jsx)("button",{onClick:()=>e(-1),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:"Back"})})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:y?(0,Te.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):b?(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,Te.jsxs)("p",{className:"text-red-700",children:["Error loading report: ",b]})}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Report ID"}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"font-mono text-sm text-gray-800",children:o||"N/A"}),o&&(0,Te.jsx)("button",{onClick:()=>{var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(o),alert("Report ID copied")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Copy"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Range"}),(0,Te.jsx)("p",{className:"text-sm font-medium",children:"custom"===s&&l&&c?`${l} \u2192 ${c}`:s||"All"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-100",children:[(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Total Debit"}),(0,Te.jsx)("p",{className:"text-2xl font-bold mt-2 text-gray-900",children:j(m.debit)})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-100",children:[(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Total Credit"}),(0,Te.jsx)("p",{className:"text-2xl font-bold mt-2 text-gray-900",children:j(m.credit)})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-100",children:[(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Total Balance"}),(0,Te.jsx)("p",{className:"text-2xl font-bold mt-2 "+(w>=0?"text-green-600":"text-red-600"),children:j(w)})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Te.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"Contact Balances"}),(0,Te.jsx)("div",{className:"flex items-center gap-2",children:(0,Te.jsx)("button",{onClick:S,className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Download PDF"})})]}),0===f.length?(0,Te.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Te.jsx)("p",{children:"No financial data available for the selected period."})}):(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"w-full text-sm",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[(0,Te.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Contact Person"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Company/Name"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-right font-medium text-gray-700",children:"Debit (PKR)"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-right font-medium text-gray-700",children:"Credit (PKR)"}),(0,Te.jsx)("th",{className:"px-4 py-3 text-right font-medium text-gray-700",children:"Balance (PKR)"})]})}),(0,Te.jsxs)("tbody",{children:[f.map((e=>(0,Te.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-3",children:e.contact}),(0,Te.jsx)("td",{className:"px-4 py-3",children:e.name}),(0,Te.jsx)("td",{className:"px-4 py-3 text-right font-medium",children:j(e.debit)}),(0,Te.jsx)("td",{className:"px-4 py-3 text-right font-medium",children:j(e.credit)}),(0,Te.jsx)("td",{className:"px-4 py-3 text-right font-medium "+(e.debit-e.credit>=0?"text-green-600":"text-red-600"),children:j(e.debit-e.credit)})]},e.id))),(0,Te.jsxs)("tr",{className:"bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-4 py-3 font-semibold",colSpan:"2",children:"Totals"}),(0,Te.jsx)("td",{className:"px-4 py-3 text-right font-semibold",children:j(m.debit)}),(0,Te.jsx)("td",{className:"px-4 py-3 text-right font-semibold",children:j(m.credit)}),(0,Te.jsx)("td",{className:"px-4 py-3 text-right font-semibold",children:j(w)})]})]})]})})]})]})}),(0,Te.jsx)(pt,{})]})]})};const YC=function(){return(0,Te.jsx)("div",{className:"App font-sans min-h-screen bg-gray-50",children:(0,Te.jsx)(De,{children:(0,Te.jsx)(ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Te.jsxs)(ve,{children:[(0,Te.jsx)(xe,{path:"/login",element:(0,Te.jsx)(Qe,{})}),(0,Te.jsx)(xe,{path:"/signup",element:(0,Te.jsx)(et,{})}),(0,Te.jsx)(xe,{path:"/",element:(0,Te.jsx)(Qe,{})})," ",(0,Te.jsx)(xe,{path:"/dashboard",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Ej,{})})}),(0,Te.jsx)(xe,{path:"/invoices",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(It,{})})}),(0,Te.jsx)(xe,{path:"/report",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Ut,{})})}),(0,Te.jsx)(xe,{path:"/customers",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Gt,{})})}),(0,Te.jsx)(xe,{path:"/settings",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(fn,{})})}),(0,Te.jsx)(xe,{path:"/invoiceform",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Cj,{})})}),(0,Te.jsx)(xe,{path:"/expense",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Fj,{})})}),(0,Te.jsx)(xe,{path:"/reportdata",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Uj,{})})}),(0,Te.jsx)(xe,{path:"/invoice/:id",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Hj,{})})}),(0,Te.jsx)(xe,{path:"/invoice/:type/:id",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Hj,{})})}),(0,Te.jsx)(xe,{path:"/purchase-order",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Jj,{})})}),(0,Te.jsx)(xe,{path:"/purchase-order/:poId",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(Jj,{})})}),(0,Te.jsx)(xe,{path:"/stock",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(WC,{})})}),(0,Te.jsx)(xe,{path:"/company-financial-progress",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(KC,{})})}),(0,Te.jsx)(xe,{path:"/financial-report",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(GC,{})})}),(0,Te.jsx)(xe,{path:"/ledger",element:(0,Te.jsx)(IC,{})}),(0,Te.jsx)(xe,{path:"/financial-year",element:(0,Te.jsx)(Zj,{children:(0,Te.jsx)(MC(),{})})})]})})})})},XC=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:o}=t;n(e),r(e),a(e),i(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Te.jsx)(r.StrictMode,{children:(0,Te.jsx)(YC,{})})),XC()})()})();
//# sourceMappingURL=main.4a6c2631.js.map